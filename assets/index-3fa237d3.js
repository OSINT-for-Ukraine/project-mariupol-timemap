(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Qs={},HC={get exports(){return Qs},set exports(e){Qs=e}},fc={},te={},WC={get exports(){return te},set exports(e){te=e}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),qC=Symbol.for("react.portal"),VC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),GC=Symbol.for("react.profiler"),YC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),XC=Symbol.for("react.forward_ref"),QC=Symbol.for("react.suspense"),JC=Symbol.for("react.memo"),eP=Symbol.for("react.lazy"),Cy=Symbol.iterator;function tP(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fb=Object.assign,zb={};function Xo(e,t,n){this.props=e,this.context=t,this.refs=zb,this.updater=n||$b}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jb(){}jb.prototype=Xo.prototype;function Yp(e,t,n){this.props=e,this.context=t,this.refs=zb,this.updater=n||$b}var Kp=Yp.prototype=new jb;Kp.constructor=Yp;Fb(Kp,Xo.prototype);Kp.isPureReactComponent=!0;var Py=Array.isArray,Ub=Object.prototype.hasOwnProperty,Xp={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ub.call(t,r)&&!Bb.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var d=Array(l),y=0;y<l;y++)d[y]=arguments[y+2];i.children=d}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Sa,type:e,key:s,ref:a,props:i,_owner:Xp.current}}function nP(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sa}function rP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ay=/\/+/g;function Wd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rP(""+e.key):t.toString(36)}function Pl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sa:case qC:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Wd(a,0):r,Py(i)?(n="",e!=null&&(n=e.replace(Ay,"$&/")+"/"),Pl(i,t,n,"",function(y){return y})):i!=null&&(Qp(i)&&(i=nP(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ay,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Py(e))for(var l=0;l<e.length;l++){s=e[l];var d=r+Wd(s,l);a+=Pl(s,t,n,d,i)}else if(d=tP(e),typeof d=="function")for(e=d.call(e),l=0;!(s=e.next()).done;)s=s.value,d=r+Wd(s,l++),a+=Pl(s,t,n,d,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function nl(e,t,n){if(e==null)return e;var r=[],i=0;return Pl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function iP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},Al={transition:null},oP={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Xp};Re.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!Qp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Xo;Re.Fragment=VC;Re.Profiler=GC;Re.PureComponent=Yp;Re.StrictMode=ZC;Re.Suspense=QC;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fb({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Xp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Ub.call(t,d)&&!Bb.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var y=0;y<d;y++)l[y]=arguments[y+2];r.children=l}return{$$typeof:Sa,type:e.type,key:i,ref:s,props:r,_owner:a}};Re.createContext=function(e){return e={$$typeof:KC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YC,_context:e},e.Consumer=e};Re.createElement=Hb;Re.createFactory=function(e){var t=Hb.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:XC,render:e}};Re.isValidElement=Qp;Re.lazy=function(e){return{$$typeof:eP,_payload:{_status:-1,_result:e},_init:iP}};Re.memo=function(e,t){return{$$typeof:JC,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(e,t){return en.current.useCallback(e,t)};Re.useContext=function(e){return en.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Re.useEffect=function(e,t){return en.current.useEffect(e,t)};Re.useId=function(){return en.current.useId()};Re.useImperativeHandle=function(e,t,n){return en.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return en.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return en.current.useReducer(e,t,n)};Re.useRef=function(e){return en.current.useRef(e)};Re.useState=function(e){return en.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return en.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return en.current.useTransition()};Re.version="18.2.0";(function(e){e.exports=Re})(WC);const wt=dc(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=te,aP=Symbol.for("react.element"),lP=Symbol.for("react.fragment"),uP=Object.prototype.hasOwnProperty,cP=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dP={key:!0,ref:!0,__self:!0,__source:!0};function Wb(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)uP.call(t,r)&&!dP.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aP,type:e,key:s,ref:a,props:i,_owner:cP.current}}fc.Fragment=lP;fc.jsx=Wb;fc.jsxs=Wb;(function(e){e.exports=fc})(HC);const gn=Qs.Fragment,O=Qs.jsx,ee=Qs.jsxs;var Ch={},Do={},fP={get exports(){return Do},set exports(e){Do=e}},_n={},Ph={},hP={get exports(){return Ph},set exports(e){Ph=e}},qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Y){var G=W.length;W.push(Y);e:for(;0<G;){var J=G-1>>>1,oe=W[J];if(0<i(oe,Y))W[J]=Y,W[G]=oe,G=J;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],G=W.pop();if(G!==Y){W[0]=G;e:for(var J=0,oe=W.length,ce=oe>>>1;J<ce;){var fe=2*(J+1)-1,de=W[fe],ue=fe+1,be=W[ue];if(0>i(de,G))ue<oe&&0>i(be,de)?(W[J]=be,W[ue]=G,J=ue):(W[J]=de,W[fe]=G,J=fe);else if(ue<oe&&0>i(be,G))W[J]=be,W[ue]=G,J=ue;else break e}}return Y}function i(W,Y){var G=W.sortIndex-Y.sortIndex;return G!==0?G:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var d=[],y=[],_=1,c=null,f=3,w=!1,v=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(W){for(var Y=n(y);Y!==null;){if(Y.callback===null)r(y);else if(Y.startTime<=W)r(y),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(y)}}function T(W){if(p=!1,h(W),!v)if(n(d)!==null)v=!0,H(x);else{var Y=n(y);Y!==null&&U(T,Y.startTime-W)}}function x(W,Y){v=!1,p&&(p=!1,g(E),E=-1),w=!0;var G=f;try{for(h(Y),c=n(d);c!==null&&(!(c.expirationTime>Y)||W&&!N());){var J=c.callback;if(typeof J=="function"){c.callback=null,f=c.priorityLevel;var oe=J(c.expirationTime<=Y);Y=e.unstable_now(),typeof oe=="function"?c.callback=oe:c===n(d)&&r(d),h(Y)}else r(d);c=n(d)}if(c!==null)var ce=!0;else{var fe=n(y);fe!==null&&U(T,fe.startTime-Y),ce=!1}return ce}finally{c=null,f=G,w=!1}}var k=!1,C=null,E=-1,A=5,P=-1;function N(){return!(e.unstable_now()-P<A)}function $(){if(C!==null){var W=e.unstable_now();P=W;var Y=!0;try{Y=C(!0,W)}finally{Y?F():(k=!1,C=null)}}else k=!1}var F;if(typeof m=="function")F=function(){m($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=$,F=function(){B.postMessage(null)}}else F=function(){b($,0)};function H(W){C=W,k||(k=!0,F())}function U(W,Y){E=b(function(){W(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,H(x))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(W){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var G=f;f=Y;try{return W()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=f;f=W;try{return Y()}finally{f=G}},e.unstable_scheduleCallback=function(W,Y,G){var J=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,W={id:_++,callback:Y,priorityLevel:W,startTime:G,expirationTime:oe,sortIndex:-1},G>J?(W.sortIndex=G,t(y,W),n(d)===null&&W===n(y)&&(p?(g(E),E=-1):p=!0,U(T,G-J))):(W.sortIndex=oe,t(d,W),v||w||(v=!0,H(x))),W},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(W){var Y=f;return function(){var G=f;f=Y;try{return W.apply(this,arguments)}finally{f=G}}}})(qb);(function(e){e.exports=qb})(hP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=te,vn=Ph;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zb=new Set,Js={};function Gi(e,t){$o(e,t),$o(e+"Capture",t)}function $o(e,t){for(Js[e]=t,e=0;e<t.length;e++)Zb.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,pP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ly={},Iy={};function mP(e){return Ah.call(Iy,e)?!0:Ah.call(Ly,e)?!1:pP.test(e)?Iy[e]=!0:(Ly[e]=!0,!1)}function gP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vP(e,t,n,r){if(t===null||typeof t>"u"||gP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function em(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jp,em);Ut[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jp,em);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jp,em);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function tm(e,t,n,r){var i=Ut.hasOwnProperty(t)?Ut[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vP(t,n,i,r)&&(n=null),r||i===null?mP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zr=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),fo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Gb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),Kb=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,qd;function Ns(e){if(qd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qd=t&&t[1]||""}return`
`+qd+e}var Vd=!1;function Zd(e,t){if(!e||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var i=y.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var d=`
`+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=l);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ns(e):""}function yP(e){switch(e.tag){case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return e=Zd(e.type,!1),e;case 11:return e=Zd(e.type.render,!1),e;case 1:return e=Zd(e.type,!0),e;default:return""}}function Nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ho:return"Fragment";case fo:return"Portal";case Lh:return"Profiler";case nm:return"StrictMode";case Ih:return"Suspense";case Rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yb:return(e.displayName||"Context")+".Consumer";case Gb:return(e._context.displayName||"Context")+".Provider";case rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case im:return t=e.displayName||null,t!==null?t:Nh(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return Nh(e(t))}catch{}}return null}function _P(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(t);case 8:return t===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wP(e){var t=Xb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=wP(e))}function Qb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oh(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ny(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ci(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jb(e,t){t=t.checked,t!=null&&tm(e,"checked",t,!1)}function Mh(e,t){Jb(e,t);var n=ci(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dh(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dh(e,t,n){(t!=="number"||Xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function ko(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ci(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function My(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Os(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ci(n)}}function e1(e,t){var n=ci(t.value),r=ci(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ol,n1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ea(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bP=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){bP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function r1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function i1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=r1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var TP=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(e,t){if(t){if(TP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function jh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function om(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bh=null,Co=null,Po=null;function $y(e){if(e=ka(e)){if(typeof Bh!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=vc(t),Bh(e.stateNode,e.type,t))}}function o1(e){Co?Po?Po.push(e):Po=[e]:Co=e}function s1(){if(Co){var e=Co,t=Po;if(Po=Co=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function a1(e,t){return e(t)}function l1(){}var Gd=!1;function u1(e,t,n){if(Gd)return e(t,n);Gd=!0;try{return a1(e,t,n)}finally{Gd=!1,(Co!==null||Po!==null)&&(l1(),s1())}}function ta(e,t){var n=e.stateNode;if(n===null)return null;var r=vc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var Hh=!1;if(Ir)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Hh=!1}function SP(e,t,n,r,i,s,a,l,d){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(_){this.onError(_)}}var Bs=!1,Ql=null,Jl=!1,Wh=null,EP={onError:function(e){Bs=!0,Ql=e}};function xP(e,t,n,r,i,s,a,l,d){Bs=!1,Ql=null,SP.apply(EP,arguments)}function kP(e,t,n,r,i,s,a,l,d){if(xP.apply(this,arguments),Bs){if(Bs){var y=Ql;Bs=!1,Ql=null}else throw Error(ae(198));Jl||(Jl=!0,Wh=y)}}function Yi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function c1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fy(e){if(Yi(e)!==e)throw Error(ae(188))}function CP(e){var t=e.alternate;if(!t){if(t=Yi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Fy(i),e;if(s===r)return Fy(i),t;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function d1(e){return e=CP(e),e!==null?f1(e):null}function f1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f1(e);if(t!==null)return t;e=e.sibling}return null}var h1=vn.unstable_scheduleCallback,zy=vn.unstable_cancelCallback,PP=vn.unstable_shouldYield,AP=vn.unstable_requestPaint,bt=vn.unstable_now,LP=vn.unstable_getCurrentPriorityLevel,sm=vn.unstable_ImmediatePriority,p1=vn.unstable_UserBlockingPriority,eu=vn.unstable_NormalPriority,IP=vn.unstable_LowPriority,m1=vn.unstable_IdlePriority,hc=null,ar=null;function RP(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(hc,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:MP,NP=Math.log,OP=Math.LN2;function MP(e){return e>>>=0,e===0?32:31-(NP(e)/OP|0)|0}var sl=64,al=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Ms(l):(s&=a,s!==0&&(r=Ms(s)))}else a=n&~i,a!==0?r=Ms(a):s!==0&&(r=Ms(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),i=1<<n,r|=e[n],t&=~i;return r}function DP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $P(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qn(s),l=1<<a,d=i[a];d===-1?(!(l&n)||l&r)&&(i[a]=DP(l,t)):d<=t&&(e.expiredLanes|=l),s&=~l}}function qh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g1(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function Yd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function FP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function am(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var He=0;function v1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y1,lm,_1,w1,b1,Vh=!1,ll=[],ni=null,ri=null,ii=null,na=new Map,ra=new Map,Kr=[],zP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jy(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":na.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(t.pointerId)}}function ws(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ka(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jP(e,t,n,r,i){switch(t){case"focusin":return ni=ws(ni,e,t,n,r,i),!0;case"dragenter":return ri=ws(ri,e,t,n,r,i),!0;case"mouseover":return ii=ws(ii,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return na.set(s,ws(na.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ra.set(s,ws(ra.get(s)||null,e,t,n,r,i)),!0}return!1}function T1(e){var t=Ii(e.target);if(t!==null){var n=Yi(t);if(n!==null){if(t=n.tag,t===13){if(t=c1(n),t!==null){e.blockedOn=t,b1(e.priority,function(){_1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uh=r,n.target.dispatchEvent(r),Uh=null}else return t=ka(n),t!==null&&lm(t),e.blockedOn=n,!1;t.shift()}return!0}function Uy(e,t,n){Ll(e)&&n.delete(t)}function UP(){Vh=!1,ni!==null&&Ll(ni)&&(ni=null),ri!==null&&Ll(ri)&&(ri=null),ii!==null&&Ll(ii)&&(ii=null),na.forEach(Uy),ra.forEach(Uy)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,Vh||(Vh=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,UP)))}function ia(e){function t(i){return bs(i,e)}if(0<ll.length){bs(ll[0],e);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ni!==null&&bs(ni,e),ri!==null&&bs(ri,e),ii!==null&&bs(ii,e),na.forEach(t),ra.forEach(t),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)T1(n),n.blockedOn===null&&Kr.shift()}var Ao=zr.ReactCurrentBatchConfig,nu=!0;function BP(e,t,n,r){var i=He,s=Ao.transition;Ao.transition=null;try{He=1,um(e,t,n,r)}finally{He=i,Ao.transition=s}}function HP(e,t,n,r){var i=He,s=Ao.transition;Ao.transition=null;try{He=4,um(e,t,n,r)}finally{He=i,Ao.transition=s}}function um(e,t,n,r){if(nu){var i=Zh(e,t,n,r);if(i===null)sf(e,t,r,ru,n),jy(e,r);else if(jP(i,e,t,n,r))r.stopPropagation();else if(jy(e,r),t&4&&-1<zP.indexOf(e)){for(;i!==null;){var s=ka(i);if(s!==null&&y1(s),s=Zh(e,t,n,r),s===null&&sf(e,t,r,ru,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sf(e,t,r,null,n)}}var ru=null;function Zh(e,t,n,r){if(ru=null,e=om(r),e=Ii(e),e!==null)if(t=Yi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=c1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ru=e,null}function S1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LP()){case sm:return 1;case p1:return 4;case eu:case IP:return 16;case m1:return 536870912;default:return 16}default:return 16}}var Jr=null,cm=null,Il=null;function E1(){if(Il)return Il;var e,t=cm,n=t.length,r,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Il=i.slice(e,1<r?1-r:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function By(){return!1}function wn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ul:By,this.isPropagationStopped=By,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=wn(Qo),xa=ft({},Qo,{view:0,detail:0}),WP=wn(xa),Kd,Xd,Ts,pc=ft({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(Kd=e.screenX-Ts.screenX,Xd=e.screenY-Ts.screenY):Xd=Kd=0,Ts=e),Kd)},movementY:function(e){return"movementY"in e?e.movementY:Xd}}),Hy=wn(pc),qP=ft({},pc,{dataTransfer:0}),VP=wn(qP),ZP=ft({},xa,{relatedTarget:0}),Qd=wn(ZP),GP=ft({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),YP=wn(GP),KP=ft({},Qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XP=wn(KP),QP=ft({},Qo,{data:0}),Wy=wn(QP),JP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tA[e])?!!t[e]:!1}function fm(){return nA}var rA=ft({},xa,{key:function(e){if(e.key){var t=JP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iA=wn(rA),oA=ft({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=wn(oA),sA=ft({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),aA=wn(sA),lA=ft({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uA=wn(lA),cA=ft({},pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dA=wn(cA),fA=[9,13,27,32],hm=Ir&&"CompositionEvent"in window,Hs=null;Ir&&"documentMode"in document&&(Hs=document.documentMode);var hA=Ir&&"TextEvent"in window&&!Hs,x1=Ir&&(!hm||Hs&&8<Hs&&11>=Hs),Vy=String.fromCharCode(32),Zy=!1;function k1(e,t){switch(e){case"keyup":return fA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function pA(e,t){switch(e){case"compositionend":return C1(t);case"keypress":return t.which!==32?null:(Zy=!0,Vy);case"textInput":return e=t.data,e===Vy&&Zy?null:e;default:return null}}function mA(e,t){if(po)return e==="compositionend"||!hm&&k1(e,t)?(e=E1(),Il=cm=Jr=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x1&&t.locale!=="ko"?null:t.data;default:return null}}var gA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gA[e.type]:t==="textarea"}function P1(e,t,n,r){o1(r),t=iu(t,"onChange"),0<t.length&&(n=new dm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ws=null,oa=null;function vA(e){z1(e,0)}function mc(e){var t=vo(e);if(Qb(t))return e}function yA(e,t){if(e==="change")return t}var A1=!1;if(Ir){var Jd;if(Ir){var ef="oninput"in document;if(!ef){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),ef=typeof Yy.oninput=="function"}Jd=ef}else Jd=!1;A1=Jd&&(!document.documentMode||9<document.documentMode)}function Ky(){Ws&&(Ws.detachEvent("onpropertychange",L1),oa=Ws=null)}function L1(e){if(e.propertyName==="value"&&mc(oa)){var t=[];P1(t,oa,e,om(e)),u1(vA,t)}}function _A(e,t,n){e==="focusin"?(Ky(),Ws=t,oa=n,Ws.attachEvent("onpropertychange",L1)):e==="focusout"&&Ky()}function wA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mc(oa)}function bA(e,t){if(e==="click")return mc(t)}function TA(e,t){if(e==="input"||e==="change")return mc(t)}function SA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:SA;function sa(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ah.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Xy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qy(e,t){var n=Xy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xy(n)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R1(){for(var e=window,t=Xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xl(e.document)}return t}function pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EA(e){var t=R1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&I1(n.ownerDocument.documentElement,n)){if(r!==null&&pm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Qy(n,s);var a=Qy(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xA=Ir&&"documentMode"in document&&11>=document.documentMode,mo=null,Gh=null,qs=null,Yh=!1;function Jy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||mo==null||mo!==Xl(r)||(r=mo,"selectionStart"in r&&pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qs&&sa(qs,r)||(qs=r,r=iu(Gh,"onSelect"),0<r.length&&(t=new dm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mo)))}function cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var go={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},tf={},N1={};Ir&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function gc(e){if(tf[e])return tf[e];if(!go[e])return e;var t=go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in N1)return tf[e]=t[n];return e}var O1=gc("animationend"),M1=gc("animationiteration"),D1=gc("animationstart"),$1=gc("transitionend"),F1=new Map,e_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){F1.set(e,t),Gi(t,[e])}for(var nf=0;nf<e_.length;nf++){var rf=e_[nf],kA=rf.toLowerCase(),CA=rf[0].toUpperCase()+rf.slice(1);hi(kA,"on"+CA)}hi(O1,"onAnimationEnd");hi(M1,"onAnimationIteration");hi(D1,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi($1,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function t_(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kP(r,t,void 0,e),e.currentTarget=null}function z1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],d=l.instance,y=l.currentTarget;if(l=l.listener,d!==s&&i.isPropagationStopped())break e;t_(i,l,y),s=d}else for(a=0;a<r.length;a++){if(l=r[a],d=l.instance,y=l.currentTarget,l=l.listener,d!==s&&i.isPropagationStopped())break e;t_(i,l,y),s=d}}}if(Jl)throw e=Wh,Jl=!1,Wh=null,e}function et(e,t){var n=t[ep];n===void 0&&(n=t[ep]=new Set);var r=e+"__bubble";n.has(r)||(j1(t,e,2,!1),n.add(r))}function of(e,t,n){var r=0;t&&(r|=4),j1(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function aa(e){if(!e[dl]){e[dl]=!0,Zb.forEach(function(n){n!=="selectionchange"&&(PA.has(n)||of(n,!1,e),of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,of("selectionchange",!1,t))}}function j1(e,t,n,r){switch(S1(t)){case 1:var i=BP;break;case 4:i=HP;break;default:i=um}n=i.bind(null,t,n,e),i=void 0,!Hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sf(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ii(l),a===null)return;if(d=a.tag,d===5||d===6){r=s=a;continue e}l=l.parentNode}}r=r.return}u1(function(){var y=s,_=om(n),c=[];e:{var f=F1.get(e);if(f!==void 0){var w=dm,v=e;switch(e){case"keypress":if(Rl(n)===0)break e;case"keydown":case"keyup":w=iA;break;case"focusin":v="focus",w=Qd;break;case"focusout":v="blur",w=Qd;break;case"beforeblur":case"afterblur":w=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=VP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=aA;break;case O1:case M1:case D1:w=YP;break;case $1:w=uA;break;case"scroll":w=WP;break;case"wheel":w=dA;break;case"copy":case"cut":case"paste":w=XP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=qy}var p=(t&4)!==0,b=!p&&e==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var m=y,h;m!==null;){h=m;var T=h.stateNode;if(h.tag===5&&T!==null&&(h=T,g!==null&&(T=ta(m,g),T!=null&&p.push(la(m,T,h)))),b)break;m=m.return}0<p.length&&(f=new w(f,v,null,n,_),c.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&n!==Uh&&(v=n.relatedTarget||n.fromElement)&&(Ii(v)||v[Rr]))break e;if((w||f)&&(f=_.window===_?_:(f=_.ownerDocument)?f.defaultView||f.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=y,v=v?Ii(v):null,v!==null&&(b=Yi(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=y),w!==v)){if(p=Hy,T="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=qy,T="onPointerLeave",g="onPointerEnter",m="pointer"),b=w==null?f:vo(w),h=v==null?f:vo(v),f=new p(T,m+"leave",w,n,_),f.target=b,f.relatedTarget=h,T=null,Ii(_)===y&&(p=new p(g,m+"enter",v,n,_),p.target=h,p.relatedTarget=b,T=p),b=T,w&&v)t:{for(p=w,g=v,m=0,h=p;h;h=lo(h))m++;for(h=0,T=g;T;T=lo(T))h++;for(;0<m-h;)p=lo(p),m--;for(;0<h-m;)g=lo(g),h--;for(;m--;){if(p===g||g!==null&&p===g.alternate)break t;p=lo(p),g=lo(g)}p=null}else p=null;w!==null&&n_(c,f,w,p,!1),v!==null&&b!==null&&n_(c,b,v,p,!0)}}e:{if(f=y?vo(y):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var x=yA;else if(Gy(f))if(A1)x=TA;else{x=wA;var k=_A}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=bA);if(x&&(x=x(e,y))){P1(c,x,n,_);break e}k&&k(e,f,y),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Dh(f,"number",f.value)}switch(k=y?vo(y):window,e){case"focusin":(Gy(k)||k.contentEditable==="true")&&(mo=k,Gh=y,qs=null);break;case"focusout":qs=Gh=mo=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Jy(c,n,_);break;case"selectionchange":if(xA)break;case"keydown":case"keyup":Jy(c,n,_)}var C;if(hm)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else po?k1(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(x1&&n.locale!=="ko"&&(po||E!=="onCompositionStart"?E==="onCompositionEnd"&&po&&(C=E1()):(Jr=_,cm="value"in Jr?Jr.value:Jr.textContent,po=!0)),k=iu(y,E),0<k.length&&(E=new Wy(E,e,null,n,_),c.push({event:E,listeners:k}),C?E.data=C:(C=C1(n),C!==null&&(E.data=C)))),(C=hA?pA(e,n):mA(e,n))&&(y=iu(y,"onBeforeInput"),0<y.length&&(_=new Wy("onBeforeInput","beforeinput",null,n,_),c.push({event:_,listeners:y}),_.data=C))}z1(c,t)})}function la(e,t,n){return{instance:e,listener:t,currentTarget:n}}function iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ta(e,n),s!=null&&r.unshift(la(e,s,i)),s=ta(e,t),s!=null&&r.push(la(e,s,i))),e=e.return}return r}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n_(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,d=l.alternate,y=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&y!==null&&(l=y,i?(d=ta(n,s),d!=null&&a.unshift(la(n,d,l))):i||(d=ta(n,s),d!=null&&a.push(la(n,d,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var AA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(AA,`
`).replace(LA,"")}function fl(e,t,n){if(t=r_(t),r_(e)!==t&&n)throw Error(ae(425))}function ou(){}var Kh=null,Xh=null;function Qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(NA)}:Jh;function NA(e){setTimeout(function(){throw e})}function af(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ia(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ia(t)}function oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),or="__reactFiber$"+Jo,ua="__reactProps$"+Jo,Rr="__reactContainer$"+Jo,ep="__reactEvents$"+Jo,OA="__reactListeners$"+Jo,MA="__reactHandles$"+Jo;function Ii(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rr]||n[or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=o_(e);e!==null;){if(n=e[or])return n;e=o_(e)}return t}e=n,n=e.parentNode}return null}function ka(e){return e=e[or]||e[Rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function vc(e){return e[ua]||null}var tp=[],yo=-1;function pi(e){return{current:e}}function nt(e){0>yo||(e.current=tp[yo],tp[yo]=null,yo--)}function Xe(e,t){yo++,tp[yo]=e.current,e.current=t}var di={},Kt=pi(di),sn=pi(!1),zi=di;function Fo(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function an(e){return e=e.childContextTypes,e!=null}function su(){nt(sn),nt(Kt)}function s_(e,t,n){if(Kt.current!==di)throw Error(ae(168));Xe(Kt,t),Xe(sn,n)}function U1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,_P(e)||"Unknown",i));return ft({},n,r)}function au(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,zi=Kt.current,Xe(Kt,e),Xe(sn,sn.current),!0}function a_(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=U1(e,t,zi),r.__reactInternalMemoizedMergedChildContext=e,nt(sn),nt(Kt),Xe(Kt,e)):nt(sn),Xe(sn,n)}var wr=null,yc=!1,lf=!1;function B1(e){wr===null?wr=[e]:wr.push(e)}function DA(e){yc=!0,B1(e)}function mi(){if(!lf&&wr!==null){lf=!0;var e=0,t=He;try{var n=wr;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,yc=!1}catch(i){throw wr!==null&&(wr=wr.slice(e+1)),h1(sm,mi),i}finally{He=t,lf=!1}}return null}var _o=[],wo=0,lu=null,uu=0,kn=[],Cn=0,ji=null,Er=1,xr="";function Pi(e,t){_o[wo++]=uu,_o[wo++]=lu,lu=e,uu=t}function H1(e,t,n){kn[Cn++]=Er,kn[Cn++]=xr,kn[Cn++]=ji,ji=e;var r=Er;e=xr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Er=1<<32-qn(t)+i|n<<i|r,xr=s+e}else Er=1<<s|n<<i|r,xr=e}function mm(e){e.return!==null&&(Pi(e,1),H1(e,1,0))}function gm(e){for(;e===lu;)lu=_o[--wo],_o[wo]=null,uu=_o[--wo],_o[wo]=null;for(;e===ji;)ji=kn[--Cn],kn[Cn]=null,xr=kn[--Cn],kn[Cn]=null,Er=kn[--Cn],kn[Cn]=null}var mn=null,pn=null,ot=!1,Bn=null;function W1(e,t){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function l_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,pn=oi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ji!==null?{id:Er,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,pn=null,!0):!1;default:return!1}}function np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rp(e){if(ot){var t=pn;if(t){var n=t;if(!l_(e,t)){if(np(e))throw Error(ae(418));t=oi(n.nextSibling);var r=mn;t&&l_(e,t)?W1(r,n):(e.flags=e.flags&-4097|2,ot=!1,mn=e)}}else{if(np(e))throw Error(ae(418));e.flags=e.flags&-4097|2,ot=!1,mn=e}}}function u_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function hl(e){if(e!==mn)return!1;if(!ot)return u_(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qh(e.type,e.memoizedProps)),t&&(t=pn)){if(np(e))throw q1(),Error(ae(418));for(;t;)W1(e,t),t=oi(t.nextSibling)}if(u_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pn=oi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=mn?oi(e.stateNode.nextSibling):null;return!0}function q1(){for(var e=pn;e;)e=oi(e.nextSibling)}function zo(){pn=mn=null,ot=!1}function vm(e){Bn===null?Bn=[e]:Bn.push(e)}var $A=zr.ReactCurrentBatchConfig;function jn(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var cu=pi(null),du=null,bo=null,ym=null;function _m(){ym=bo=du=null}function wm(e){var t=cu.current;nt(cu),e._currentValue=t}function ip(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t){du=e,ym=bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(ym!==e)if(e={context:e,memoizedValue:t,next:null},bo===null){if(du===null)throw Error(ae(308));bo=e,du.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Ri=null;function bm(e){Ri===null?Ri=[e]:Ri.push(e)}function V1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Nr(e,r)}function Nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Tm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Nr(e,n)}return i=r.interleaved,i===null?(t.next=t,bm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Nr(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,am(e,n)}}function c_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fu(e,t,n,r){var i=e.updateQueue;Yr=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,y=d.next;d.next=null,a===null?s=y:a.next=y,a=d;var _=e.alternate;_!==null&&(_=_.updateQueue,l=_.lastBaseUpdate,l!==a&&(l===null?_.firstBaseUpdate=y:l.next=y,_.lastBaseUpdate=d))}if(s!==null){var c=i.baseState;a=0,_=y=d=null,l=s;do{var f=l.lane,w=l.eventTime;if((r&f)===f){_!==null&&(_=_.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(f=t,w=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){c=v.call(w,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(w,c,f):v,f==null)break e;c=ft({},c,f);break e;case 2:Yr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else w={eventTime:w,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},_===null?(y=_=w,d=c):_=_.next=w,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(_===null&&(d=c),i.baseState=d,i.firstBaseUpdate=y,i.lastBaseUpdate=_,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bi|=a,e.lanes=a,e.memoizedState=c}}function d_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var G1=new Vb.Component().refs;function op(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _c={isMounted:function(e){return(e=e._reactInternals)?Yi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jt(),i=li(e),s=Pr(r,i);s.payload=t,n!=null&&(s.callback=n),t=si(e,s,i),t!==null&&(Vn(t,e,i,r),Nl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jt(),i=li(e),s=Pr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=si(e,s,i),t!==null&&(Vn(t,e,i,r),Nl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),r=li(e),i=Pr(n,r);i.tag=2,t!=null&&(i.callback=t),t=si(e,i,r),t!==null&&(Vn(t,e,r,n),Nl(t,e,r))}};function f_(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!sa(n,r)||!sa(i,s):!0}function Y1(e,t,n){var r=!1,i=di,s=t.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=an(t)?zi:Kt.current,r=t.contextTypes,s=(r=r!=null)?Fo(e,i):di),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_c,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function h_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_c.enqueueReplaceState(t,t.state,null)}function sp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=G1,Tm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=an(t)?zi:Kt.current,i.context=Fo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(op(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_c.enqueueReplaceState(i,i.state,null),fu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===G1&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function pl(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p_(e){var t=e._init;return t(e._payload)}function K1(e){function t(g,m){if(e){var h=g.deletions;h===null?(g.deletions=[m],g.flags|=16):h.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ui(g,m),g.index=0,g.sibling=null,g}function s(g,m,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<m?(g.flags|=2,m):h):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,h,T){return m===null||m.tag!==6?(m=mf(h,g.mode,T),m.return=g,m):(m=i(m,h),m.return=g,m)}function d(g,m,h,T){var x=h.type;return x===ho?_(g,m,h.props.children,T,h.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Gr&&p_(x)===m.type)?(T=i(m,h.props),T.ref=Ss(g,m,h),T.return=g,T):(T=zl(h.type,h.key,h.props,null,g.mode,T),T.ref=Ss(g,m,h),T.return=g,T)}function y(g,m,h,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=gf(h,g.mode,T),m.return=g,m):(m=i(m,h.children||[]),m.return=g,m)}function _(g,m,h,T,x){return m===null||m.tag!==7?(m=$i(h,g.mode,T,x),m.return=g,m):(m=i(m,h),m.return=g,m)}function c(g,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mf(""+m,g.mode,h),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rl:return h=zl(m.type,m.key,m.props,null,g.mode,h),h.ref=Ss(g,null,m),h.return=g,h;case fo:return m=gf(m,g.mode,h),m.return=g,m;case Gr:var T=m._init;return c(g,T(m._payload),h)}if(Os(m)||ys(m))return m=$i(m,g.mode,h,null),m.return=g,m;pl(g,m)}return null}function f(g,m,h,T){var x=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:l(g,m,""+h,T);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case rl:return h.key===x?d(g,m,h,T):null;case fo:return h.key===x?y(g,m,h,T):null;case Gr:return x=h._init,f(g,m,x(h._payload),T)}if(Os(h)||ys(h))return x!==null?null:_(g,m,h,T,null);pl(g,h)}return null}function w(g,m,h,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(h)||null,l(m,g,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rl:return g=g.get(T.key===null?h:T.key)||null,d(m,g,T,x);case fo:return g=g.get(T.key===null?h:T.key)||null,y(m,g,T,x);case Gr:var k=T._init;return w(g,m,h,k(T._payload),x)}if(Os(T)||ys(T))return g=g.get(h)||null,_(m,g,T,x,null);pl(m,T)}return null}function v(g,m,h,T){for(var x=null,k=null,C=m,E=m=0,A=null;C!==null&&E<h.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var P=f(g,C,h[E],T);if(P===null){C===null&&(C=A);break}e&&C&&P.alternate===null&&t(g,C),m=s(P,m,E),k===null?x=P:k.sibling=P,k=P,C=A}if(E===h.length)return n(g,C),ot&&Pi(g,E),x;if(C===null){for(;E<h.length;E++)C=c(g,h[E],T),C!==null&&(m=s(C,m,E),k===null?x=C:k.sibling=C,k=C);return ot&&Pi(g,E),x}for(C=r(g,C);E<h.length;E++)A=w(C,g,E,h[E],T),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),m=s(A,m,E),k===null?x=A:k.sibling=A,k=A);return e&&C.forEach(function(N){return t(g,N)}),ot&&Pi(g,E),x}function p(g,m,h,T){var x=ys(h);if(typeof x!="function")throw Error(ae(150));if(h=x.call(h),h==null)throw Error(ae(151));for(var k=x=null,C=m,E=m=0,A=null,P=h.next();C!==null&&!P.done;E++,P=h.next()){C.index>E?(A=C,C=null):A=C.sibling;var N=f(g,C,P.value,T);if(N===null){C===null&&(C=A);break}e&&C&&N.alternate===null&&t(g,C),m=s(N,m,E),k===null?x=N:k.sibling=N,k=N,C=A}if(P.done)return n(g,C),ot&&Pi(g,E),x;if(C===null){for(;!P.done;E++,P=h.next())P=c(g,P.value,T),P!==null&&(m=s(P,m,E),k===null?x=P:k.sibling=P,k=P);return ot&&Pi(g,E),x}for(C=r(g,C);!P.done;E++,P=h.next())P=w(C,g,E,P.value,T),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),m=s(P,m,E),k===null?x=P:k.sibling=P,k=P);return e&&C.forEach(function($){return t(g,$)}),ot&&Pi(g,E),x}function b(g,m,h,T){if(typeof h=="object"&&h!==null&&h.type===ho&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case rl:e:{for(var x=h.key,k=m;k!==null;){if(k.key===x){if(x=h.type,x===ho){if(k.tag===7){n(g,k.sibling),m=i(k,h.props.children),m.return=g,g=m;break e}}else if(k.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Gr&&p_(x)===k.type){n(g,k.sibling),m=i(k,h.props),m.ref=Ss(g,k,h),m.return=g,g=m;break e}n(g,k);break}else t(g,k);k=k.sibling}h.type===ho?(m=$i(h.props.children,g.mode,T,h.key),m.return=g,g=m):(T=zl(h.type,h.key,h.props,null,g.mode,T),T.ref=Ss(g,m,h),T.return=g,g=T)}return a(g);case fo:e:{for(k=h.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){n(g,m.sibling),m=i(m,h.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=gf(h,g.mode,T),m.return=g,g=m}return a(g);case Gr:return k=h._init,b(g,m,k(h._payload),T)}if(Os(h))return v(g,m,h,T);if(ys(h))return p(g,m,h,T);pl(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,h),m.return=g,g=m):(n(g,m),m=mf(h,g.mode,T),m.return=g,g=m),a(g)):n(g,m)}return b}var jo=K1(!0),X1=K1(!1),Ca={},lr=pi(Ca),ca=pi(Ca),da=pi(Ca);function Ni(e){if(e===Ca)throw Error(ae(174));return e}function Sm(e,t){switch(Xe(da,t),Xe(ca,e),Xe(lr,Ca),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}nt(lr),Xe(lr,t)}function Uo(){nt(lr),nt(ca),nt(da)}function Q1(e){Ni(da.current);var t=Ni(lr.current),n=Fh(t,e.type);t!==n&&(Xe(ca,e),Xe(lr,n))}function Em(e){ca.current===e&&(nt(lr),nt(ca))}var ct=pi(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uf=[];function xm(){for(var e=0;e<uf.length;e++)uf[e]._workInProgressVersionPrimary=null;uf.length=0}var Ol=zr.ReactCurrentDispatcher,cf=zr.ReactCurrentBatchConfig,Ui=0,dt=null,kt=null,It=null,pu=!1,Vs=!1,fa=0,FA=0;function Bt(){throw Error(ae(321))}function km(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Cm(e,t,n,r,i,s){if(Ui=s,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ol.current=e===null||e.memoizedState===null?BA:HA,e=n(r,i),Vs){s=0;do{if(Vs=!1,fa=0,25<=s)throw Error(ae(301));s+=1,It=kt=null,t.updateQueue=null,Ol.current=WA,e=n(r,i)}while(Vs)}if(Ol.current=mu,t=kt!==null&&kt.next!==null,Ui=0,It=kt=dt=null,pu=!1,t)throw Error(ae(300));return e}function Pm(){var e=fa!==0;return fa=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=e:It=It.next=e,It}function Nn(){if(kt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=It===null?dt.memoizedState:It.next;if(t!==null)It=t,kt=e;else{if(e===null)throw Error(ae(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},It===null?dt.memoizedState=It=e:It=It.next=e}return It}function ha(e,t){return typeof t=="function"?t(e):t}function df(e){var t=Nn(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,d=null,y=s;do{var _=y.lane;if((Ui&_)===_)d!==null&&(d=d.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var c={lane:_,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};d===null?(l=d=c,a=r):d=d.next=c,dt.lanes|=_,Bi|=_}y=y.next}while(y!==null&&y!==s);d===null?a=r:d.next=l,Gn(r,t.memoizedState)||(rn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,dt.lanes|=s,Bi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ff(e){var t=Nn(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Gn(s,t.memoizedState)||(rn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function J1(){}function eT(e,t){var n=dt,r=Nn(),i=t(),s=!Gn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,Am(rT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,pa(9,nT.bind(null,n,r,i,t),void 0,null),Rt===null)throw Error(ae(349));Ui&30||tT(n,t,i)}return i}function tT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nT(e,t,n,r){t.value=n,t.getSnapshot=r,iT(t)&&oT(e)}function rT(e,t,n){return n(function(){iT(t)&&oT(e)})}function iT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch{return!0}}function oT(e){var t=Nr(e,1);t!==null&&Vn(t,e,1,-1)}function m_(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=UA.bind(null,dt,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sT(){return Nn().memoizedState}function Ml(e,t,n,r){var i=ir();dt.flags|=e,i.memoizedState=pa(1|t,n,void 0,r===void 0?null:r)}function wc(e,t,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,r!==null&&km(r,a.deps)){i.memoizedState=pa(t,n,s,r);return}}dt.flags|=e,i.memoizedState=pa(1|t,n,s,r)}function g_(e,t){return Ml(8390656,8,e,t)}function Am(e,t){return wc(2048,8,e,t)}function aT(e,t){return wc(4,2,e,t)}function lT(e,t){return wc(4,4,e,t)}function uT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cT(e,t,n){return n=n!=null?n.concat([e]):null,wc(4,4,uT.bind(null,t,e),n)}function Lm(){}function dT(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&km(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fT(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&km(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hT(e,t,n){return Ui&21?(Gn(n,t)||(n=g1(),dt.lanes|=n,Bi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=n)}function zA(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=cf.transition;cf.transition={};try{e(!1),t()}finally{He=n,cf.transition=r}}function pT(){return Nn().memoizedState}function jA(e,t,n){var r=li(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mT(e))gT(t,n);else if(n=V1(e,t,n,r),n!==null){var i=Jt();Vn(n,e,r,i),vT(n,t,r)}}function UA(e,t,n){var r=li(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mT(e))gT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Gn(l,a)){var d=t.interleaved;d===null?(i.next=i,bm(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=V1(e,t,i,r),n!==null&&(i=Jt(),Vn(n,e,r,i),vT(n,t,r))}}function mT(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function gT(e,t){Vs=pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,am(e,n)}}var mu={readContext:Rn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},BA={readContext:Rn,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:g_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4194308,4,uT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ir();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jA.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:m_,useDebugValue:Lm,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=m_(!1),t=e[0];return e=zA.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,i=ir();if(ot){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),Rt===null)throw Error(ae(349));Ui&30||tT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,g_(rT.bind(null,r,s,e),[e]),r.flags|=2048,pa(9,nT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ir(),t=Rt.identifierPrefix;if(ot){var n=xr,r=Er;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HA={readContext:Rn,useCallback:dT,useContext:Rn,useEffect:Am,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:lT,useMemo:fT,useReducer:df,useRef:sT,useState:function(){return df(ha)},useDebugValue:Lm,useDeferredValue:function(e){var t=Nn();return hT(t,kt.memoizedState,e)},useTransition:function(){var e=df(ha)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:J1,useSyncExternalStore:eT,useId:pT,unstable_isNewReconciler:!1},WA={readContext:Rn,useCallback:dT,useContext:Rn,useEffect:Am,useImperativeHandle:cT,useInsertionEffect:aT,useLayoutEffect:lT,useMemo:fT,useReducer:ff,useRef:sT,useState:function(){return ff(ha)},useDebugValue:Lm,useDeferredValue:function(e){var t=Nn();return kt===null?t.memoizedState=e:hT(t,kt.memoizedState,e)},useTransition:function(){var e=ff(ha)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:J1,useSyncExternalStore:eT,useId:pT,unstable_isNewReconciler:!1};function Bo(e,t){try{var n="",r=t;do n+=yP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ap(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qA=typeof WeakMap=="function"?WeakMap:Map;function yT(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vu||(vu=!0,vp=r),ap(e,t)},n}function _T(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ap(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ap(e,t),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function v_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oL.bind(null,e,t,n),t.then(e,e))}function y_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function __(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,si(n,t,1))),n.lanes|=1),e)}var VA=zr.ReactCurrentOwner,rn=!1;function Qt(e,t,n,r){t.child=e===null?X1(t,null,n,r):jo(t,e.child,n,r)}function w_(e,t,n,r,i){n=n.render;var s=t.ref;return Lo(t,i),r=Cm(e,t,n,r,s,i),n=Pm(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Or(e,t,i)):(ot&&n&&mm(t),t.flags|=1,Qt(e,t,r,i),t.child)}function b_(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Fm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,wT(e,t,s,r,i)):(e=zl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(a,r)&&e.ref===t.ref)return Or(e,t,i)}return t.flags|=1,e=ui(s,r),e.ref=t.ref,e.return=t,t.child=e}function wT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(sa(s,r)&&e.ref===t.ref)if(rn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,Or(e,t,i)}return lp(e,t,n,r,i)}function bT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(So,hn),hn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(So,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xe(So,hn),hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Xe(So,hn),hn|=r;return Qt(e,t,i,n),t.child}function TT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lp(e,t,n,r,i){var s=an(n)?zi:Kt.current;return s=Fo(t,s),Lo(t,i),n=Cm(e,t,n,r,s,i),r=Pm(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Or(e,t,i)):(ot&&r&&mm(t),t.flags|=1,Qt(e,t,n,i),t.child)}function T_(e,t,n,r,i){if(an(n)){var s=!0;au(t)}else s=!1;if(Lo(t,i),t.stateNode===null)Dl(e,t),Y1(t,n,r),sp(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var d=a.context,y=n.contextType;typeof y=="object"&&y!==null?y=Rn(y):(y=an(n)?zi:Kt.current,y=Fo(t,y));var _=n.getDerivedStateFromProps,c=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||d!==y)&&h_(t,a,r,y),Yr=!1;var f=t.memoizedState;a.state=f,fu(t,r,a,i),d=t.memoizedState,l!==r||f!==d||sn.current||Yr?(typeof _=="function"&&(op(t,n,_,r),d=t.memoizedState),(l=Yr||f_(t,n,l,r,f,d,y))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=y,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Z1(e,t),l=t.memoizedProps,y=t.type===t.elementType?l:jn(t.type,l),a.props=y,c=t.pendingProps,f=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rn(d):(d=an(n)?zi:Kt.current,d=Fo(t,d));var w=n.getDerivedStateFromProps;(_=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==c||f!==d)&&h_(t,a,r,d),Yr=!1,f=t.memoizedState,a.state=f,fu(t,r,a,i);var v=t.memoizedState;l!==c||f!==v||sn.current||Yr?(typeof w=="function"&&(op(t,n,w,r),v=t.memoizedState),(y=Yr||f_(t,n,y,r,f,v,d)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=d,r=y):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return up(e,t,n,r,s,i)}function up(e,t,n,r,i,s){TT(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&a_(t,n,!1),Or(e,t,s);r=t.stateNode,VA.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=jo(t,e.child,null,s),t.child=jo(t,null,l,s)):Qt(e,t,l,s),t.memoizedState=r.state,i&&a_(t,n,!0),t.child}function ST(e){var t=e.stateNode;t.pendingContext?s_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s_(e,t.context,!1),Sm(e,t.containerInfo)}function S_(e,t,n,r,i){return zo(),vm(i),t.flags|=256,Qt(e,t,n,r),t.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function dp(e){return{baseLanes:e,cachePool:null,transitions:null}}function ET(e,t,n){var r=t.pendingProps,i=ct.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xe(ct,i&1),e===null)return rp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Sc(a,r,0,null),e=$i(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=dp(n),t.memoizedState=cp,e):Im(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ZA(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=ui(i,d),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ui(l,s):(s=$i(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?dp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=cp,r}return s=e.child,e=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Im(e,t){return t=Sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&vm(r),jo(t,e.child,null,n),e=Im(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZA(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=hf(Error(ae(422))),ml(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sc({mode:"visible",children:r.children},i,0,null),s=$i(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&jo(t,e.child,null,a),t.child.memoizedState=dp(a),t.memoizedState=cp,s);if(!(t.mode&1))return ml(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ae(419)),r=hf(s,r,void 0),ml(e,t,a,r)}if(l=(a&e.childLanes)!==0,rn||l){if(r=Rt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(e,i),Vn(r,e,i,-1))}return $m(),r=hf(Error(ae(421))),ml(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,pn=oi(i.nextSibling),mn=t,ot=!0,Bn=null,e!==null&&(kn[Cn++]=Er,kn[Cn++]=xr,kn[Cn++]=ji,Er=e.id,xr=e.overflow,ji=t),t=Im(t,r.children),t.flags|=4096,t)}function E_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ip(e.return,t,n)}function pf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E_(e,n,t);else if(e.tag===19)E_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xe(ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pf(t,!0,n,null,s);break;case"together":pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GA(e,t,n){switch(t.tag){case 3:ST(t),zo();break;case 5:Q1(t);break;case 1:an(t.type)&&au(t);break;case 4:Sm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xe(cu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?ET(e,t,n):(Xe(ct,ct.current&1),e=Or(e,t,n),e!==null?e.sibling:null);Xe(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,bT(e,t,n)}return Or(e,t,n)}var kT,fp,CT,PT;kT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};CT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ni(lr.current);var s=null;switch(n){case"input":i=Oh(e,i),r=Oh(e,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=$h(e,i),r=$h(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ou)}zh(n,r);var a;n=null;for(y in i)if(!r.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var l=i[y];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Js.hasOwnProperty(y)?s||(s=[]):(s=s||[]).push(y,null));for(y in r){var d=r[y];if(l=i!=null?i[y]:void 0,r.hasOwnProperty(y)&&d!==l&&(d!=null||l!=null))if(y==="style")if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(s||(s=[]),s.push(y,n)),n=d;else y==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(s=s||[]).push(y,d)):y==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(y,""+d):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Js.hasOwnProperty(y)?(d!=null&&y==="onScroll"&&et("scroll",e),s||l===d||(s=[])):(s=s||[]).push(y,d))}n&&(s=s||[]).push("style",n);var y=s;(t.updateQueue=y)&&(t.flags|=4)}};PT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Es(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function YA(e,t,n){var r=t.pendingProps;switch(gm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return an(t.type)&&su(),Ht(t),null;case 3:return r=t.stateNode,Uo(),nt(sn),nt(Kt),xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(wp(Bn),Bn=null))),fp(e,t),Ht(t),null;case 5:Em(t);var i=Ni(da.current);if(n=t.type,e!==null&&t.stateNode!=null)CT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return Ht(t),null}if(e=Ni(lr.current),hl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[or]=t,r[ua]=s,e=(t.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Ds.length;i++)et(Ds[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":Ny(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":My(r,s),et("invalid",r)}zh(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fl(r.textContent,l,e),i=["children",""+l]):Js.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&et("scroll",r)}switch(n){case"input":il(r),Oy(r,s,!0);break;case"textarea":il(r),Dy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ou)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[or]=t,e[ua]=r,kT(e,t,!1,!1),t.stateNode=e;e:{switch(a=jh(n,r),n){case"dialog":et("cancel",e),et("close",e),i=r;break;case"iframe":case"object":case"embed":et("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ds.length;i++)et(Ds[i],e);i=r;break;case"source":et("error",e),i=r;break;case"img":case"image":case"link":et("error",e),et("load",e),i=r;break;case"details":et("toggle",e),i=r;break;case"input":Ny(e,r),i=Oh(e,r),et("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),et("invalid",e);break;case"textarea":My(e,r),i=$h(e,r),et("invalid",e);break;default:i=r}zh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];s==="style"?i1(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&n1(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ea(e,d):typeof d=="number"&&ea(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?d!=null&&s==="onScroll"&&et("scroll",e):d!=null&&tm(e,s,d,a))}switch(n){case"input":il(e),Oy(e,r,!1);break;case"textarea":il(e),Dy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ci(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ko(e,!!r.multiple,s,!1):r.defaultValue!=null&&ko(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)PT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=Ni(da.current),Ni(lr.current),hl(t)){if(r=t.stateNode,n=t.memoizedProps,r[or]=t,(s=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=t,t.stateNode=r}return Ht(t),null;case 13:if(nt(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&pn!==null&&t.mode&1&&!(t.flags&128))q1(),zo(),t.flags|=98560,s=!1;else if(s=hl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ae(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[or]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),s=!1}else Bn!==null&&(wp(Bn),Bn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Ct===0&&(Ct=3):$m())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return Uo(),fp(e,t),e===null&&aa(t.stateNode.containerInfo),Ht(t),null;case 10:return wm(t.type._context),Ht(t),null;case 17:return an(t.type)&&su(),Ht(t),null;case 19:if(nt(ct),s=t.memoizedState,s===null)return Ht(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Es(s,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=hu(e),a!==null){for(t.flags|=128,Es(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xe(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&bt()>Ho&&(t.flags|=128,r=!0,Es(s,!1),t.lanes=4194304)}else{if(!r)if(e=hu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ot)return Ht(t),null}else 2*bt()-s.renderingStartTime>Ho&&n!==1073741824&&(t.flags|=128,r=!0,Es(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bt(),t.sibling=null,n=ct.current,Xe(ct,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return Dm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function KA(e,t){switch(gm(t),t.tag){case 1:return an(t.type)&&su(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),nt(sn),nt(Kt),xm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Em(t),null;case 13:if(nt(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ct),null;case 4:return Uo(),null;case 10:return wm(t.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var gl=!1,Zt=!1,XA=typeof WeakSet=="function"?WeakSet:Set,pe=null;function To(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function hp(e,t,n){try{n()}catch(r){pt(e,t,r)}}var x_=!1;function QA(e,t){if(Kh=nu,e=R1(),pm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,d=-1,y=0,_=0,c=e,f=null;t:for(;;){for(var w;c!==n||i!==0&&c.nodeType!==3||(l=a+i),c!==s||r!==0&&c.nodeType!==3||(d=a+r),c.nodeType===3&&(a+=c.nodeValue.length),(w=c.firstChild)!==null;)f=c,c=w;for(;;){if(c===e)break t;if(f===n&&++y===i&&(l=a),f===s&&++_===r&&(d=a),(w=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=w}n=l===-1||d===-1?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xh={focusedElem:e,selectionRange:n},nu=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,b=v.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:jn(t.type,p),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(T){pt(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return v=x_,x_=!1,v}function Zs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hp(t,n,s)}i=i.next}while(i!==r)}}function bc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AT(e){var t=e.alternate;t!==null&&(e.alternate=null,AT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[ua],delete t[ep],delete t[OA],delete t[MA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LT(e){return e.tag===5||e.tag===3||e.tag===4}function k_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ou));else if(r!==4&&(e=e.child,e!==null))for(mp(e,t,n),e=e.sibling;e!==null;)mp(e,t,n),e=e.sibling}function gp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gp(e,t,n),e=e.sibling;e!==null;)gp(e,t,n),e=e.sibling}var Dt=null,Un=!1;function qr(e,t,n){for(n=n.child;n!==null;)IT(e,t,n),n=n.sibling}function IT(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:Zt||To(n,t);case 6:var r=Dt,i=Un;Dt=null,qr(e,t,n),Dt=r,Un=i,Dt!==null&&(Un?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Un?(e=Dt,n=n.stateNode,e.nodeType===8?af(e.parentNode,n):e.nodeType===1&&af(e,n),ia(e)):af(Dt,n.stateNode));break;case 4:r=Dt,i=Un,Dt=n.stateNode.containerInfo,Un=!0,qr(e,t,n),Dt=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hp(n,t,a),i=i.next}while(i!==r)}qr(e,t,n);break;case 1:if(!Zt&&(To(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,t,l)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,qr(e,t,n),Zt=r):qr(e,t,n);break;default:qr(e,t,n)}}function C_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XA),t.forEach(function(r){var i=aL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,Un=!1;break e;case 3:Dt=l.stateNode.containerInfo,Un=!0;break e;case 4:Dt=l.stateNode.containerInfo,Un=!0;break e}l=l.return}if(Dt===null)throw Error(ae(160));IT(s,a,i),Dt=null,Un=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(y){pt(i,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)RT(t,e),t=t.sibling}function RT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fn(t,e),nr(e),r&4){try{Zs(3,e,e.return),bc(3,e)}catch(p){pt(e,e.return,p)}try{Zs(5,e,e.return)}catch(p){pt(e,e.return,p)}}break;case 1:Fn(t,e),nr(e),r&512&&n!==null&&To(n,n.return);break;case 5:if(Fn(t,e),nr(e),r&512&&n!==null&&To(n,n.return),e.flags&32){var i=e.stateNode;try{ea(i,"")}catch(p){pt(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Jb(i,s),jh(l,a);var y=jh(l,s);for(a=0;a<d.length;a+=2){var _=d[a],c=d[a+1];_==="style"?i1(i,c):_==="dangerouslySetInnerHTML"?n1(i,c):_==="children"?ea(i,c):tm(i,_,c,y)}switch(l){case"input":Mh(i,s);break;case"textarea":e1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ko(i,!!s.multiple,w,!1):f!==!!s.multiple&&(s.defaultValue!=null?ko(i,!!s.multiple,s.defaultValue,!0):ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[ua]=s}catch(p){pt(e,e.return,p)}}break;case 6:if(Fn(t,e),nr(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){pt(e,e.return,p)}}break;case 3:if(Fn(t,e),nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(p){pt(e,e.return,p)}break;case 4:Fn(t,e),nr(e);break;case 13:Fn(t,e),nr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Om=bt())),r&4&&C_(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(y=Zt)||_,Fn(t,e),Zt=y):Fn(t,e),nr(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!_&&e.mode&1)for(pe=e,_=e.child;_!==null;){for(c=pe=_;pe!==null;){switch(f=pe,w=f.child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:To(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){pt(r,n,p)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){A_(c);continue}}w!==null?(w.return=f,pe=w):A_(c)}_=_.sibling}e:for(_=null,c=e;;){if(c.tag===5){if(_===null){_=c;try{i=c.stateNode,y?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,d=c.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=r1("display",a))}catch(p){pt(e,e.return,p)}}}else if(c.tag===6){if(_===null)try{c.stateNode.nodeValue=y?"":c.memoizedProps}catch(p){pt(e,e.return,p)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;_===c&&(_=null),c=c.return}_===c&&(_=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Fn(t,e),nr(e),r&4&&C_(e);break;case 21:break;default:Fn(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(LT(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ea(i,""),r.flags&=-33);var s=k_(e);gp(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=k_(e);mp(e,l,a);break;default:throw Error(ae(161))}}catch(d){pt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JA(e,t,n){pe=e,NT(e)}function NT(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||gl;if(!a){var l=i.alternate,d=l!==null&&l.memoizedState!==null||Zt;l=gl;var y=Zt;if(gl=a,(Zt=d)&&!y)for(pe=i;pe!==null;)a=pe,d=a.child,a.tag===22&&a.memoizedState!==null?L_(i):d!==null?(d.return=a,pe=d):L_(i);for(;s!==null;)pe=s,NT(s),s=s.sibling;pe=i,gl=l,Zt=y}P_(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):P_(e)}}function P_(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||bc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&d_(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}d_(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var _=y.memoizedState;if(_!==null){var c=_.dehydrated;c!==null&&ia(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Zt||t.flags&512&&pp(t)}catch(f){pt(t,t.return,f)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function A_(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function L_(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bc(4,t)}catch(d){pt(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){pt(t,i,d)}}var s=t.return;try{pp(t)}catch(d){pt(t,s,d)}break;case 5:var a=t.return;try{pp(t)}catch(d){pt(t,a,d)}}}catch(d){pt(t,t.return,d)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var eL=Math.ceil,gu=zr.ReactCurrentDispatcher,Rm=zr.ReactCurrentOwner,Ln=zr.ReactCurrentBatchConfig,Me=0,Rt=null,Et=null,jt=0,hn=0,So=pi(0),Ct=0,ma=null,Bi=0,Tc=0,Nm=0,Gs=null,nn=null,Om=0,Ho=1/0,_r=null,vu=!1,vp=null,ai=null,vl=!1,ei=null,yu=0,Ys=0,yp=null,$l=-1,Fl=0;function Jt(){return Me&6?bt():$l!==-1?$l:$l=bt()}function li(e){return e.mode&1?Me&2&&jt!==0?jt&-jt:$A.transition!==null?(Fl===0&&(Fl=g1()),Fl):(e=He,e!==0||(e=window.event,e=e===void 0?16:S1(e.type)),e):1}function Vn(e,t,n,r){if(50<Ys)throw Ys=0,yp=null,Error(ae(185));Ea(e,n,r),(!(Me&2)||e!==Rt)&&(e===Rt&&(!(Me&2)&&(Tc|=n),Ct===4&&Xr(e,jt)),ln(e,r),n===1&&Me===0&&!(t.mode&1)&&(Ho=bt()+500,yc&&mi()))}function ln(e,t){var n=e.callbackNode;$P(e,t);var r=tu(e,e===Rt?jt:0);if(r===0)n!==null&&zy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zy(n),t===1)e.tag===0?DA(I_.bind(null,e)):B1(I_.bind(null,e)),RA(function(){!(Me&6)&&mi()}),n=null;else{switch(v1(r)){case 1:n=sm;break;case 4:n=p1;break;case 16:n=eu;break;case 536870912:n=m1;break;default:n=eu}n=UT(n,OT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OT(e,t){if($l=-1,Fl=0,Me&6)throw Error(ae(327));var n=e.callbackNode;if(Io()&&e.callbackNode!==n)return null;var r=tu(e,e===Rt?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_u(e,r);else{t=r;var i=Me;Me|=2;var s=DT();(Rt!==e||jt!==t)&&(_r=null,Ho=bt()+500,Di(e,t));do try{rL();break}catch(l){MT(e,l)}while(1);_m(),gu.current=s,Me=i,Et!==null?t=0:(Rt=null,jt=0,t=Ct)}if(t!==0){if(t===2&&(i=qh(e),i!==0&&(r=i,t=_p(e,i))),t===1)throw n=ma,Di(e,0),Xr(e,r),ln(e,bt()),n;if(t===6)Xr(e,r);else{if(i=e.current.alternate,!(r&30)&&!tL(i)&&(t=_u(e,r),t===2&&(s=qh(e),s!==0&&(r=s,t=_p(e,s))),t===1))throw n=ma,Di(e,0),Xr(e,r),ln(e,bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:Ai(e,nn,_r);break;case 3:if(Xr(e,r),(r&130023424)===r&&(t=Om+500-bt(),10<t)){if(tu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jh(Ai.bind(null,e,nn,_r),t);break}Ai(e,nn,_r);break;case 4:if(Xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-qn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eL(r/1960))-r,10<r){e.timeoutHandle=Jh(Ai.bind(null,e,nn,_r),r);break}Ai(e,nn,_r);break;case 5:Ai(e,nn,_r);break;default:throw Error(ae(329))}}}return ln(e,bt()),e.callbackNode===n?OT.bind(null,e):null}function _p(e,t){var n=Gs;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=_u(e,t),e!==2&&(t=nn,nn=n,t!==null&&wp(t)),e}function wp(e){nn===null?nn=e:nn.push.apply(nn,e)}function tL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~Nm,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function I_(e){if(Me&6)throw Error(ae(327));Io();var t=tu(e,0);if(!(t&1))return ln(e,bt()),null;var n=_u(e,t);if(e.tag!==0&&n===2){var r=qh(e);r!==0&&(t=r,n=_p(e,r))}if(n===1)throw n=ma,Di(e,0),Xr(e,t),ln(e,bt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ai(e,nn,_r),ln(e,bt()),null}function Mm(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Ho=bt()+500,yc&&mi())}}function Hi(e){ei!==null&&ei.tag===0&&!(Me&6)&&Io();var t=Me;Me|=1;var n=Ln.transition,r=He;try{if(Ln.transition=null,He=1,e)return e()}finally{He=r,Ln.transition=n,Me=t,!(Me&6)&&mi()}}function Dm(){hn=So.current,nt(So)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IA(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(gm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&su();break;case 3:Uo(),nt(sn),nt(Kt),xm();break;case 5:Em(r);break;case 4:Uo();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:wm(r.type._context);break;case 22:case 23:Dm()}n=n.return}if(Rt=e,Et=e=ui(e.current,null),jt=hn=t,Ct=0,ma=null,Nm=Tc=Bi=0,nn=Gs=null,Ri!==null){for(t=0;t<Ri.length;t++)if(n=Ri[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ri=null}return e}function MT(e,t){do{var n=Et;try{if(_m(),Ol.current=mu,pu){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pu=!1}if(Ui=0,It=kt=dt=null,Vs=!1,fa=0,Rm.current=null,n===null||n.return===null){Ct=1,ma=t,Et=null;break}e:{var s=e,a=n.return,l=n,d=t;if(t=jt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var y=d,_=l,c=_.tag;if(!(_.mode&1)&&(c===0||c===11||c===15)){var f=_.alternate;f?(_.updateQueue=f.updateQueue,_.memoizedState=f.memoizedState,_.lanes=f.lanes):(_.updateQueue=null,_.memoizedState=null)}var w=y_(a);if(w!==null){w.flags&=-257,__(w,a,l,s,t),w.mode&1&&v_(s,y,t),t=w,d=y;var v=t.updateQueue;if(v===null){var p=new Set;p.add(d),t.updateQueue=p}else v.add(d);break e}else{if(!(t&1)){v_(s,y,t),$m();break e}d=Error(ae(426))}}else if(ot&&l.mode&1){var b=y_(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),__(b,a,l,s,t),vm(Bo(d,l));break e}}s=d=Bo(d,l),Ct!==4&&(Ct=2),Gs===null?Gs=[s]:Gs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=yT(s,d,t);c_(s,g);break e;case 1:l=d;var m=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ai===null||!ai.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=_T(s,l,t);c_(s,T);break e}}s=s.return}while(s!==null)}FT(n)}catch(x){t=x,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function DT(){var e=gu.current;return gu.current=mu,e===null?mu:e}function $m(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||!(Bi&268435455)&&!(Tc&268435455)||Xr(Rt,jt)}function _u(e,t){var n=Me;Me|=2;var r=DT();(Rt!==e||jt!==t)&&(_r=null,Di(e,t));do try{nL();break}catch(i){MT(e,i)}while(1);if(_m(),Me=n,gu.current=r,Et!==null)throw Error(ae(261));return Rt=null,jt=0,Ct}function nL(){for(;Et!==null;)$T(Et)}function rL(){for(;Et!==null&&!PP();)$T(Et)}function $T(e){var t=jT(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?FT(e):Et=t,Rm.current=null}function FT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=KA(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,Et=null;return}}else if(n=YA(n,t,hn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Ct===0&&(Ct=5)}function Ai(e,t,n){var r=He,i=Ln.transition;try{Ln.transition=null,He=1,iL(e,t,n,r)}finally{Ln.transition=i,He=r}return null}function iL(e,t,n,r){do Io();while(ei!==null);if(Me&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(FP(e,s),e===Rt&&(Et=Rt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vl||(vl=!0,UT(eu,function(){return Io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var a=He;He=1;var l=Me;Me|=4,Rm.current=null,QA(e,n),RT(n,e),EA(Xh),nu=!!Kh,Xh=Kh=null,e.current=n,JA(n),AP(),Me=l,He=a,Ln.transition=s}else e.current=n;if(vl&&(vl=!1,ei=e,yu=i),s=e.pendingLanes,s===0&&(ai=null),RP(n.stateNode),ln(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,e=vp,vp=null,e;return yu&1&&e.tag!==0&&Io(),s=e.pendingLanes,s&1?e===yp?Ys++:(Ys=0,yp=e):Ys=0,mi(),null}function Io(){if(ei!==null){var e=v1(yu),t=Ln.transition,n=He;try{if(Ln.transition=null,He=16>e?16:e,ei===null)var r=!1;else{if(e=ei,ei=null,yu=0,Me&6)throw Error(ae(331));var i=Me;for(Me|=4,pe=e.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var d=0;d<l.length;d++){var y=l[d];for(pe=y;pe!==null;){var _=pe;switch(_.tag){case 0:case 11:case 15:Zs(8,_,s)}var c=_.child;if(c!==null)c.return=_,pe=c;else for(;pe!==null;){_=pe;var f=_.sibling,w=_.return;if(AT(_),_===y){pe=null;break}if(f!==null){f.return=w,pe=f;break}pe=w}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,pe=g;break e}pe=s.return}}var m=e.current;for(pe=m;pe!==null;){a=pe;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,pe=h;else e:for(a=m;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bc(9,l)}}catch(x){pt(l,l.return,x)}if(l===a){pe=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,pe=T;break e}pe=l.return}}if(Me=i,mi(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(hc,e)}catch{}r=!0}return r}finally{He=n,Ln.transition=t}}return!1}function R_(e,t,n){t=Bo(n,t),t=yT(e,t,1),e=si(e,t,1),t=Jt(),e!==null&&(Ea(e,1,t),ln(e,t))}function pt(e,t,n){if(e.tag===3)R_(e,e,n);else for(;t!==null;){if(t.tag===3){R_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){e=Bo(n,e),e=_T(t,e,1),t=si(t,e,1),e=Jt(),t!==null&&(Ea(t,1,e),ln(t,e));break}}t=t.return}}function oL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jt(),e.pingedLanes|=e.suspendedLanes&n,Rt===e&&(jt&n)===n&&(Ct===4||Ct===3&&(jt&130023424)===jt&&500>bt()-Om?Di(e,0):Nm|=n),ln(e,t)}function zT(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=Jt();e=Nr(e,t),e!==null&&(Ea(e,t,n),ln(e,n))}function sL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zT(e,n)}function aL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),zT(e,n)}var jT;jT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rn=!1,GA(e,t,n);rn=!!(e.flags&131072)}else rn=!1,ot&&t.flags&1048576&&H1(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var i=Fo(t,Kt.current);Lo(t,n),i=Cm(null,t,r,e,i,n);var s=Pm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(r)?(s=!0,au(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tm(t),i.updater=_c,t.stateNode=i,i._reactInternals=t,sp(t,r,e,n),t=up(null,t,r,!0,s,n)):(t.tag=0,ot&&s&&mm(t),Qt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=uL(r),e=jn(r,e),i){case 0:t=lp(null,t,r,e,n);break e;case 1:t=T_(null,t,r,e,n);break e;case 11:t=w_(null,t,r,e,n);break e;case 14:t=b_(null,t,r,jn(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),lp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),T_(e,t,r,i,n);case 3:e:{if(ST(t),e===null)throw Error(ae(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Z1(e,t),fu(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Bo(Error(ae(423)),t),t=S_(e,t,r,n,i);break e}else if(r!==i){i=Bo(Error(ae(424)),t),t=S_(e,t,r,n,i);break e}else for(pn=oi(t.stateNode.containerInfo.firstChild),mn=t,ot=!0,Bn=null,n=X1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===i){t=Or(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return Q1(t),e===null&&rp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Qh(r,i)?a=null:s!==null&&Qh(r,s)&&(t.flags|=32),TT(e,t),Qt(e,t,a,n),t.child;case 6:return e===null&&rp(t),null;case 13:return ET(e,t,n);case 4:return Sm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jo(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),w_(e,t,r,i,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Xe(cu,r._currentValue),r._currentValue=a,s!==null)if(Gn(s.value,a)){if(s.children===i.children&&!sn.current){t=Or(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=Pr(-1,n&-n),d.tag=2;var y=s.updateQueue;if(y!==null){y=y.shared;var _=y.pending;_===null?d.next=d:(d.next=_.next,_.next=d),y.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),ip(s.return,n,t),l.lanes|=n;break}d=d.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ip(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lo(t,n),i=Rn(i),r=r(i),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,i=jn(r,t.pendingProps),i=jn(r.type,i),b_(e,t,r,i,n);case 15:return wT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),Dl(e,t),t.tag=1,an(r)?(e=!0,au(t)):e=!1,Lo(t,n),Y1(t,r,i),sp(t,r,i,n),up(null,t,r,!0,e,n);case 19:return xT(e,t,n);case 22:return bT(e,t,n)}throw Error(ae(156,t.tag))};function UT(e,t){return h1(e,t)}function lL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,t,n,r){return new lL(e,t,n,r)}function Fm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uL(e){if(typeof e=="function")return Fm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rm)return 11;if(e===im)return 14}return 2}function ui(e,t){var n=e.alternate;return n===null?(n=Pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Fm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ho:return $i(n.children,i,s,t);case nm:a=8,i|=8;break;case Lh:return e=Pn(12,n,t,i|2),e.elementType=Lh,e.lanes=s,e;case Ih:return e=Pn(13,n,t,i),e.elementType=Ih,e.lanes=s,e;case Rh:return e=Pn(19,n,t,i),e.elementType=Rh,e.lanes=s,e;case Kb:return Sc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gb:a=10;break e;case Yb:a=9;break e;case rm:a=11;break e;case im:a=14;break e;case Gr:a=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=Pn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $i(e,t,n,r){return e=Pn(7,e,r,t),e.lanes=n,e}function Sc(e,t,n,r){return e=Pn(22,e,r,t),e.elementType=Kb,e.lanes=n,e.stateNode={isHidden:!1},e}function mf(e,t,n){return e=Pn(6,e,null,t),e.lanes=n,e}function gf(e,t,n){return t=Pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yd(0),this.expirationTimes=Yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zm(e,t,n,r,i,s,a,l,d){return e=new cL(e,t,n,l,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(s),e}function dL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BT(e){if(!e)return di;e=e._reactInternals;e:{if(Yi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(an(n))return U1(e,n,t)}return t}function HT(e,t,n,r,i,s,a,l,d){return e=zm(n,r,!0,e,i,s,a,l,d),e.context=BT(null),n=e.current,r=Jt(),i=li(n),s=Pr(r,i),s.callback=t??null,si(n,s,i),e.current.lanes=i,Ea(e,i,r),ln(e,r),e}function Ec(e,t,n,r){var i=t.current,s=Jt(),a=li(i);return n=BT(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=si(i,t,a),e!==null&&(Vn(e,i,a,s),Nl(e,i,a)),a}function wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jm(e,t){N_(e,t),(e=e.alternate)&&N_(e,t)}function fL(){return null}var WT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Um(e){this._internalRoot=e}xc.prototype.render=Um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Ec(e,t,null,null)};xc.prototype.unmount=Um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){Ec(null,e,null,null)}),t[Rr]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=w1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kr.length&&t!==0&&t<Kr[n].priority;n++);Kr.splice(n,0,e),n===0&&T1(e)}};function Bm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function O_(){}function hL(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var y=wu(a);s.call(y)}}var a=HT(t,r,e,0,null,!1,!1,"",O_);return e._reactRootContainer=a,e[Rr]=a.current,aa(e.nodeType===8?e.parentNode:e),Hi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var y=wu(d);l.call(y)}}var d=zm(e,0,!1,null,null,!1,!1,"",O_);return e._reactRootContainer=d,e[Rr]=d.current,aa(e.nodeType===8?e.parentNode:e),Hi(function(){Ec(t,d,n,r)}),d}function Cc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var d=wu(a);l.call(d)}}Ec(t,a,e,i)}else a=hL(n,t,e,i,r);return wu(a)}y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(am(t,n|1),ln(t,bt()),!(Me&6)&&(Ho=bt()+500,mi()))}break;case 13:Hi(function(){var r=Nr(e,1);if(r!==null){var i=Jt();Vn(r,e,1,i)}}),jm(e,1)}};lm=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var n=Jt();Vn(t,e,134217728,n)}jm(e,134217728)}};_1=function(e){if(e.tag===13){var t=li(e),n=Nr(e,t);if(n!==null){var r=Jt();Vn(n,e,t,r)}jm(e,t)}};w1=function(){return He};b1=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};Bh=function(e,t,n){switch(t){case"input":if(Mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vc(r);if(!i)throw Error(ae(90));Qb(r),Mh(r,i)}}}break;case"textarea":e1(e,n);break;case"select":t=n.value,t!=null&&ko(e,!!n.multiple,t,!1)}};a1=Mm;l1=Hi;var pL={usingClientEntryPoint:!1,Events:[ka,vo,vc,o1,s1,Mm]},xs={findFiberByHostInstance:Ii,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mL={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d1(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||fL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{hc=yl.inject(mL),ar=yl}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(t))throw Error(ae(200));return dL(e,t,null,n)};_n.createRoot=function(e,t){if(!Bm(e))throw Error(ae(299));var n=!1,r="",i=WT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zm(e,1,!1,null,null,n,!1,r,i),e[Rr]=t.current,aa(e.nodeType===8?e.parentNode:e),new Um(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=d1(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return Hi(e)};_n.hydrate=function(e,t,n){if(!kc(t))throw Error(ae(200));return Cc(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Bm(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=WT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=HT(t,null,e,1,n??null,i,!1,s,a),e[Rr]=t.current,aa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xc(t)};_n.render=function(e,t,n){if(!kc(t))throw Error(ae(200));return Cc(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!kc(e))throw Error(ae(40));return e._reactRootContainer?(Hi(function(){Cc(null,null,e,!1,function(){e._reactRootContainer=null,e[Rr]=null})}),!0):!1};_n.unstable_batchedUpdates=Mm;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kc(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Cc(e,t,n,!1,r)};_n.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=_n})(fP);const gL=dc(Do);var M_=Do;Ch.createRoot=M_.createRoot,Ch.hydrateRoot=M_.hydrateRoot;var bu={},vL={get exports(){return bu},set exports(e){bu=e}},qT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=te;function yL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _L=typeof Object.is=="function"?Object.is:yL,wL=Wo.useState,bL=Wo.useEffect,TL=Wo.useLayoutEffect,SL=Wo.useDebugValue;function EL(e,t){var n=t(),r=wL({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return TL(function(){i.value=n,i.getSnapshot=t,vf(i)&&s({inst:i})},[e,n,t]),bL(function(){return vf(i)&&s({inst:i}),e(function(){vf(i)&&s({inst:i})})},[e]),SL(n),n}function vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_L(e,n)}catch{return!0}}function xL(e,t){return t()}var kL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xL:EL;qT.useSyncExternalStore=Wo.useSyncExternalStore!==void 0?Wo.useSyncExternalStore:kL;(function(e){e.exports=qT})(vL);var D_={},CL={get exports(){return D_},set exports(e){D_=e}},VT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=te,PL=bu;function AL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LL=typeof Object.is=="function"?Object.is:AL,IL=PL.useSyncExternalStore,RL=Pc.useRef,NL=Pc.useEffect,OL=Pc.useMemo,ML=Pc.useDebugValue;VT.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=RL(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=OL(function(){function d(w){if(!y){if(y=!0,_=w,w=r(w),i!==void 0&&a.hasValue){var v=a.value;if(i(v,w))return c=v}return c=w}if(v=c,LL(_,w))return v;var p=r(w);return i!==void 0&&i(v,p)?v:(_=w,c=p)}var y=!1,_,c,f=n===void 0?null:n;return[function(){return d(t())},f===null?void 0:function(){return d(f())}]},[t,n,r,i]);var l=IL(e,s[0],s[1]);return NL(function(){a.hasValue=!0,a.value=l},[l]),ML(l),l};(function(e){e.exports=VT})(CL);function DL(e){e()}let ZT=DL;const $L=e=>ZT=e,FL=()=>ZT,GT=te.createContext(null),zL=()=>{throw new Error("uSES not initialized!")};function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}function Hm(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var bp={},jL={get exports(){return bp},set exports(e){bp=e}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,Wm=Nt?Symbol.for("react.element"):60103,qm=Nt?Symbol.for("react.portal"):60106,Ac=Nt?Symbol.for("react.fragment"):60107,Lc=Nt?Symbol.for("react.strict_mode"):60108,Ic=Nt?Symbol.for("react.profiler"):60114,Rc=Nt?Symbol.for("react.provider"):60109,Nc=Nt?Symbol.for("react.context"):60110,Vm=Nt?Symbol.for("react.async_mode"):60111,Oc=Nt?Symbol.for("react.concurrent_mode"):60111,Mc=Nt?Symbol.for("react.forward_ref"):60112,Dc=Nt?Symbol.for("react.suspense"):60113,UL=Nt?Symbol.for("react.suspense_list"):60120,$c=Nt?Symbol.for("react.memo"):60115,Fc=Nt?Symbol.for("react.lazy"):60116,BL=Nt?Symbol.for("react.block"):60121,HL=Nt?Symbol.for("react.fundamental"):60117,WL=Nt?Symbol.for("react.responder"):60118,qL=Nt?Symbol.for("react.scope"):60119;function bn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wm:switch(e=e.type,e){case Vm:case Oc:case Ac:case Ic:case Lc:case Dc:return e;default:switch(e=e&&e.$$typeof,e){case Nc:case Mc:case Fc:case $c:case Rc:return e;default:return t}}case qm:return t}}}function YT(e){return bn(e)===Oc}We.AsyncMode=Vm;We.ConcurrentMode=Oc;We.ContextConsumer=Nc;We.ContextProvider=Rc;We.Element=Wm;We.ForwardRef=Mc;We.Fragment=Ac;We.Lazy=Fc;We.Memo=$c;We.Portal=qm;We.Profiler=Ic;We.StrictMode=Lc;We.Suspense=Dc;We.isAsyncMode=function(e){return YT(e)||bn(e)===Vm};We.isConcurrentMode=YT;We.isContextConsumer=function(e){return bn(e)===Nc};We.isContextProvider=function(e){return bn(e)===Rc};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wm};We.isForwardRef=function(e){return bn(e)===Mc};We.isFragment=function(e){return bn(e)===Ac};We.isLazy=function(e){return bn(e)===Fc};We.isMemo=function(e){return bn(e)===$c};We.isPortal=function(e){return bn(e)===qm};We.isProfiler=function(e){return bn(e)===Ic};We.isStrictMode=function(e){return bn(e)===Lc};We.isSuspense=function(e){return bn(e)===Dc};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ac||e===Oc||e===Ic||e===Lc||e===Dc||e===UL||typeof e=="object"&&e!==null&&(e.$$typeof===Fc||e.$$typeof===$c||e.$$typeof===Rc||e.$$typeof===Nc||e.$$typeof===Mc||e.$$typeof===HL||e.$$typeof===WL||e.$$typeof===qL||e.$$typeof===BL)};We.typeOf=bn;(function(e){e.exports=We})(jL);var Zm=bp,VL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gm={};Gm[Zm.ForwardRef]=GL;Gm[Zm.Memo]=KT;function $_(e){return Zm.isMemo(e)?KT:Gm[e.$$typeof]||VL}var YL=Object.defineProperty,KL=Object.getOwnPropertyNames,F_=Object.getOwnPropertySymbols,XL=Object.getOwnPropertyDescriptor,QL=Object.getPrototypeOf,z_=Object.prototype;function XT(e,t,n){if(typeof t!="string"){if(z_){var r=QL(t);r&&r!==z_&&XT(e,r,n)}var i=KL(t);F_&&(i=i.concat(F_(t)));for(var s=$_(e),a=$_(t),l=0;l<i.length;++l){var d=i[l];if(!ZL[d]&&!(n&&n[d])&&!(a&&a[d])&&!(s&&s[d])){var y=XL(t,d);try{YL(e,d,y)}catch{}}}}return e}var j_=XT,Tp={},JL={get exports(){return Tp},set exports(e){Tp=e}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),Km=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),Uc=Symbol.for("react.profiler"),Bc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),e2=Symbol.for("react.server_context"),Wc=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Vc=Symbol.for("react.suspense_list"),Zc=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),t2=Symbol.for("react.offscreen"),QT;QT=Symbol.for("react.module.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ym:switch(e=e.type,e){case zc:case Uc:case jc:case qc:case Vc:return e;default:switch(e=e&&e.$$typeof,e){case e2:case Hc:case Wc:case Gc:case Zc:case Bc:return e;default:return t}}case Km:return t}}}qe.ContextConsumer=Hc;qe.ContextProvider=Bc;qe.Element=Ym;qe.ForwardRef=Wc;qe.Fragment=zc;qe.Lazy=Gc;qe.Memo=Zc;qe.Portal=Km;qe.Profiler=Uc;qe.StrictMode=jc;qe.Suspense=qc;qe.SuspenseList=Vc;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(e){return On(e)===Hc};qe.isContextProvider=function(e){return On(e)===Bc};qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ym};qe.isForwardRef=function(e){return On(e)===Wc};qe.isFragment=function(e){return On(e)===zc};qe.isLazy=function(e){return On(e)===Gc};qe.isMemo=function(e){return On(e)===Zc};qe.isPortal=function(e){return On(e)===Km};qe.isProfiler=function(e){return On(e)===Uc};qe.isStrictMode=function(e){return On(e)===jc};qe.isSuspense=function(e){return On(e)===qc};qe.isSuspenseList=function(e){return On(e)===Vc};qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zc||e===Uc||e===jc||e===qc||e===Vc||e===t2||typeof e=="object"&&e!==null&&(e.$$typeof===Gc||e.$$typeof===Zc||e.$$typeof===Bc||e.$$typeof===Hc||e.$$typeof===Wc||e.$$typeof===QT||e.getModuleId!==void 0)};qe.typeOf=On;(function(e){e.exports=qe})(JL);const n2=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function r2(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,d,y,_,c,f;function w(m,h){return d=m,y=h,_=e(d,y),c=t(r,y),f=n(_,c,y),l=!0,f}function v(){return _=e(d,y),t.dependsOnOwnProps&&(c=t(r,y)),f=n(_,c,y),f}function p(){return e.dependsOnOwnProps&&(_=e(d,y)),t.dependsOnOwnProps&&(c=t(r,y)),f=n(_,c,y),f}function b(){const m=e(d,y),h=!a(m,_);return _=m,h&&(f=n(_,c,y)),f}function g(m,h){const T=!s(h,y),x=!i(m,d,h,y);return d=m,y=h,T&&x?v():T?p():x?b():f}return function(h,T){return l?g(h,T):w(h,T)}}function i2(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,s=Hm(t,n2);const a=n(e,s),l=r(e,s),d=i(e,s);return r2(a,l,d,e,s)}function o2(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function Sp(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function U_(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):e.length!==1}function JT(e,t){return function(r,{displayName:i}){const s=function(l,d){return s.dependsOnOwnProps?s.mapToProps(l,d):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,d){s.mapToProps=e,s.dependsOnOwnProps=U_(e);let y=s(l,d);return typeof y=="function"&&(s.mapToProps=y,s.dependsOnOwnProps=U_(y),y=s(l,d)),y},s}}function Xm(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function s2(e){return e&&typeof e=="object"?Sp(t=>o2(e,t)):e?typeof e=="function"?JT(e):Xm(e,"mapDispatchToProps"):Sp(t=>({dispatch:t}))}function a2(e){return e?typeof e=="function"?JT(e):Xm(e,"mapStateToProps"):Sp(()=>({}))}function l2(e,t,n){return Ro({},n,e,t)}function u2(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,a;return function(d,y,_){const c=e(d,y,_);return s?i(c,a)||(a=c):(s=!0,a=c),a}}}function c2(e){return e?typeof e=="function"?u2(e):Xm(e,"mergeProps"):()=>l2}function d2(){const e=FL();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const B_={notify(){},get:()=>[]};function eS(e,t){let n,r=B_;function i(c){return d(),r.subscribe(c)}function s(){r.notify()}function a(){_.onStateChange&&_.onStateChange()}function l(){return Boolean(n)}function d(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=d2())}function y(){n&&(n(),n=void 0,r.clear(),r=B_)}const _={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:l,trySubscribe:d,tryUnsubscribe:y,getListeners:()=>r};return _}const f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tu=f2?te.useLayoutEffect:te.useEffect;function H_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yf(e,t){if(H_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!H_(e[n[i]],t[n[i]]))return!1;return!0}const h2=["reactReduxForwardedRef"];let tS=zL;const p2=e=>{tS=e},m2=[null,null];function g2(e,t,n){Tu(()=>e(...t),n)}function v2(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function y2(e,t,n,r,i,s,a,l,d,y,_){if(!e)return()=>{};let c=!1,f=null;const w=()=>{if(c||!l.current)return;const p=t.getState();let b,g;try{b=r(p,i.current)}catch(m){g=m,f=m}g||(f=null),b===s.current?a.current||y():(s.current=b,d.current=b,a.current=!0,_())};return n.onStateChange=w,n.trySubscribe(),w(),()=>{if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function _2(e,t){return e===t}function gi(e,t,n,{pure:r,areStatesEqual:i=_2,areOwnPropsEqual:s=yf,areStatePropsEqual:a=yf,areMergedPropsEqual:l=yf,forwardRef:d=!1,context:y=GT}={}){const _=y,c=a2(e),f=s2(t),w=c2(n),v=Boolean(e);return b=>{const g=b.displayName||b.name||"Component",m=`Connect(${g})`,h={shouldHandleStateChanges:v,displayName:m,wrappedComponentName:g,WrappedComponent:b,initMapStateToProps:c,initMapDispatchToProps:f,initMergeProps:w,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function T(C){const[E,A,P]=te.useMemo(()=>{const{reactReduxForwardedRef:Z}=C,Q=Hm(C,h2);return[C.context,Z,Q]},[C]),N=te.useMemo(()=>E&&E.Consumer&&Tp.isContextConsumer(wt.createElement(E.Consumer,null))?E:_,[E,_]),$=te.useContext(N),F=Boolean(C.store)&&Boolean(C.store.getState)&&Boolean(C.store.dispatch),j=Boolean($)&&Boolean($.store),B=F?C.store:$.store,H=j?$.getServerState:B.getState,U=te.useMemo(()=>i2(B.dispatch,h),[B]),[W,Y]=te.useMemo(()=>{if(!v)return m2;const Z=eS(B,F?void 0:$.subscription),Q=Z.notifyNestedSubs.bind(Z);return[Z,Q]},[B,F,$]),G=te.useMemo(()=>F?$:Ro({},$,{subscription:W}),[F,$,W]),J=te.useRef(),oe=te.useRef(P),ce=te.useRef(),fe=te.useRef(!1);te.useRef(!1);const de=te.useRef(!1),ue=te.useRef();Tu(()=>(de.current=!0,()=>{de.current=!1}),[]);const be=te.useMemo(()=>()=>ce.current&&P===oe.current?ce.current:U(B.getState(),P),[B,P]),re=te.useMemo(()=>Q=>W?y2(v,B,W,U,oe,J,fe,de,ce,Y,Q):()=>{},[W]);g2(v2,[oe,J,fe,P,ce,Y]);let M;try{M=tS(re,be,H?()=>U(H(),P):be)}catch(Z){throw ue.current&&(Z.message+=`
The error may be correlated with this previous error:
${ue.current.stack}

`),Z}Tu(()=>{ue.current=void 0,ce.current=void 0,J.current=M});const z=te.useMemo(()=>wt.createElement(b,Ro({},M,{ref:A})),[A,b,M]);return te.useMemo(()=>v?wt.createElement(N.Provider,{value:G},z):z,[N,z,G])}const k=wt.memo(T);if(k.WrappedComponent=b,k.displayName=T.displayName=m,d){const E=wt.forwardRef(function(P,N){return wt.createElement(k,Ro({},P,{reactReduxForwardedRef:N}))});return E.displayName=m,E.WrappedComponent=b,j_(E,b)}return j_(k,b)}}function w2({store:e,context:t,children:n,serverState:r}){const i=te.useMemo(()=>{const l=eS(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0}},[e,r]),s=te.useMemo(()=>e.getState(),[e]);Tu(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const a=t||GT;return wt.createElement(a.Provider,{value:i},n)}p2(bu.useSyncExternalStore);$L(Do.unstable_batchedUpdates);function ga(e){return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function b2(e,t){if(ga(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ga(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T2(e){var t=b2(e,"string");return ga(t)==="symbol"?t:String(t)}function S2(e,t,n){return t=T2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(r){S2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $t(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var V_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_f=function(){return Math.random().toString(36).substring(7).split("").join(".")},va={INIT:"@@redux/INIT"+_f(),REPLACE:"@@redux/REPLACE"+_f(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_f()}};function E2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Yc(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($t(1));return n(Yc)(e,t)}if(typeof e!="function")throw new Error($t(2));var i=e,s=t,a=[],l=a,d=!1;function y(){l===a&&(l=a.slice())}function _(){if(d)throw new Error($t(3));return s}function c(p){if(typeof p!="function")throw new Error($t(4));if(d)throw new Error($t(5));var b=!0;return y(),l.push(p),function(){if(b){if(d)throw new Error($t(6));b=!1,y();var m=l.indexOf(p);l.splice(m,1),a=null}}}function f(p){if(!E2(p))throw new Error($t(7));if(typeof p.type>"u")throw new Error($t(8));if(d)throw new Error($t(9));try{d=!0,s=i(s,p)}finally{d=!1}for(var b=a=l,g=0;g<b.length;g++){var m=b[g];m()}return p}function w(p){if(typeof p!="function")throw new Error($t(10));i=p,f({type:va.REPLACE})}function v(){var p,b=c;return p={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error($t(11));function h(){m.next&&m.next(_())}h();var T=b(h);return{unsubscribe:T}}},p[V_]=function(){return this},p}return f({type:va.INIT}),r={dispatch:f,subscribe:c,getState:_,replaceReducer:w},r[V_]=v,r}var x2=Yc;function k2(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:va.INIT});if(typeof r>"u")throw new Error($t(12));if(typeof n(void 0,{type:va.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function nS(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),a;try{k2(n)}catch(l){a=l}return function(d,y){if(d===void 0&&(d={}),a)throw a;for(var _=!1,c={},f=0;f<s.length;f++){var w=s[f],v=n[w],p=d[w],b=v(p,y);if(typeof b>"u")throw y&&y.type,new Error($t(14));c[w]=b,_=_||b!==p}return _=_||s.length!==Object.keys(d).length,_?c:d}}function Z_(e,t){return function(){return t(e.apply(this,arguments))}}function es(e,t){if(typeof e=="function")return Z_(e,t);if(typeof e!="object"||e===null)throw new Error($t(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=Z_(i,t))}return n}function Qm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Ep(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error($t(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(d){return d(a)});return s=Qm.apply(void 0,l)(i.dispatch),q_(q_({},i),{},{dispatch:s})}}}const C2=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:va,applyMiddleware:Ep,bindActionCreators:es,combineReducers:nS,compose:Qm,createStore:Yc,legacy_createStore:x2},Symbol.toStringTag,{value:"Module"}));function rS(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(a){return function(l){return typeof l=="function"?l(i,s,e):a(l)}}};return t}var iS=rS();iS.withExtraArgument=rS;const P2=iS,ks=1440,G_="https://localhost:3000",Gt={title:"Project Mariupol",display_title:"Project Mariupol",SERVER_ROOT:G_,MILITARY_EXT:"Military",EVENTS_EXT:"Events",SOURCES_EXT:"Sources",ASSOCIATIONS_EXT:"Associations",LOGIN_EXT:"login",API_DATA:G_+"Events",MAPBOX_TOKEN:"pk.eyJ1IjoiYmVsbGluZ2NhdC1tYXBib3giLCJhIjoiY2tleW0wbWliMDA1cTJ5bzdkbTRraHgwZSJ9.GJQkjPzj8554VhR5SPsfJg",DATE_FMT:"MM/DD/YYYY",TIME_FMT:"hh:mm",store:{app:{debug:!1,map:{anchor:[48.3326259,33.19951447],maxZoom:18,minZoom:4,startZoom:6},cluster:{radius:50,minZoom:5,maxZoom:12},associations:{defaultCategory:"Weapon System"},timeline:{dimensions:{height:90,contentHeight:90},zoomLevels:[{label:"Zoom to 1 month",duration:31*ks},{label:"Zoom to 6 months",duration:6*31*ks},{label:"Zoom to 1 year",duration:12*31*ks},{label:"Zoom to 2 years",duration:24*31*ks}],range:{initial:void 0,initialDaysShown:31,limits:{lower:"2022-02-01T00:00:00.000Z",upper:void 0}}},intro:['<div class="two-columns"><div class="two-columns_column"><figure><img style="width: 100%; display:block;" src="https://bellingcat-embeds.ams3.cdn.digitaloceanspaces.com/ukraine-timemap/cover01-s.jpg" frameborder="0"><figcaption>Image: Vyacheslav Madiyevskyy/Reuters</figcaption></figure></div><div class="two-columns_column"><figure><img style="width: 100%; display:block;" src="https://bellingcat-embeds.ams3.cdn.digitaloceanspaces.com/ukraine-timemap/cover02-s.jpg" frameborder="0"><figcaption>Image: Järva Teataja/Scanpix Baltics via Reuters</figcaption></figure></div></div>',`Each day, new information and imagery of war crimes in occupied territories and combat zones around Ukraine emerge. Since the revelation of the Bucha massacre at the beginning of April 2022, there have been various efforts to document war crimes in Ukraine. However, as part of southern and parts of eastern Ukraine remain occupied, traditional modes of investigation have not been successful in gathering information from those regions.
Open-source information is information in any format (audio, visual and/or metadata) that is available to be accessed online without restrictions. Popular examples are photos from social media apps and pages. In the context of Ukraine, OSINT has been utilised vastly for many purposes. During the first few weeks of the war (and still today), OSINT pages and channels on Telegram and Twitter have been tracking the war (uploading troop movements, tallying unit casualties from photos and videos, tracking planes via the ‘flightradar’ app). In mid-March, the first OSINT information on war crimes emerged with MAXAR satellite imagery of corpse covered roads in occupied Bucha, Hostomel, and Irpin (towns near Kyiv). From then on, various OSINT investigation efforts have been conducted by both governmental and private organisations to document war crimes in Ukraine.
The project has a twofold goal:
- mapping international crimes committed in Ukraine by the Russian Federation,
- providing a learning environment to new OSINTers by training them by practice. 
We achieve our mission by:
- documenting international crimes by our OSINTers,
- aggregating already mapped data from other OSINT groups,
- collaborating with international and local NGOs, 
- collaboration with academic institutions.`],flags:{isInfopoup:!1,isCover:!1},cover:{title:"About and Methodology",exploreButton:"BACK TO THE PLATFORM",description:[`Each day, new information and imagery of war crimes in occupied territories and combat zones around Ukraine emerge. Since the revelation of the Bucha Massacre at the beginning of April 2022, there have been various efforts to document war crimes in Ukraine. However, as part of southern and parts of eastern Ukraine remain occupied, traditional modes of investigation have not been successful in gathering information from those regions.

Open-source information is information in any format (audio, visual and/or metadata) that is available to be accessed online without restrictions. Popular examples are photos from social media apps and pages. In the context of Ukraine, OSINT has been utilised vastly for many purposes. During the first few weeks of the war (and still today) OSINT pages and channels on Telegram and Twitter have been tracking the war (uploading troop movements, tallying unit casualties from photos and videos, tracking planes via the ‘flightradar’ app). In mid-March, the first OSINT information on war crimes emerged with MAXAR satellite imagery of corpse covered roads in occupied Bucha, Hostomel and Irpin (towns near Kyiv). From then on, various OSINT investigation efforts have been conducted by both governmental and private organisations to document war crimes in Ukraine.

The project has a two fold goal: 

    - Mapping international crimes committed in Ukraine by the Russian Federation 

    - Providing a learning environment to new OSINTers by training them by practice 

We achieve our mission by: 

    - Documenting International Crimes by our OSINTers

    - Aggregating already mapped data from other OSINT groups

    - Collaborating with International and Local NGO’s 

    - Collaboration with Academic Institutions`]},toolbar:{panels:{categories:{}}},spotlights:{}},ui:{coloring:{mode:"STATIC",maxNumOfColors:10,defaultColor:"#262323",colors:["#8B0000","#442020","#2F4F4F","#08B2E3","#A1887F","#E57373","#90A4AE","#80CBC4","#7E57C2","#FFEB3B"]},card:{layout:{template:"sourced"}},carto:{eventRadius:8},timeline:{eventRadius:9},tiles:{current:"bellingcat-mapbox/cl0qnou2y003m15s8ieuyhgsy",default:"bellingcat-mapbox/cl0qnou2y003m15s8ieuyhgsy",satellite:"bellingcat-mapbox/cl1win2vp003914pdhateva6p"}},features:{USE_CATEGORIES:!1,CATEGORIES_AS_FILTERS:!1,COLOR_BY_CATEGORY:!1,COLOR_BY_ASSOCIATION:!0,USE_ASSOCIATIONS:!0,USE_FULLSCREEN:!0,USE_DOWNLOAD:!1,USE_SOURCES:!0,USE_SPOTLIGHTS:!1,USE_SHAPES:!1,USE_COVER:!0,USE_INTRO:!1,USE_SATELLITE_OVERLAY_TOGGLE:!0,USE_SEARCH:!1,USE_SITES:!1,ZOOM_TO_TIMEFRAME_ON_TIMELINE_CLICK:ks,FETCH_EXTERNAL_MEDIA:!1,USE_MEDIA_CACHE:!1,GRAPH_NONLOCATED:!1,NARRATIVE_STEP_STYLES:!1,CUSTOM_EVENT_FIELDS:[]}}};var xp={},A2={get exports(){return xp},set exports(e){xp=e}};(function(e,t){(function(n,r){e.exports=r()})(Qr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},d=function(p){return(p=+p)+(p>68?1900:2e3)},y=function(p){return function(b){this[p]=+b}},_=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var g=b.match(/([+-]|\d\d)/g),m=60*g[1]+(+g[2]||0);return m===0?0:g[0]==="+"?-m:m}(p)}],c=function(p){var b=l[p];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(p,b){var g,m=l.meridiem;if(m){for(var h=1;h<=24;h+=1)if(p.indexOf(m(h,0,b))>-1){g=h>12;break}}else g=p===(b?"pm":"PM");return g},w={A:[a,function(p){this.afternoon=f(p,!1)}],a:[a,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[i,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,y("seconds")],ss:[s,y("seconds")],m:[s,y("minutes")],mm:[s,y("minutes")],H:[s,y("hours")],h:[s,y("hours")],HH:[s,y("hours")],hh:[s,y("hours")],D:[s,y("day")],DD:[i,y("day")],Do:[a,function(p){var b=l.ordinal,g=p.match(/\d+/);if(this.day=g[0],b)for(var m=1;m<=31;m+=1)b(m).replace(/\[|\]/g,"")===p&&(this.day=m)}],M:[s,y("month")],MM:[i,y("month")],MMM:[a,function(p){var b=c("months"),g=(c("monthsShort")||b.map(function(m){return m.slice(0,3)})).indexOf(p)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[a,function(p){var b=c("months").indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,y("year")],YY:[i,function(p){this.year=d(p)}],YYYY:[/\d{4}/,y("year")],Z:_,ZZ:_};function v(p){var b,g;b=p,g=l&&l.formats;for(var m=(p=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,P,N){var $=N&&N.toUpperCase();return P||g[N]||n[N]||g[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,j,B){return j||B.slice(1)})})).match(r),h=m.length,T=0;T<h;T+=1){var x=m[T],k=w[x],C=k&&k[0],E=k&&k[1];m[T]=E?{regex:C,parser:E}:x.replace(/^\[|\]$/g,"")}return function(A){for(var P={},N=0,$=0;N<h;N+=1){var F=m[N];if(typeof F=="string")$+=F.length;else{var j=F.regex,B=F.parser,H=A.slice($),U=j.exec(H)[0];B.call(P,U),A=A.replace(U,"")}}return function(W){var Y=W.afternoon;if(Y!==void 0){var G=W.hours;Y?G<12&&(W.hours+=12):G===12&&(W.hours=0),delete W.afternoon}}(P),P}}return function(p,b,g){g.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(d=p.parseTwoDigitYear);var m=b.prototype,h=m.parse;m.parse=function(T){var x=T.date,k=T.utc,C=T.args;this.$u=k;var E=C[1];if(typeof E=="string"){var A=C[2]===!0,P=C[3]===!0,N=A||P,$=C[2];P&&($=C[2]),l=this.$locale(),!A&&$&&(l=g.Ls[$]),this.$d=function(H,U,W){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*H);var Y=v(U)(H),G=Y.year,J=Y.month,oe=Y.day,ce=Y.hours,fe=Y.minutes,de=Y.seconds,ue=Y.milliseconds,be=Y.zone,re=new Date,M=oe||(G||J?1:re.getDate()),z=G||re.getFullYear(),q=0;G&&!J||(q=J>0?J-1:re.getMonth());var Z=ce||0,Q=fe||0,ne=de||0,ve=ue||0;return be?new Date(Date.UTC(z,q,M,Z,Q,ne,ve+60*be.offset*1e3)):W?new Date(Date.UTC(z,q,M,Z,Q,ne,ve)):new Date(z,q,M,Z,Q,ne,ve)}catch{return new Date("")}}(x,E,k),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),N&&x!=this.format(E)&&(this.$d=new Date("")),l={}}else if(E instanceof Array)for(var F=E.length,j=1;j<=F;j+=1){C[1]=E[j-1];var B=g.apply(this,C);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}j===F&&(this.$d=new Date(""))}else h.call(this,T)}}})})(A2);const L2=xp;var qo={},I2={get exports(){return qo},set exports(e){qo=e}};(function(e,t){(function(n,r){e.exports=r()})(Qr,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",a="second",l="minute",d="hour",y="day",_="week",c="month",f="quarter",w="year",v="date",p="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var j=["th","st","nd","rd"],B=F%100;return"["+F+(j[(B-20)%10]||j[B]||j[0])+"]"}},h=function(F,j,B){var H=String(F);return!H||H.length>=j?F:""+Array(j+1-H.length).join(B)+F},T={s:h,z:function(F){var j=-F.utcOffset(),B=Math.abs(j),H=Math.floor(B/60),U=B%60;return(j<=0?"+":"-")+h(H,2,"0")+":"+h(U,2,"0")},m:function F(j,B){if(j.date()<B.date())return-F(B,j);var H=12*(B.year()-j.year())+(B.month()-j.month()),U=j.clone().add(H,c),W=B-U<0,Y=j.clone().add(H+(W?-1:1),c);return+(-(H+(B-U)/(W?U-Y:Y-U))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:c,y:w,w:_,d:y,D:v,h:d,m:l,s:a,ms:s,Q:f}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},x="en",k={};k[x]=m;var C=function(F){return F instanceof N},E=function F(j,B,H){var U;if(!j)return x;if(typeof j=="string"){var W=j.toLowerCase();k[W]&&(U=W),B&&(k[W]=B,U=W);var Y=j.split("-");if(!U&&Y.length>1)return F(Y[0])}else{var G=j.name;k[G]=j,U=G}return!H&&U&&(x=U),U||!H&&x},A=function(F,j){if(C(F))return F.clone();var B=typeof j=="object"?j:{};return B.date=F,B.args=arguments,new N(B)},P=T;P.l=E,P.i=C,P.w=function(F,j){return A(F,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var N=function(){function F(B){this.$L=E(B.locale,null,!0),this.parse(B)}var j=F.prototype;return j.parse=function(B){this.$d=function(H){var U=H.date,W=H.utc;if(U===null)return new Date(NaN);if(P.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var Y=U.match(b);if(Y){var G=Y[2]-1||0,J=(Y[7]||"0").substring(0,3);return W?new Date(Date.UTC(Y[1],G,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,J)):new Date(Y[1],G,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,J)}}return new Date(U)}(B),this.$x=B.x||{},this.init()},j.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==p},j.isSame=function(B,H){var U=A(B);return this.startOf(H)<=U&&U<=this.endOf(H)},j.isAfter=function(B,H){return A(B)<this.startOf(H)},j.isBefore=function(B,H){return this.endOf(H)<A(B)},j.$g=function(B,H,U){return P.u(B)?this[H]:this.set(U,B)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(B,H){var U=this,W=!!P.u(H)||H,Y=P.p(B),G=function(re,M){var z=P.w(U.$u?Date.UTC(U.$y,M,re):new Date(U.$y,M,re),U);return W?z:z.endOf(y)},J=function(re,M){return P.w(U.toDate()[re].apply(U.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(M)),U)},oe=this.$W,ce=this.$M,fe=this.$D,de="set"+(this.$u?"UTC":"");switch(Y){case w:return W?G(1,0):G(31,11);case c:return W?G(1,ce):G(0,ce+1);case _:var ue=this.$locale().weekStart||0,be=(oe<ue?oe+7:oe)-ue;return G(W?fe-be:fe+(6-be),ce);case y:case v:return J(de+"Hours",0);case d:return J(de+"Minutes",1);case l:return J(de+"Seconds",2);case a:return J(de+"Milliseconds",3);default:return this.clone()}},j.endOf=function(B){return this.startOf(B,!1)},j.$set=function(B,H){var U,W=P.p(B),Y="set"+(this.$u?"UTC":""),G=(U={},U[y]=Y+"Date",U[v]=Y+"Date",U[c]=Y+"Month",U[w]=Y+"FullYear",U[d]=Y+"Hours",U[l]=Y+"Minutes",U[a]=Y+"Seconds",U[s]=Y+"Milliseconds",U)[W],J=W===y?this.$D+(H-this.$W):H;if(W===c||W===w){var oe=this.clone().set(v,1);oe.$d[G](J),oe.init(),this.$d=oe.set(v,Math.min(this.$D,oe.daysInMonth())).$d}else G&&this.$d[G](J);return this.init(),this},j.set=function(B,H){return this.clone().$set(B,H)},j.get=function(B){return this[P.p(B)]()},j.add=function(B,H){var U,W=this;B=Number(B);var Y=P.p(H),G=function(ce){var fe=A(W);return P.w(fe.date(fe.date()+Math.round(ce*B)),W)};if(Y===c)return this.set(c,this.$M+B);if(Y===w)return this.set(w,this.$y+B);if(Y===y)return G(1);if(Y===_)return G(7);var J=(U={},U[l]=r,U[d]=i,U[a]=n,U)[Y]||1,oe=this.$d.getTime()+B*J;return P.w(oe,this)},j.subtract=function(B,H){return this.add(-1*B,H)},j.format=function(B){var H=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var W=B||"YYYY-MM-DDTHH:mm:ssZ",Y=P.z(this),G=this.$H,J=this.$m,oe=this.$M,ce=U.weekdays,fe=U.months,de=function(M,z,q,Z){return M&&(M[z]||M(H,W))||q[z].slice(0,Z)},ue=function(M){return P.s(G%12||12,M,"0")},be=U.meridiem||function(M,z,q){var Z=M<12?"AM":"PM";return q?Z.toLowerCase():Z},re={YY:String(this.$y).slice(-2),YYYY:this.$y,M:oe+1,MM:P.s(oe+1,2,"0"),MMM:de(U.monthsShort,oe,fe,3),MMMM:de(fe,oe),D:this.$D,DD:P.s(this.$D,2,"0"),d:String(this.$W),dd:de(U.weekdaysMin,this.$W,ce,2),ddd:de(U.weekdaysShort,this.$W,ce,3),dddd:ce[this.$W],H:String(G),HH:P.s(G,2,"0"),h:ue(1),hh:ue(2),a:be(G,J,!0),A:be(G,J,!1),m:String(J),mm:P.s(J,2,"0"),s:String(this.$s),ss:P.s(this.$s,2,"0"),SSS:P.s(this.$ms,3,"0"),Z:Y};return W.replace(g,function(M,z){return z||re[M]||Y.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(B,H,U){var W,Y=P.p(H),G=A(B),J=(G.utcOffset()-this.utcOffset())*r,oe=this-G,ce=P.m(this,G);return ce=(W={},W[w]=ce/12,W[c]=ce,W[f]=ce/3,W[_]=(oe-J)/6048e5,W[y]=(oe-J)/864e5,W[d]=oe/i,W[l]=oe/r,W[a]=oe/n,W)[Y]||oe,U?ce:P.a(ce)},j.daysInMonth=function(){return this.endOf(c).$D},j.$locale=function(){return k[this.$L]},j.locale=function(B,H){if(!B)return this.$L;var U=this.clone(),W=E(B,H,!0);return W&&(U.$L=W),U},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},F}(),$=N.prototype;return A.prototype=$,[["$ms",s],["$s",a],["$m",l],["$H",d],["$W",y],["$M",c],["$y",w],["$D",v]].forEach(function(F){$[F[1]]=function(j){return this.$g(j,F[0],F[1])}}),A.extend=function(F,j){return F.$i||(F(j,N,A),F.$i=!0),A},A.locale=E,A.isDayjs=C,A.unix=function(F){return A(1e3*F)},A.en=k[x],A.Ls=k,A.p={},A})})(I2);function _l(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zt={},R2={get exports(){return zt},set exports(e){zt=e}};(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function a(y,_){if(!i[y]){if(!r[y]){var c=typeof _l=="function"&&_l;if(!_&&c)return c(y,!0);if(l)return l(y,!0);throw new Error("Cannot find module '"+y+"'")}_=i[y]={exports:{}},r[y][0].call(_.exports,function(f){var w=r[y][1][f];return a(w||f)},_,_.exports,n,r,i,s)}return i[y].exports}for(var l=typeof _l=="function"&&_l,d=0;d<s.length;d++)a(s[d]);return a}({1:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){var v=n("crypto");function p(k,C){C=m(k,C);var E;return(E=C.algorithm!=="passthrough"?v.createHash(C.algorithm):new x).write===void 0&&(E.write=E.update,E.end=E.update),T(C,E).dispatch(k),E.update||E.end(""),E.digest?E.digest(C.encoding==="buffer"?void 0:C.encoding):(k=E.read(),C.encoding!=="buffer"?k.toString(C.encoding):k)}(i=r.exports=p).sha1=function(k){return p(k)},i.keys=function(k){return p(k,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(k){return p(k,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(k){return p(k,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=v.getHashes?v.getHashes().slice():["sha1","md5"],g=(b.push("passthrough"),["buffer","hex","binary","base64"]);function m(k,C){var E={};if(E.algorithm=(C=C||{}).algorithm||"sha1",E.encoding=C.encoding||"hex",E.excludeValues=!!C.excludeValues,E.algorithm=E.algorithm.toLowerCase(),E.encoding=E.encoding.toLowerCase(),E.ignoreUnknown=C.ignoreUnknown===!0,E.respectType=C.respectType!==!1,E.respectFunctionNames=C.respectFunctionNames!==!1,E.respectFunctionProperties=C.respectFunctionProperties!==!1,E.unorderedArrays=C.unorderedArrays===!0,E.unorderedSets=C.unorderedSets!==!1,E.unorderedObjects=C.unorderedObjects!==!1,E.replacer=C.replacer||void 0,E.excludeKeys=C.excludeKeys||void 0,k===void 0)throw new Error("Object argument required.");for(var A=0;A<b.length;++A)b[A].toLowerCase()===E.algorithm.toLowerCase()&&(E.algorithm=b[A]);if(b.indexOf(E.algorithm)===-1)throw new Error('Algorithm "'+E.algorithm+'"  not supported. supported values: '+b.join(", "));if(g.indexOf(E.encoding)===-1&&E.algorithm!=="passthrough")throw new Error('Encoding "'+E.encoding+'"  not supported. supported values: '+g.join(", "));return E}function h(k){if(typeof k=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(k))!=null}function T(k,C,E){E=E||[];function A(P){return C.update?C.update(P,"utf8"):C.write(P,"utf8")}return{dispatch:function(P){return this["_"+((P=k.replacer?k.replacer(P):P)===null?"null":typeof P)](P)},_object:function(P){var N,$=Object.prototype.toString.call(P),F=/\[object (.*)\]/i.exec($);if(F=(F=F?F[1]:"unknown:["+$+"]").toLowerCase(),0<=($=E.indexOf(P)))return this.dispatch("[CIRCULAR:"+$+"]");if(E.push(P),l!==void 0&&l.isBuffer&&l.isBuffer(P))return A("buffer:"),A(P);if(F==="object"||F==="function"||F==="asyncfunction")return $=Object.keys(P),k.unorderedObjects&&($=$.sort()),k.respectType===!1||h(P)||$.splice(0,0,"prototype","__proto__","constructor"),k.excludeKeys&&($=$.filter(function(j){return!k.excludeKeys(j)})),A("object:"+$.length+":"),N=this,$.forEach(function(j){N.dispatch(j),A(":"),k.excludeValues||N.dispatch(P[j]),A(",")});if(!this["_"+F]){if(k.ignoreUnknown)return A("["+F+"]");throw new Error('Unknown object type "'+F+'"')}this["_"+F](P)},_array:function(P,j){j=j!==void 0?j:k.unorderedArrays!==!1;var $=this;if(A("array:"+P.length+":"),!j||P.length<=1)return P.forEach(function(B){return $.dispatch(B)});var F=[],j=P.map(function(B){var H=new x,U=E.slice();return T(k,H,U).dispatch(B),F=F.concat(U.slice(E.length)),H.read().toString()});return E=E.concat(F),j.sort(),this._array(j,!1)},_date:function(P){return A("date:"+P.toJSON())},_symbol:function(P){return A("symbol:"+P.toString())},_error:function(P){return A("error:"+P.toString())},_boolean:function(P){return A("bool:"+P.toString())},_string:function(P){A("string:"+P.length+":"),A(P.toString())},_function:function(P){A("fn:"),h(P)?this.dispatch("[native]"):this.dispatch(P.toString()),k.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(P.name)),k.respectFunctionProperties&&this._object(P)},_number:function(P){return A("number:"+P.toString())},_xml:function(P){return A("xml:"+P.toString())},_null:function(){return A("Null")},_undefined:function(){return A("Undefined")},_regexp:function(P){return A("regex:"+P.toString())},_uint8array:function(P){return A("uint8array:"),this.dispatch(Array.prototype.slice.call(P))},_uint8clampedarray:function(P){return A("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(P))},_int8array:function(P){return A("int8array:"),this.dispatch(Array.prototype.slice.call(P))},_uint16array:function(P){return A("uint16array:"),this.dispatch(Array.prototype.slice.call(P))},_int16array:function(P){return A("int16array:"),this.dispatch(Array.prototype.slice.call(P))},_uint32array:function(P){return A("uint32array:"),this.dispatch(Array.prototype.slice.call(P))},_int32array:function(P){return A("int32array:"),this.dispatch(Array.prototype.slice.call(P))},_float32array:function(P){return A("float32array:"),this.dispatch(Array.prototype.slice.call(P))},_float64array:function(P){return A("float64array:"),this.dispatch(Array.prototype.slice.call(P))},_arraybuffer:function(P){return A("arraybuffer:"),this.dispatch(new Uint8Array(P))},_url:function(P){return A("url:"+P.toString())},_map:function(P){return A("map:"),P=Array.from(P),this._array(P,k.unorderedSets!==!1)},_set:function(P){return A("set:"),P=Array.from(P),this._array(P,k.unorderedSets!==!1)},_file:function(P){return A("file:"),this.dispatch([P.name,P.size,P.type,P.lastModfied])},_blob:function(){if(k.ignoreUnknown)return A("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return A("domwindow")},_bigint:function(P){return A("bigint:"+P.toString())},_process:function(){return A("process")},_timer:function(){return A("timer")},_pipe:function(){return A("pipe")},_tcp:function(){return A("tcp")},_udp:function(){return A("udp")},_tty:function(){return A("tty")},_statwatcher:function(){return A("statwatcher")},_securecontext:function(){return A("securecontext")},_connection:function(){return A("connection")},_zlib:function(){return A("zlib")},_context:function(){return A("context")},_nodescript:function(){return A("nodescript")},_httpparser:function(){return A("httpparser")},_dataview:function(){return A("dataview")},_signal:function(){return A("signal")},_fsevent:function(){return A("fsevent")},_tlswrap:function(){return A("tlswrap")}}}function x(){return{buf:"",write:function(k){this.buf+=k},end:function(k){this.buf+=k},read:function(){return this.buf}}}i.writeToStream=function(k,C,E){return E===void 0&&(E=C,C={}),T(C=m(k,C),E).dispatch(k)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){(function(v){var p=typeof Uint8Array<"u"?Uint8Array:Array,b="+".charCodeAt(0),g="/".charCodeAt(0),m="0".charCodeAt(0),h="a".charCodeAt(0),T="A".charCodeAt(0),x="-".charCodeAt(0),k="_".charCodeAt(0);function C(E){return E=E.charCodeAt(0),E===b||E===x?62:E===g||E===k?63:E<m?-1:E<m+10?E-m+26+26:E<T+26?E-T:E<h+26?E-h+26:void 0}v.toByteArray=function(E){var A,P;if(0<E.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var N=E.length,N=E.charAt(N-2)==="="?2:E.charAt(N-1)==="="?1:0,$=new p(3*E.length/4-N),F=0<N?E.length-4:E.length,j=0;function B(H){$[j++]=H}for(A=0;A<F;A+=4,0)B((16711680&(P=C(E.charAt(A))<<18|C(E.charAt(A+1))<<12|C(E.charAt(A+2))<<6|C(E.charAt(A+3))))>>16),B((65280&P)>>8),B(255&P);return N==2?B(255&(P=C(E.charAt(A))<<2|C(E.charAt(A+1))>>4)):N==1&&(B((P=C(E.charAt(A))<<10|C(E.charAt(A+1))<<4|C(E.charAt(A+2))>>2)>>8&255),B(255&P)),$},v.fromByteArray=function(E){var A,P,N,$,F=E.length%3,j="";function B(H){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(H)}for(A=0,N=E.length-F;A<N;A+=3)P=(E[A]<<16)+(E[A+1]<<8)+E[A+2],j+=B(($=P)>>18&63)+B($>>12&63)+B($>>6&63)+B(63&$);switch(F){case 1:j=(j+=B((P=E[E.length-1])>>2))+B(P<<4&63)+"==";break;case 2:j=(j=(j+=B((P=(E[E.length-2]<<8)+E[E.length-1])>>10))+B(P>>4&63))+B(P<<2&63)+"="}return j}})(i===void 0?this.base64js={}:i)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,i){(function(s,a,b,d,y,_,c,f,w){var v=n("base64-js"),p=n("ieee754");function b(M,z,q){if(!(this instanceof b))return new b(M,z,q);var Z,Q,ne,ve,se=typeof M;if(z==="base64"&&se=="string")for(M=(ve=M).trim?ve.trim():ve.replace(/^\s+|\s+$/g,"");M.length%4!=0;)M+="=";if(se=="number")Z=W(M);else if(se=="string")Z=b.byteLength(M,z);else{if(se!="object")throw new Error("First argument needs to be a number, array or string.");Z=W(M.length)}if(b._useTypedArrays?Q=b._augment(new Uint8Array(Z)):((Q=this).length=Z,Q._isBuffer=!0),b._useTypedArrays&&typeof M.byteLength=="number")Q._set(M);else if(Y(ve=M)||b.isBuffer(ve)||ve&&typeof ve=="object"&&typeof ve.length=="number")for(ne=0;ne<Z;ne++)b.isBuffer(M)?Q[ne]=M.readUInt8(ne):Q[ne]=M[ne];else if(se=="string")Q.write(M,0,z);else if(se=="number"&&!b._useTypedArrays&&!q)for(ne=0;ne<Z;ne++)Q[ne]=0;return Q}function g(M,z,q,Z){return b._charsWritten=ce(function(Q){for(var ne=[],ve=0;ve<Q.length;ve++)ne.push(255&Q.charCodeAt(ve));return ne}(z),M,q,Z)}function m(M,z,q,Z){return b._charsWritten=ce(function(Q){for(var ne,ve,se=[],$e=0;$e<Q.length;$e++)ve=Q.charCodeAt($e),ne=ve>>8,ve=ve%256,se.push(ve),se.push(ne);return se}(z),M,q,Z)}function h(M,z,q){var Z="";q=Math.min(M.length,q);for(var Q=z;Q<q;Q++)Z+=String.fromCharCode(M[Q]);return Z}function T(M,z,q,ne){ne||(re(typeof q=="boolean","missing or invalid endian"),re(z!=null,"missing offset"),re(z+1<M.length,"Trying to read beyond buffer length"));var Q,ne=M.length;if(!(ne<=z))return q?(Q=M[z],z+1<ne&&(Q|=M[z+1]<<8)):(Q=M[z]<<8,z+1<ne&&(Q|=M[z+1])),Q}function x(M,z,q,ne){ne||(re(typeof q=="boolean","missing or invalid endian"),re(z!=null,"missing offset"),re(z+3<M.length,"Trying to read beyond buffer length"));var Q,ne=M.length;if(!(ne<=z))return q?(z+2<ne&&(Q=M[z+2]<<16),z+1<ne&&(Q|=M[z+1]<<8),Q|=M[z],z+3<ne&&(Q+=M[z+3]<<24>>>0)):(z+1<ne&&(Q=M[z+1]<<16),z+2<ne&&(Q|=M[z+2]<<8),z+3<ne&&(Q|=M[z+3]),Q+=M[z]<<24>>>0),Q}function k(M,z,q,Z){if(Z||(re(typeof q=="boolean","missing or invalid endian"),re(z!=null,"missing offset"),re(z+1<M.length,"Trying to read beyond buffer length")),!(M.length<=z))return Z=T(M,z,q,!0),32768&Z?-1*(65535-Z+1):Z}function C(M,z,q,Z){if(Z||(re(typeof q=="boolean","missing or invalid endian"),re(z!=null,"missing offset"),re(z+3<M.length,"Trying to read beyond buffer length")),!(M.length<=z))return Z=x(M,z,q,!0),2147483648&Z?-1*(4294967295-Z+1):Z}function E(M,z,q,Z){return Z||(re(typeof q=="boolean","missing or invalid endian"),re(z+3<M.length,"Trying to read beyond buffer length")),p.read(M,z,q,23,4)}function A(M,z,q,Z){return Z||(re(typeof q=="boolean","missing or invalid endian"),re(z+7<M.length,"Trying to read beyond buffer length")),p.read(M,z,q,52,8)}function P(M,z,q,Z,Q){if(Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+1<M.length,"trying to write beyond buffer length"),de(z,65535)),Q=M.length,!(Q<=q))for(var ne=0,ve=Math.min(Q-q,2);ne<ve;ne++)M[q+ne]=(z&255<<8*(Z?ne:1-ne))>>>8*(Z?ne:1-ne)}function N(M,z,q,Z,Q){if(Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+3<M.length,"trying to write beyond buffer length"),de(z,4294967295)),Q=M.length,!(Q<=q))for(var ne=0,ve=Math.min(Q-q,4);ne<ve;ne++)M[q+ne]=z>>>8*(Z?ne:3-ne)&255}function $(M,z,q,Z,Q){Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+1<M.length,"Trying to write beyond buffer length"),ue(z,32767,-32768)),M.length<=q||P(M,0<=z?z:65535+z+1,q,Z,Q)}function F(M,z,q,Z,Q){Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+3<M.length,"Trying to write beyond buffer length"),ue(z,2147483647,-2147483648)),M.length<=q||N(M,0<=z?z:4294967295+z+1,q,Z,Q)}function j(M,z,q,Z,Q){Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+3<M.length,"Trying to write beyond buffer length"),be(z,34028234663852886e22,-34028234663852886e22)),M.length<=q||p.write(M,z,q,Z,23,4)}function B(M,z,q,Z,Q){Q||(re(z!=null,"missing value"),re(typeof Z=="boolean","missing or invalid endian"),re(q!=null,"missing offset"),re(q+7<M.length,"Trying to write beyond buffer length"),be(z,17976931348623157e292,-17976931348623157e292)),M.length<=q||p.write(M,z,q,Z,52,8)}i.Buffer=b,i.SlowBuffer=b,i.INSPECT_MAX_BYTES=50,b.poolSize=8192,b._useTypedArrays=function(){try{var M=new ArrayBuffer(0),z=new Uint8Array(M);return z.foo=function(){return 42},z.foo()===42&&typeof z.subarray=="function"}catch{return!1}}(),b.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.isBuffer=function(M){return!(M==null||!M._isBuffer)},b.byteLength=function(M,z){var q;switch(M+="",z||"utf8"){case"hex":q=M.length/2;break;case"utf8":case"utf-8":q=J(M).length;break;case"ascii":case"binary":case"raw":q=M.length;break;case"base64":q=oe(M).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":q=2*M.length;break;default:throw new Error("Unknown encoding")}return q},b.concat=function(M,z){if(re(Y(M),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),M.length===0)return new b(0);if(M.length===1)return M[0];if(typeof z!="number")for(Q=z=0;Q<M.length;Q++)z+=M[Q].length;for(var q=new b(z),Z=0,Q=0;Q<M.length;Q++){var ne=M[Q];ne.copy(q,Z),Z+=ne.length}return q},b.prototype.write=function(M,z,q,Z){isFinite(z)?isFinite(q)||(Z=q,q=void 0):($e=Z,Z=z,z=q,q=$e),z=Number(z)||0;var Q,ne,ve,se,$e=this.length-z;switch((!q||$e<(q=Number(q)))&&(q=$e),Z=String(Z||"utf8").toLowerCase()){case"hex":Q=function(ht,xt,Ue,Be){Ue=Number(Ue)||0;var Ve=ht.length-Ue;(!Be||Ve<(Be=Number(Be)))&&(Be=Ve),re((Ve=xt.length)%2==0,"Invalid hex string"),Ve/2<Be&&(Be=Ve/2);for(var xe=0;xe<Be;xe++){var Ne=parseInt(xt.substr(2*xe,2),16);re(!isNaN(Ne),"Invalid hex string"),ht[Ue+xe]=Ne}return b._charsWritten=2*xe,xe}(this,M,z,q);break;case"utf8":case"utf-8":ne=this,ve=z,se=q,Q=b._charsWritten=ce(J(M),ne,ve,se);break;case"ascii":case"binary":Q=g(this,M,z,q);break;case"base64":ne=this,ve=z,se=q,Q=b._charsWritten=ce(oe(M),ne,ve,se);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Q=m(this,M,z,q);break;default:throw new Error("Unknown encoding")}return Q},b.prototype.toString=function(M,z,q){var Z,Q,ne,ve,se=this;if(M=String(M||"utf8").toLowerCase(),z=Number(z)||0,(q=q!==void 0?Number(q):se.length)===z)return"";switch(M){case"hex":Z=function($e,ht,xt){var Ue=$e.length;(!ht||ht<0)&&(ht=0),(!xt||xt<0||Ue<xt)&&(xt=Ue);for(var Be="",Ve=ht;Ve<xt;Ve++)Be+=G($e[Ve]);return Be}(se,z,q);break;case"utf8":case"utf-8":Z=function($e,ht,xt){var Ue="",Be="";xt=Math.min($e.length,xt);for(var Ve=ht;Ve<xt;Ve++)$e[Ve]<=127?(Ue+=fe(Be)+String.fromCharCode($e[Ve]),Be=""):Be+="%"+$e[Ve].toString(16);return Ue+fe(Be)}(se,z,q);break;case"ascii":case"binary":Z=h(se,z,q);break;case"base64":Q=se,ve=q,Z=(ne=z)===0&&ve===Q.length?v.fromByteArray(Q):v.fromByteArray(Q.slice(ne,ve));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Z=function($e,ht,xt){for(var Ue=$e.slice(ht,xt),Be="",Ve=0;Ve<Ue.length;Ve+=2)Be+=String.fromCharCode(Ue[Ve]+256*Ue[Ve+1]);return Be}(se,z,q);break;default:throw new Error("Unknown encoding")}return Z},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.copy=function(M,z,q,Z){if(z=z||0,(Z=Z||Z===0?Z:this.length)!==(q=q||0)&&M.length!==0&&this.length!==0){re(q<=Z,"sourceEnd < sourceStart"),re(0<=z&&z<M.length,"targetStart out of bounds"),re(0<=q&&q<this.length,"sourceStart out of bounds"),re(0<=Z&&Z<=this.length,"sourceEnd out of bounds"),Z>this.length&&(Z=this.length);var Q=(Z=M.length-z<Z-q?M.length-z+q:Z)-q;if(Q<100||!b._useTypedArrays)for(var ne=0;ne<Q;ne++)M[ne+z]=this[ne+q];else M._set(this.subarray(q,q+Q),z)}},b.prototype.slice=function(M,z){var q=this.length;if(M=U(M,q,0),z=U(z,q,q),b._useTypedArrays)return b._augment(this.subarray(M,z));for(var Z=z-M,Q=new b(Z,void 0,!0),ne=0;ne<Z;ne++)Q[ne]=this[ne+M];return Q},b.prototype.get=function(M){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(M)},b.prototype.set=function(M,z){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(M,z)},b.prototype.readUInt8=function(M,z){if(z||(re(M!=null,"missing offset"),re(M<this.length,"Trying to read beyond buffer length")),!(M>=this.length))return this[M]},b.prototype.readUInt16LE=function(M,z){return T(this,M,!0,z)},b.prototype.readUInt16BE=function(M,z){return T(this,M,!1,z)},b.prototype.readUInt32LE=function(M,z){return x(this,M,!0,z)},b.prototype.readUInt32BE=function(M,z){return x(this,M,!1,z)},b.prototype.readInt8=function(M,z){if(z||(re(M!=null,"missing offset"),re(M<this.length,"Trying to read beyond buffer length")),!(M>=this.length))return 128&this[M]?-1*(255-this[M]+1):this[M]},b.prototype.readInt16LE=function(M,z){return k(this,M,!0,z)},b.prototype.readInt16BE=function(M,z){return k(this,M,!1,z)},b.prototype.readInt32LE=function(M,z){return C(this,M,!0,z)},b.prototype.readInt32BE=function(M,z){return C(this,M,!1,z)},b.prototype.readFloatLE=function(M,z){return E(this,M,!0,z)},b.prototype.readFloatBE=function(M,z){return E(this,M,!1,z)},b.prototype.readDoubleLE=function(M,z){return A(this,M,!0,z)},b.prototype.readDoubleBE=function(M,z){return A(this,M,!1,z)},b.prototype.writeUInt8=function(M,z,q){q||(re(M!=null,"missing value"),re(z!=null,"missing offset"),re(z<this.length,"trying to write beyond buffer length"),de(M,255)),z>=this.length||(this[z]=M)},b.prototype.writeUInt16LE=function(M,z,q){P(this,M,z,!0,q)},b.prototype.writeUInt16BE=function(M,z,q){P(this,M,z,!1,q)},b.prototype.writeUInt32LE=function(M,z,q){N(this,M,z,!0,q)},b.prototype.writeUInt32BE=function(M,z,q){N(this,M,z,!1,q)},b.prototype.writeInt8=function(M,z,q){q||(re(M!=null,"missing value"),re(z!=null,"missing offset"),re(z<this.length,"Trying to write beyond buffer length"),ue(M,127,-128)),z>=this.length||(0<=M?this.writeUInt8(M,z,q):this.writeUInt8(255+M+1,z,q))},b.prototype.writeInt16LE=function(M,z,q){$(this,M,z,!0,q)},b.prototype.writeInt16BE=function(M,z,q){$(this,M,z,!1,q)},b.prototype.writeInt32LE=function(M,z,q){F(this,M,z,!0,q)},b.prototype.writeInt32BE=function(M,z,q){F(this,M,z,!1,q)},b.prototype.writeFloatLE=function(M,z,q){j(this,M,z,!0,q)},b.prototype.writeFloatBE=function(M,z,q){j(this,M,z,!1,q)},b.prototype.writeDoubleLE=function(M,z,q){B(this,M,z,!0,q)},b.prototype.writeDoubleBE=function(M,z,q){B(this,M,z,!1,q)},b.prototype.fill=function(M,z,q){if(z=z||0,q=q||this.length,re(typeof(M=typeof(M=M||0)=="string"?M.charCodeAt(0):M)=="number"&&!isNaN(M),"value is not a number"),re(z<=q,"end < start"),q!==z&&this.length!==0){re(0<=z&&z<this.length,"start out of bounds"),re(0<=q&&q<=this.length,"end out of bounds");for(var Z=z;Z<q;Z++)this[Z]=M}},b.prototype.inspect=function(){for(var M=[],z=this.length,q=0;q<z;q++)if(M[q]=G(this[q]),q===i.INSPECT_MAX_BYTES){M[q+1]="...";break}return"<Buffer "+M.join(" ")+">"},b.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(b._useTypedArrays)return new b(this).buffer;for(var M=new Uint8Array(this.length),z=0,q=M.length;z<q;z+=1)M[z]=this[z];return M.buffer};var H=b.prototype;function U(M,z,q){return typeof M!="number"?q:z<=(M=~~M)?z:0<=M||0<=(M+=z)?M:0}function W(M){return(M=~~Math.ceil(+M))<0?0:M}function Y(M){return(Array.isArray||function(z){return Object.prototype.toString.call(z)==="[object Array]"})(M)}function G(M){return M<16?"0"+M.toString(16):M.toString(16)}function J(M){for(var z=[],q=0;q<M.length;q++){var Z=M.charCodeAt(q);if(Z<=127)z.push(M.charCodeAt(q));else for(var Q=q,ne=(55296<=Z&&Z<=57343&&q++,encodeURIComponent(M.slice(Q,q+1)).substr(1).split("%")),ve=0;ve<ne.length;ve++)z.push(parseInt(ne[ve],16))}return z}function oe(M){return v.toByteArray(M)}function ce(M,z,q,Z){for(var Q=0;Q<Z&&!(Q+q>=z.length||Q>=M.length);Q++)z[Q+q]=M[Q];return Q}function fe(M){try{return decodeURIComponent(M)}catch{return String.fromCharCode(65533)}}function de(M,z){re(typeof M=="number","cannot write a non-number as a number"),re(0<=M,"specified a negative value for writing an unsigned value"),re(M<=z,"value is larger than maximum value for type"),re(Math.floor(M)===M,"value has a fractional component")}function ue(M,z,q){re(typeof M=="number","cannot write a non-number as a number"),re(M<=z,"value larger than maximum allowed value"),re(q<=M,"value smaller than minimum allowed value"),re(Math.floor(M)===M,"value has a fractional component")}function be(M,z,q){re(typeof M=="number","cannot write a non-number as a number"),re(M<=z,"value larger than maximum allowed value"),re(q<=M,"value smaller than minimum allowed value")}function re(M,z){if(!M)throw new Error(z||"Failed assertion")}b._augment=function(M){return M._isBuffer=!0,M._get=M.get,M._set=M.set,M.get=H.get,M.set=H.set,M.write=H.write,M.toString=H.toString,M.toLocaleString=H.toString,M.toJSON=H.toJSON,M.copy=H.copy,M.slice=H.slice,M.readUInt8=H.readUInt8,M.readUInt16LE=H.readUInt16LE,M.readUInt16BE=H.readUInt16BE,M.readUInt32LE=H.readUInt32LE,M.readUInt32BE=H.readUInt32BE,M.readInt8=H.readInt8,M.readInt16LE=H.readInt16LE,M.readInt16BE=H.readInt16BE,M.readInt32LE=H.readInt32LE,M.readInt32BE=H.readInt32BE,M.readFloatLE=H.readFloatLE,M.readFloatBE=H.readFloatBE,M.readDoubleLE=H.readDoubleLE,M.readDoubleBE=H.readDoubleBE,M.writeUInt8=H.writeUInt8,M.writeUInt16LE=H.writeUInt16LE,M.writeUInt16BE=H.writeUInt16BE,M.writeUInt32LE=H.writeUInt32LE,M.writeUInt32BE=H.writeUInt32BE,M.writeInt8=H.writeInt8,M.writeInt16LE=H.writeInt16LE,M.writeInt16BE=H.writeInt16BE,M.writeInt32LE=H.writeInt32LE,M.writeInt32BE=H.writeInt32BE,M.writeFloatLE=H.writeFloatLE,M.writeFloatBE=H.writeFloatBE,M.writeDoubleLE=H.writeDoubleLE,M.writeDoubleBE=H.writeDoubleBE,M.fill=H.fill,M.inspect=H.inspect,M.toArrayBuffer=H.toArrayBuffer,M}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,i){(function(s,a,v,d,y,_,c,f,w){var v=n("buffer").Buffer,p=4,b=new v(p);b.fill(0),r.exports={hash:function(g,m,h,T){for(var x=m(function(P,N){P.length%p!=0&&($=P.length+(p-P.length%p),P=v.concat([P,b],$));for(var $,F=[],j=N?P.readInt32BE:P.readInt32LE,B=0;B<P.length;B+=p)F.push(j.call(P,B));return F}(g=v.isBuffer(g)?g:new v(g),T),8*g.length),m=T,k=new v(h),C=m?k.writeInt32BE:k.writeInt32LE,E=0;E<x.length;E++)C.call(k,x[E],4*E,!0);return k}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,i){(function(s,a,v,d,y,_,c,f,w){var v=n("buffer").Buffer,p=n("./sha"),b=n("./sha256"),g=n("./rng"),m={sha1:p,sha256:b,md5:n("./md5")},h=64,T=new v(h);function x(P,N){var $=m[P=P||"sha1"],F=[];return $||k("algorithm:",P,"is not yet supported"),{update:function(j){return v.isBuffer(j)||(j=new v(j)),F.push(j),j.length,this},digest:function(j){var B=v.concat(F),B=N?function(H,U,W){v.isBuffer(U)||(U=new v(U)),v.isBuffer(W)||(W=new v(W)),U.length>h?U=H(U):U.length<h&&(U=v.concat([U,T],h));for(var Y=new v(h),G=new v(h),J=0;J<h;J++)Y[J]=54^U[J],G[J]=92^U[J];return W=H(v.concat([Y,W])),H(v.concat([G,W]))}($,N,B):$(B);return F=null,j?B.toString(j):B}}}function k(){var P=[].slice.call(arguments).join(" ");throw new Error([P,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}T.fill(0),i.createHash=function(P){return x(P)},i.createHmac=x,i.randomBytes=function(P,N){if(!N||!N.call)return new v(g(P));try{N.call(this,void 0,new v(g(P)))}catch($){N($)}};var C,E=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],A=function(P){i[P]=function(){k("sorry,",P,"is not implemented yet")}};for(C in E)A(E[C])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){var v=n("./helpers");function p(k,C){k[C>>5]|=128<<C%32,k[14+(C+64>>>9<<4)]=C;for(var E=1732584193,A=-271733879,P=-1732584194,N=271733878,$=0;$<k.length;$+=16){var F=E,j=A,B=P,H=N,E=g(E,A,P,N,k[$+0],7,-680876936),N=g(N,E,A,P,k[$+1],12,-389564586),P=g(P,N,E,A,k[$+2],17,606105819),A=g(A,P,N,E,k[$+3],22,-1044525330);E=g(E,A,P,N,k[$+4],7,-176418897),N=g(N,E,A,P,k[$+5],12,1200080426),P=g(P,N,E,A,k[$+6],17,-1473231341),A=g(A,P,N,E,k[$+7],22,-45705983),E=g(E,A,P,N,k[$+8],7,1770035416),N=g(N,E,A,P,k[$+9],12,-1958414417),P=g(P,N,E,A,k[$+10],17,-42063),A=g(A,P,N,E,k[$+11],22,-1990404162),E=g(E,A,P,N,k[$+12],7,1804603682),N=g(N,E,A,P,k[$+13],12,-40341101),P=g(P,N,E,A,k[$+14],17,-1502002290),E=m(E,A=g(A,P,N,E,k[$+15],22,1236535329),P,N,k[$+1],5,-165796510),N=m(N,E,A,P,k[$+6],9,-1069501632),P=m(P,N,E,A,k[$+11],14,643717713),A=m(A,P,N,E,k[$+0],20,-373897302),E=m(E,A,P,N,k[$+5],5,-701558691),N=m(N,E,A,P,k[$+10],9,38016083),P=m(P,N,E,A,k[$+15],14,-660478335),A=m(A,P,N,E,k[$+4],20,-405537848),E=m(E,A,P,N,k[$+9],5,568446438),N=m(N,E,A,P,k[$+14],9,-1019803690),P=m(P,N,E,A,k[$+3],14,-187363961),A=m(A,P,N,E,k[$+8],20,1163531501),E=m(E,A,P,N,k[$+13],5,-1444681467),N=m(N,E,A,P,k[$+2],9,-51403784),P=m(P,N,E,A,k[$+7],14,1735328473),E=h(E,A=m(A,P,N,E,k[$+12],20,-1926607734),P,N,k[$+5],4,-378558),N=h(N,E,A,P,k[$+8],11,-2022574463),P=h(P,N,E,A,k[$+11],16,1839030562),A=h(A,P,N,E,k[$+14],23,-35309556),E=h(E,A,P,N,k[$+1],4,-1530992060),N=h(N,E,A,P,k[$+4],11,1272893353),P=h(P,N,E,A,k[$+7],16,-155497632),A=h(A,P,N,E,k[$+10],23,-1094730640),E=h(E,A,P,N,k[$+13],4,681279174),N=h(N,E,A,P,k[$+0],11,-358537222),P=h(P,N,E,A,k[$+3],16,-722521979),A=h(A,P,N,E,k[$+6],23,76029189),E=h(E,A,P,N,k[$+9],4,-640364487),N=h(N,E,A,P,k[$+12],11,-421815835),P=h(P,N,E,A,k[$+15],16,530742520),E=T(E,A=h(A,P,N,E,k[$+2],23,-995338651),P,N,k[$+0],6,-198630844),N=T(N,E,A,P,k[$+7],10,1126891415),P=T(P,N,E,A,k[$+14],15,-1416354905),A=T(A,P,N,E,k[$+5],21,-57434055),E=T(E,A,P,N,k[$+12],6,1700485571),N=T(N,E,A,P,k[$+3],10,-1894986606),P=T(P,N,E,A,k[$+10],15,-1051523),A=T(A,P,N,E,k[$+1],21,-2054922799),E=T(E,A,P,N,k[$+8],6,1873313359),N=T(N,E,A,P,k[$+15],10,-30611744),P=T(P,N,E,A,k[$+6],15,-1560198380),A=T(A,P,N,E,k[$+13],21,1309151649),E=T(E,A,P,N,k[$+4],6,-145523070),N=T(N,E,A,P,k[$+11],10,-1120210379),P=T(P,N,E,A,k[$+2],15,718787259),A=T(A,P,N,E,k[$+9],21,-343485551),E=x(E,F),A=x(A,j),P=x(P,B),N=x(N,H)}return Array(E,A,P,N)}function b(k,C,E,A,P,N){return x((C=x(x(C,k),x(A,N)))<<P|C>>>32-P,E)}function g(k,C,E,A,P,N,$){return b(C&E|~C&A,k,C,P,N,$)}function m(k,C,E,A,P,N,$){return b(C&A|E&~A,k,C,P,N,$)}function h(k,C,E,A,P,N,$){return b(C^E^A,k,C,P,N,$)}function T(k,C,E,A,P,N,$){return b(E^(C|~A),k,C,P,N,$)}function x(k,C){var E=(65535&k)+(65535&C);return(k>>16)+(C>>16)+(E>>16)<<16|65535&E}r.exports=function(k){return v.hash(k,p,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){r.exports=function(v){for(var p,b=new Array(v),g=0;g<v;g++)!(3&g)&&(p=4294967296*Math.random()),b[g]=p>>>((3&g)<<3)&255;return b}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){var v=n("./helpers");function p(m,h){m[h>>5]|=128<<24-h%32,m[15+(h+64>>9<<4)]=h;for(var T,x,k,C=Array(80),E=1732584193,A=-271733879,P=-1732584194,N=271733878,$=-1009589776,F=0;F<m.length;F+=16){for(var j=E,B=A,H=P,U=N,W=$,Y=0;Y<80;Y++){C[Y]=Y<16?m[F+Y]:g(C[Y-3]^C[Y-8]^C[Y-14]^C[Y-16],1);var G=b(b(g(E,5),(G=A,x=P,k=N,(T=Y)<20?G&x|~G&k:!(T<40)&&T<60?G&x|G&k|x&k:G^x^k)),b(b($,C[Y]),(T=Y)<20?1518500249:T<40?1859775393:T<60?-1894007588:-899497514)),$=N,N=P,P=g(A,30),A=E,E=G}E=b(E,j),A=b(A,B),P=b(P,H),N=b(N,U),$=b($,W)}return Array(E,A,P,N,$)}function b(m,h){var T=(65535&m)+(65535&h);return(m>>16)+(h>>16)+(T>>16)<<16|65535&T}function g(m,h){return m<<h|m>>>32-h}r.exports=function(m){return v.hash(m,p,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){function v(h,T){var x=(65535&h)+(65535&T);return(h>>16)+(T>>16)+(x>>16)<<16|65535&x}function p(h,T){var x,k=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);h[T>>5]|=128<<24-T%32,h[15+(T+64>>9<<4)]=T;for(var A,P,N=0;N<h.length;N+=16){for(var $=C[0],F=C[1],j=C[2],B=C[3],H=C[4],U=C[5],W=C[6],Y=C[7],G=0;G<64;G++)E[G]=G<16?h[G+N]:v(v(v((P=E[G-2],g(P,17)^g(P,19)^m(P,10)),E[G-7]),(P=E[G-15],g(P,7)^g(P,18)^m(P,3))),E[G-16]),x=v(v(v(v(Y,g(P=H,6)^g(P,11)^g(P,25)),H&U^~H&W),k[G]),E[G]),A=v(g(A=$,2)^g(A,13)^g(A,22),$&F^$&j^F&j),Y=W,W=U,U=H,H=v(B,x),B=j,j=F,F=$,$=v(x,A);C[0]=v($,C[0]),C[1]=v(F,C[1]),C[2]=v(j,C[2]),C[3]=v(B,C[3]),C[4]=v(H,C[4]),C[5]=v(U,C[5]),C[6]=v(W,C[6]),C[7]=v(Y,C[7])}return C}var b=n("./helpers"),g=function(h,T){return h>>>T|h<<32-T},m=function(h,T){return h>>>T};r.exports=function(h){return b.hash(h,p,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){i.read=function(v,p,b,g,N){var h,T,x=8*N-g-1,k=(1<<x)-1,C=k>>1,E=-7,A=b?N-1:0,P=b?-1:1,N=v[p+A];for(A+=P,h=N&(1<<-E)-1,N>>=-E,E+=x;0<E;h=256*h+v[p+A],A+=P,E-=8);for(T=h&(1<<-E)-1,h>>=-E,E+=g;0<E;T=256*T+v[p+A],A+=P,E-=8);if(h===0)h=1-C;else{if(h===k)return T?NaN:1/0*(N?-1:1);T+=Math.pow(2,g),h-=C}return(N?-1:1)*T*Math.pow(2,h-g)},i.write=function(v,p,b,g,m,$){var T,x,k=8*$-m-1,C=(1<<k)-1,E=C>>1,A=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=g?0:$-1,N=g?1:-1,$=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(x=isNaN(p)?1:0,T=C):(T=Math.floor(Math.log(p)/Math.LN2),p*(g=Math.pow(2,-T))<1&&(T--,g*=2),2<=(p+=1<=T+E?A/g:A*Math.pow(2,1-E))*g&&(T++,g/=2),C<=T+E?(x=0,T=C):1<=T+E?(x=(p*g-1)*Math.pow(2,m),T+=E):(x=p*Math.pow(2,E-1)*Math.pow(2,m),T=0));8<=m;v[b+P]=255&x,P+=N,x/=256,m-=8);for(T=T<<m|x,k+=m;0<k;v[b+P]=255&T,P+=N,T/=256,k-=8);v[b+P-N]|=128*$}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,i){(function(s,a,l,d,y,_,c,f,w){var v,p,b;function g(){}(s=r.exports={}).nextTick=(p=typeof window<"u"&&window.setImmediate,b=typeof window<"u"&&window.postMessage&&window.addEventListener,p?function(m){return window.setImmediate(m)}:b?(v=[],window.addEventListener("message",function(m){var h=m.source;h!==window&&h!==null||m.data!=="process-tick"||(m.stopPropagation(),0<v.length&&v.shift()())},!0),function(m){v.push(m),window.postMessage("process-tick","*")}):function(m){setTimeout(m,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.binding=function(m){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(m){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(R2);function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jm(e){let t,n,r;e.length!==2?(t=jl,n=(l,d)=>jl(e(l),d),r=(l,d)=>e(l)-d):(t=e===jl||e===N2?e:O2,n=e,r=e);function i(l,d,y=0,_=l.length){if(y<_){if(t(d,d)!==0)return _;do{const c=y+_>>>1;n(l[c],d)<0?y=c+1:_=c}while(y<_)}return y}function s(l,d,y=0,_=l.length){if(y<_){if(t(d,d)!==0)return _;do{const c=y+_>>>1;n(l[c],d)<=0?y=c+1:_=c}while(y<_)}return y}function a(l,d,y=0,_=l.length){const c=i(l,d,y,_-1);return c>y&&r(l[c-1],d)>-r(l[c],d)?c-1:c}return{left:i,center:a,right:s}}function O2(){return 0}function M2(e){return e===null?NaN:+e}const D2=Jm(jl),$2=D2.right;Jm(M2).center;const F2=$2;var z2=Math.sqrt(50),j2=Math.sqrt(10),U2=Math.sqrt(2);function Y_(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=z2?i*=10:s>=j2?i*=5:s>=U2&&(i*=2),t<e?-i:i}function B2(e){return e}var wf=1,bf=2,kp=3,wl=4,K_=1e-6;function H2(e){return"translate("+e+",0)"}function W2(e){return"translate(0,"+e+")"}function q2(e){return t=>+e(t)}function V2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Z2(){return!this.__axis}function G2(e,t){var n=[],r=null,i=null,s=6,a=6,l=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,y=e===wf||e===wl?-1:1,_=e===wl||e===bf?"x":"y",c=e===wf||e===kp?H2:W2;function f(w){var v=r??(t.ticks?t.ticks.apply(t,n):t.domain()),p=i??(t.tickFormat?t.tickFormat.apply(t,n):B2),b=Math.max(s,0)+l,g=t.range(),m=+g[0]+d,h=+g[g.length-1]+d,T=(t.bandwidth?V2:q2)(t.copy(),d),x=w.selection?w.selection():w,k=x.selectAll(".domain").data([null]),C=x.selectAll(".tick").data(v,t).order(),E=C.exit(),A=C.enter().append("g").attr("class","tick"),P=C.select("line"),N=C.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(A),P=P.merge(A.append("line").attr("stroke","currentColor").attr(_+"2",y*s)),N=N.merge(A.append("text").attr("fill","currentColor").attr(_,y*b).attr("dy",e===wf?"0em":e===kp?"0.71em":"0.32em")),w!==x&&(k=k.transition(w),C=C.transition(w),P=P.transition(w),N=N.transition(w),E=E.transition(w).attr("opacity",K_).attr("transform",function($){return isFinite($=T($))?c($+d):this.getAttribute("transform")}),A.attr("opacity",K_).attr("transform",function($){var F=this.parentNode.__axis;return c((F&&isFinite(F=F($))?F:T($))+d)})),E.remove(),k.attr("d",e===wl||e===bf?a?"M"+y*a+","+m+"H"+d+"V"+h+"H"+y*a:"M"+d+","+m+"V"+h:a?"M"+m+","+y*a+"V"+d+"H"+h+"V"+y*a:"M"+m+","+d+"H"+h),C.attr("opacity",1).attr("transform",function($){return c(T($)+d)}),P.attr(_+"2",y*s),N.attr(_,y*b).text(p),x.filter(Z2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===bf?"start":e===wl?"end":"middle"),x.each(function(){this.__axis=T})}return f.scale=function(w){return arguments.length?(t=w,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(w){return arguments.length?(n=w==null?[]:Array.from(w),f):n.slice()},f.tickValues=function(w){return arguments.length?(r=w==null?null:Array.from(w),f):r&&r.slice()},f.tickFormat=function(w){return arguments.length?(i=w,f):i},f.tickSize=function(w){return arguments.length?(s=a=+w,f):s},f.tickSizeInner=function(w){return arguments.length?(s=+w,f):s},f.tickSizeOuter=function(w){return arguments.length?(a=+w,f):a},f.tickPadding=function(w){return arguments.length?(l=+w,f):l},f.offset=function(w){return arguments.length?(d=+w,f):d},f}function X_(e){return G2(kp,e)}var Y2={value:()=>{}};function eg(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ul(n)}function Ul(e){this._=e}function K2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ul.prototype=eg.prototype={constructor:Ul,on:function(e,t){var n=this._,r=K2(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=X2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=Q_(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Q_(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ul(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function X2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Q_(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Y2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Cp="http://www.w3.org/1999/xhtml";const J_={svg:"http://www.w3.org/2000/svg",xhtml:Cp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kc(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),J_.hasOwnProperty(t)?{space:J_[t],local:e}:e}function Q2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cp&&t.documentElement.namespaceURI===Cp?t.createElement(e):t.createElementNS(n,e)}}function J2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function oS(e){var t=Kc(e);return(t.local?J2:Q2)(t)}function eI(){}function tg(e){return e==null?eI:function(){return this.querySelector(e)}}function tI(e){typeof e!="function"&&(e=tg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=new Array(a),d,y,_=0;_<a;++_)(d=s[_])&&(y=e.call(d,d.__data__,_,s))&&("__data__"in d&&(y.__data__=d.__data__),l[_]=y);return new yn(r,this._parents)}function nI(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rI(){return[]}function sS(e){return e==null?rI:function(){return this.querySelectorAll(e)}}function iI(e){return function(){return nI(e.apply(this,arguments))}}function oI(e){typeof e=="function"?e=iI(e):e=sS(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],l=a.length,d,y=0;y<l;++y)(d=a[y])&&(r.push(e.call(d,d.__data__,y,a)),i.push(d));return new yn(r,i)}function aS(e){return function(){return this.matches(e)}}function lS(e){return function(t){return t.matches(e)}}var sI=Array.prototype.find;function aI(e){return function(){return sI.call(this.children,e)}}function lI(){return this.firstElementChild}function uI(e){return this.select(e==null?lI:aI(typeof e=="function"?e:lS(e)))}var cI=Array.prototype.filter;function dI(){return Array.from(this.children)}function fI(e){return function(){return cI.call(this.children,e)}}function hI(e){return this.selectAll(e==null?dI:fI(typeof e=="function"?e:lS(e)))}function pI(e){typeof e!="function"&&(e=aS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=[],d,y=0;y<a;++y)(d=s[y])&&e.call(d,d.__data__,y,s)&&l.push(d);return new yn(r,this._parents)}function uS(e){return new Array(e.length)}function mI(){return new yn(this._enter||this._groups.map(uS),this._parents)}function Su(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Su.prototype={constructor:Su,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gI(e){return function(){return e}}function vI(e,t,n,r,i,s){for(var a=0,l,d=t.length,y=s.length;a<y;++a)(l=t[a])?(l.__data__=s[a],r[a]=l):n[a]=new Su(e,s[a]);for(;a<d;++a)(l=t[a])&&(i[a]=l)}function yI(e,t,n,r,i,s,a){var l,d,y=new Map,_=t.length,c=s.length,f=new Array(_),w;for(l=0;l<_;++l)(d=t[l])&&(f[l]=w=a.call(d,d.__data__,l,t)+"",y.has(w)?i[l]=d:y.set(w,d));for(l=0;l<c;++l)w=a.call(e,s[l],l,s)+"",(d=y.get(w))?(r[l]=d,d.__data__=s[l],y.delete(w)):n[l]=new Su(e,s[l]);for(l=0;l<_;++l)(d=t[l])&&y.get(f[l])===d&&(i[l]=d)}function _I(e){return e.__data__}function wI(e,t){if(!arguments.length)return Array.from(this,_I);var n=t?yI:vI,r=this._parents,i=this._groups;typeof e!="function"&&(e=gI(e));for(var s=i.length,a=new Array(s),l=new Array(s),d=new Array(s),y=0;y<s;++y){var _=r[y],c=i[y],f=c.length,w=bI(e.call(_,_&&_.__data__,y,r)),v=w.length,p=l[y]=new Array(v),b=a[y]=new Array(v),g=d[y]=new Array(f);n(_,c,p,b,g,w,t);for(var m=0,h=0,T,x;m<v;++m)if(T=p[m]){for(m>=h&&(h=m+1);!(x=b[h])&&++h<v;);T._next=x||null}}return a=new yn(a,r),a._enter=l,a._exit=d,a}function bI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TI(){return new yn(this._exit||this._groups.map(uS),this._parents)}function SI(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function EI(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),d=0;d<a;++d)for(var y=n[d],_=r[d],c=y.length,f=l[d]=new Array(c),w,v=0;v<c;++v)(w=y[v]||_[v])&&(f[v]=w);for(;d<i;++d)l[d]=n[d];return new yn(l,this._parents)}function xI(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function kI(e){e||(e=CI);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,d=i[s]=new Array(l),y,_=0;_<l;++_)(y=a[_])&&(d[_]=y);d.sort(t)}return new yn(i,this._parents).order()}function CI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function PI(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function AI(){return Array.from(this)}function LI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function II(){let e=0;for(const t of this)++e;return e}function RI(){return!this.node()}function NI(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function OI(e){return function(){this.removeAttribute(e)}}function MI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function DI(e,t){return function(){this.setAttribute(e,t)}}function $I(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function FI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zI(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jI(e,t){var n=Kc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?MI:OI:typeof t=="function"?n.local?zI:FI:n.local?$I:DI)(n,t))}function cS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UI(e){return function(){this.style.removeProperty(e)}}function BI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function HI(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function WI(e,t,n){return arguments.length>1?this.each((t==null?UI:typeof t=="function"?HI:BI)(e,t,n??"")):Vo(this.node(),e)}function Vo(e,t){return e.style.getPropertyValue(t)||cS(e).getComputedStyle(e,null).getPropertyValue(t)}function qI(e){return function(){delete this[e]}}function VI(e,t){return function(){this[e]=t}}function ZI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function GI(e,t){return arguments.length>1?this.each((t==null?qI:typeof t=="function"?ZI:VI)(e,t)):this.node()[e]}function dS(e){return e.trim().split(/^|\s+/)}function ng(e){return e.classList||new fS(e)}function fS(e){this._node=e,this._names=dS(e.getAttribute("class")||"")}fS.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hS(e,t){for(var n=ng(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pS(e,t){for(var n=ng(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function YI(e){return function(){hS(this,e)}}function KI(e){return function(){pS(this,e)}}function XI(e,t){return function(){(t.apply(this,arguments)?hS:pS)(this,e)}}function QI(e,t){var n=dS(e+"");if(arguments.length<2){for(var r=ng(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?XI:t?YI:KI)(n,t))}function JI(){this.textContent=""}function eR(e){return function(){this.textContent=e}}function tR(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nR(e){return arguments.length?this.each(e==null?JI:(typeof e=="function"?tR:eR)(e)):this.node().textContent}function rR(){this.innerHTML=""}function iR(e){return function(){this.innerHTML=e}}function oR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sR(e){return arguments.length?this.each(e==null?rR:(typeof e=="function"?oR:iR)(e)):this.node().innerHTML}function aR(){this.nextSibling&&this.parentNode.appendChild(this)}function lR(){return this.each(aR)}function uR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cR(){return this.each(uR)}function dR(e){var t=typeof e=="function"?e:oS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fR(){return null}function hR(e,t){var n=typeof e=="function"?e:oS(e),r=t==null?fR:typeof t=="function"?t:tg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pR(){var e=this.parentNode;e&&e.removeChild(this)}function mR(){return this.each(pR)}function gR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yR(e){return this.select(e?vR:gR)}function _R(e){return arguments.length?this.property("__data__",e):this.node().__data__}function wR(e){return function(t){e.call(this,t,this.__data__)}}function bR(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function TR(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function SR(e,t,n){return function(){var r=this.__on,i,s=wR(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ER(e,t,n){var r=bR(e+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,y=l.length,_;d<y;++d)for(i=0,_=l[d];i<s;++i)if((a=r[i]).type===_.type&&a.name===_.name)return _.value}return}for(l=t?SR:TR,i=0;i<s;++i)this.each(l(r[i],t,n));return this}function mS(e,t,n){var r=cS(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xR(e,t){return function(){return mS(this,e,t)}}function kR(e,t){return function(){return mS(this,e,t.apply(this,arguments))}}function CR(e,t){return this.each((typeof t=="function"?kR:xR)(e,t))}function*PR(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var gS=[null];function yn(e,t){this._groups=e,this._parents=t}function Pa(){return new yn([[document.documentElement]],gS)}function AR(){return this}yn.prototype=Pa.prototype={constructor:yn,select:tI,selectAll:oI,selectChild:uI,selectChildren:hI,filter:pI,data:wI,enter:mI,exit:TI,join:SI,merge:EI,selection:AR,order:xI,sort:kI,call:PI,nodes:AI,node:LI,size:II,empty:RI,each:NI,attr:jI,style:WI,property:GI,classed:QI,text:nR,html:sR,raise:lR,lower:cR,append:dR,insert:hR,remove:mR,clone:yR,datum:_R,on:ER,dispatch:CR,[Symbol.iterator]:PR};function Wi(e){return typeof e=="string"?new yn([[document.querySelector(e)]],[document.documentElement]):new yn([[e]],gS)}function LR(e){let t;for(;t=e.sourceEvent;)e=t;return e}function e0(e,t){if(e=LR(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const IR={passive:!1},ya={capture:!0,passive:!1};function Tf(e){e.stopImmediatePropagation()}function No(e){e.preventDefault(),e.stopImmediatePropagation()}function RR(e){var t=e.document.documentElement,n=Wi(e).on("dragstart.drag",No,ya);"onselectstart"in t?n.on("selectstart.drag",No,ya):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function NR(e,t){var n=e.document.documentElement,r=Wi(e).on("dragstart.drag",null);t&&(r.on("click.drag",No,ya),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const bl=e=>()=>e;function Pp(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:a,y:l,dx:d,dy:y,dispatch:_}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:_}})}Pp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function OR(e){return!e.ctrlKey&&!e.button}function MR(){return this.parentNode}function DR(e,t){return t??{x:e.x,y:e.y}}function $R(){return navigator.maxTouchPoints||"ontouchstart"in this}function FR(){var e=OR,t=MR,n=DR,r=$R,i={},s=eg("start","drag","end"),a=0,l,d,y,_,c=0;function f(T){T.on("mousedown.drag",w).filter(r).on("touchstart.drag",b).on("touchmove.drag",g,IR).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(T,x){if(!(_||!e.call(this,T,x))){var k=h(this,t.call(this,T,x),T,x,"mouse");k&&(Wi(T.view).on("mousemove.drag",v,ya).on("mouseup.drag",p,ya),RR(T.view),Tf(T),y=!1,l=T.clientX,d=T.clientY,k("start",T))}}function v(T){if(No(T),!y){var x=T.clientX-l,k=T.clientY-d;y=x*x+k*k>c}i.mouse("drag",T)}function p(T){Wi(T.view).on("mousemove.drag mouseup.drag",null),NR(T.view,y),No(T),i.mouse("end",T)}function b(T,x){if(e.call(this,T,x)){var k=T.changedTouches,C=t.call(this,T,x),E=k.length,A,P;for(A=0;A<E;++A)(P=h(this,C,T,x,k[A].identifier,k[A]))&&(Tf(T),P("start",T,k[A]))}}function g(T){var x=T.changedTouches,k=x.length,C,E;for(C=0;C<k;++C)(E=i[x[C].identifier])&&(No(T),E("drag",T,x[C]))}function m(T){var x=T.changedTouches,k=x.length,C,E;for(_&&clearTimeout(_),_=setTimeout(function(){_=null},500),C=0;C<k;++C)(E=i[x[C].identifier])&&(Tf(T),E("end",T,x[C]))}function h(T,x,k,C,E,A){var P=s.copy(),N=e0(A||k,x),$,F,j;if((j=n.call(T,new Pp("beforestart",{sourceEvent:k,target:f,identifier:E,active:a,x:N[0],y:N[1],dx:0,dy:0,dispatch:P}),C))!=null)return $=j.x-N[0]||0,F=j.y-N[1]||0,function B(H,U,W){var Y=N,G;switch(H){case"start":i[E]=B,G=a++;break;case"end":delete i[E],--a;case"drag":N=e0(W||U,x),G=a;break}P.call(H,T,new Pp(H,{sourceEvent:U,subject:j,target:f,identifier:E,active:G,x:N[0]+$,y:N[1]+F,dx:N[0]-Y[0],dy:N[1]-Y[1],dispatch:P}),C)}}return f.filter=function(T){return arguments.length?(e=typeof T=="function"?T:bl(!!T),f):e},f.container=function(T){return arguments.length?(t=typeof T=="function"?T:bl(T),f):t},f.subject=function(T){return arguments.length?(n=typeof T=="function"?T:bl(T),f):n},f.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:bl(!!T),f):r},f.on=function(){var T=s.on.apply(s,arguments);return T===s?f:T},f.clickDistance=function(T){return arguments.length?(c=(T=+T)*T,f):Math.sqrt(c)},f}function rg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vS(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Aa(){}var _a=.7,Eu=1/_a,Oo="\\s*([+-]?\\d+)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zR=/^#([0-9a-f]{3,8})$/,jR=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),UR=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),BR=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${wa}\\)$`),HR=new RegExp(`^rgba\\(${ur},${ur},${ur},${wa}\\)$`),WR=new RegExp(`^hsl\\(${wa},${ur},${ur}\\)$`),qR=new RegExp(`^hsla\\(${wa},${ur},${ur},${wa}\\)$`),t0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rg(Aa,qi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n0,formatHex:n0,formatHex8:VR,formatHsl:ZR,formatRgb:r0,toString:r0});function n0(){return this.rgb().formatHex()}function VR(){return this.rgb().formatHex8()}function ZR(){return yS(this).formatHsl()}function r0(){return this.rgb().formatRgb()}function qi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?i0(t):n===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jR.exec(e))?new on(t[1],t[2],t[3],1):(t=UR.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BR.exec(e))?Tl(t[1],t[2],t[3],t[4]):(t=HR.exec(e))?Tl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WR.exec(e))?a0(t[1],t[2]/100,t[3]/100,1):(t=qR.exec(e))?a0(t[1],t[2]/100,t[3]/100,t[4]):t0.hasOwnProperty(e)?i0(t0[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function i0(e){return new on(e>>16&255,e>>8&255,e&255,1)}function Tl(e,t,n,r){return r<=0&&(e=t=n=NaN),new on(e,t,n,r)}function GR(e){return e instanceof Aa||(e=qi(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function Ap(e,t,n,r){return arguments.length===1?GR(e):new on(e,t,n,r??1)}function on(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}rg(on,Ap,vS(Aa,{brighter(e){return e=e==null?Eu:Math.pow(Eu,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_a:Math.pow(_a,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(Fi(this.r),Fi(this.g),Fi(this.b),xu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o0,formatHex:o0,formatHex8:YR,formatRgb:s0,toString:s0}));function o0(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}`}function YR(){return`#${Oi(this.r)}${Oi(this.g)}${Oi(this.b)}${Oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function s0(){const e=xu(this.opacity);return`${e===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${e===1?")":`, ${e})`}`}function xu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oi(e){return e=Fi(e),(e<16?"0":"")+e.toString(16)}function a0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,n,r)}function yS(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof Aa||(e=qi(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,l=s-i,d=(s+i)/2;return l?(t===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-t)/l+2:a=(t-n)/l+4,l/=d<.5?s+i:2-s-i,a*=60):l=d>0&&d<1?0:a,new Wn(a,l,d,e.opacity)}function KR(e,t,n,r){return arguments.length===1?yS(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}rg(Wn,KR,vS(Aa,{brighter(e){return e=e==null?Eu:Math.pow(Eu,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_a:Math.pow(_a,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new on(Sf(e>=240?e-240:e+120,i,r),Sf(e,i,r),Sf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Wn(l0(this.h),Sl(this.s),Sl(this.l),xu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xu(this.opacity);return`${e===1?"hsl(":"hsla("}${l0(this.h)}, ${Sl(this.s)*100}%, ${Sl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function l0(e){return e=(e||0)%360,e<0?e+360:e}function Sl(e){return Math.max(0,Math.min(1,e||0))}function Sf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ig=e=>()=>e;function XR(e,t){return function(n){return e+n*t}}function QR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JR(e){return(e=+e)==1?_S:function(t,n){return n-t?QR(t,n,e):ig(isNaN(t)?n:t)}}function _S(e,t){var n=t-e;return n?XR(e,n):ig(isNaN(e)?t:e)}const ku=function e(t){var n=JR(t);function r(i,s){var a=n((i=Ap(i)).r,(s=Ap(s)).r),l=n(i.g,s.g),d=n(i.b,s.b),y=_S(i.opacity,s.opacity);return function(_){return i.r=a(_),i.g=l(_),i.b=d(_),i.opacity=y(_),i+""}}return r.gamma=e,r}(1);function eN(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function tN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nN(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=og(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function rN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function iN(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=og(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Lp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ef=new RegExp(Lp.source,"g");function oN(e){return function(){return e}}function sN(e){return function(t){return e(t)+""}}function wS(e,t){var n=Lp.lastIndex=Ef.lastIndex=0,r,i,s,a=-1,l=[],d=[];for(e=e+"",t=t+"";(r=Lp.exec(e))&&(i=Ef.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,d.push({i:a,x:Hn(r,i)})),n=Ef.lastIndex;return n<t.length&&(s=t.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?d[0]?sN(d[0].x):oN(t):(t=d.length,function(y){for(var _=0,c;_<t;++_)l[(c=d[_]).i]=c.x(y);return l.join("")})}function og(e,t){var n=typeof t,r;return t==null||n==="boolean"?ig(t):(n==="number"?Hn:n==="string"?(r=qi(t))?(t=r,ku):wS:t instanceof qi?ku:t instanceof Date?rN:tN(t)?eN:Array.isArray(t)?nN:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iN:Hn)(e,t)}function aN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var u0=180/Math.PI,Ip={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bS(e,t,n,r,i,s){var a,l,d;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,d/=l),e*r<t*n&&(e=-e,t=-t,d=-d,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*u0,skewX:Math.atan(d)*u0,scaleX:a,scaleY:l}}var El;function lN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ip:bS(t.a,t.b,t.c,t.d,t.e,t.f)}function uN(e){return e==null||(El||(El=document.createElementNS("http://www.w3.org/2000/svg","g")),El.setAttribute("transform",e),!(e=El.transform.baseVal.consolidate()))?Ip:(e=e.matrix,bS(e.a,e.b,e.c,e.d,e.e,e.f))}function TS(e,t,n,r){function i(y){return y.length?y.pop()+" ":""}function s(y,_,c,f,w,v){if(y!==c||_!==f){var p=w.push("translate(",null,t,null,n);v.push({i:p-4,x:Hn(y,c)},{i:p-2,x:Hn(_,f)})}else(c||f)&&w.push("translate("+c+t+f+n)}function a(y,_,c,f){y!==_?(y-_>180?_+=360:_-y>180&&(y+=360),f.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Hn(y,_)})):_&&c.push(i(c)+"rotate("+_+r)}function l(y,_,c,f){y!==_?f.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Hn(y,_)}):_&&c.push(i(c)+"skewX("+_+r)}function d(y,_,c,f,w,v){if(y!==c||_!==f){var p=w.push(i(w)+"scale(",null,",",null,")");v.push({i:p-4,x:Hn(y,c)},{i:p-2,x:Hn(_,f)})}else(c!==1||f!==1)&&w.push(i(w)+"scale("+c+","+f+")")}return function(y,_){var c=[],f=[];return y=e(y),_=e(_),s(y.translateX,y.translateY,_.translateX,_.translateY,c,f),a(y.rotate,_.rotate,c,f),l(y.skewX,_.skewX,c,f),d(y.scaleX,y.scaleY,_.scaleX,_.scaleY,c,f),y=_=null,function(w){for(var v=-1,p=f.length,b;++v<p;)c[(b=f[v]).i]=b.x(w);return c.join("")}}}var cN=TS(lN,"px, ","px)","deg)"),dN=TS(uN,", ",")",")"),Zo=0,$s=0,Cs=0,SS=1e3,Cu,Fs,Pu=0,Vi=0,Xc=0,ba=typeof performance=="object"&&performance.now?performance:Date,ES=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sg(){return Vi||(ES(fN),Vi=ba.now()+Xc)}function fN(){Vi=0}function Au(){this._call=this._time=this._next=null}Au.prototype=xS.prototype={constructor:Au,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?sg():+n)+(t==null?0:+t),!this._next&&Fs!==this&&(Fs?Fs._next=this:Cu=this,Fs=this),this._call=e,this._time=n,Rp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rp())}};function xS(e,t,n){var r=new Au;return r.restart(e,t,n),r}function hN(){sg(),++Zo;for(var e=Cu,t;e;)(t=Vi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zo}function c0(){Vi=(Pu=ba.now())+Xc,Zo=$s=0;try{hN()}finally{Zo=0,mN(),Vi=0}}function pN(){var e=ba.now(),t=e-Pu;t>SS&&(Xc-=t,Pu=e)}function mN(){for(var e,t=Cu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Cu=n);Fs=e,Rp(r)}function Rp(e){if(!Zo){$s&&($s=clearTimeout($s));var t=e-Vi;t>24?(e<1/0&&($s=setTimeout(c0,e-ba.now()-Xc)),Cs&&(Cs=clearInterval(Cs))):(Cs||(Pu=ba.now(),Cs=setInterval(pN,SS)),Zo=1,ES(c0))}}function d0(e,t,n){var r=new Au;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var gN=eg("start","end","cancel","interrupt"),vN=[],kS=0,f0=1,Np=2,Bl=3,h0=4,Op=5,Hl=6;function Qc(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;yN(e,n,{name:t,index:r,group:i,on:gN,tween:vN,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:kS})}function ag(e,t){var n=Kn(e,t);if(n.state>kS)throw new Error("too late; already scheduled");return n}function dr(e,t){var n=Kn(e,t);if(n.state>Bl)throw new Error("too late; already running");return n}function Kn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function yN(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xS(s,0,n.time);function s(y){n.state=f0,n.timer.restart(a,n.delay,n.time),n.delay<=y&&a(y-n.delay)}function a(y){var _,c,f,w;if(n.state!==f0)return d();for(_ in r)if(w=r[_],w.name===n.name){if(w.state===Bl)return d0(a);w.state===h0?(w.state=Hl,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete r[_]):+_<t&&(w.state=Hl,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete r[_])}if(d0(function(){n.state===Bl&&(n.state=h0,n.timer.restart(l,n.delay,n.time),l(y))}),n.state=Np,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Np){for(n.state=Bl,i=new Array(f=n.tween.length),_=0,c=-1;_<f;++_)(w=n.tween[_].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=w);i.length=c+1}}function l(y){for(var _=y<n.duration?n.ease.call(null,y/n.duration):(n.timer.restart(d),n.state=Op,1),c=-1,f=i.length;++c<f;)i[c].call(e,_);n.state===Op&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Hl,n.timer.stop(),delete r[t];for(var y in r)return;delete e.__transition}}function _N(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>Np&&r.state<Op,r.state=Hl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function wN(e){return this.each(function(){_N(this,e)})}function bN(e,t){var n,r;return function(){var i=dr(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function TN(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=dr(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},d=0,y=i.length;d<y;++d)if(i[d].name===t){i[d]=l;break}d===y&&i.push(l)}s.tween=i}}function SN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Kn(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?bN:TN)(n,e,t))}function lg(e,t,n){var r=e._id;return e.each(function(){var i=dr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Kn(i,r).value[t]}}function CS(e,t){var n;return(typeof t=="number"?Hn:t instanceof qi?ku:(n=qi(t))?(t=n,ku):wS)(e,t)}function EN(e){return function(){this.removeAttribute(e)}}function xN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kN(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function CN(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function PN(e,t,n){var r,i,s;return function(){var a,l=n(this),d;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=l+"",a===d?null:a===r&&d===i?s:(i=d,s=t(r=a,l)))}}function AN(e,t,n){var r,i,s;return function(){var a,l=n(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=l+"",a===d?null:a===r&&d===i?s:(i=d,s=t(r=a,l)))}}function LN(e,t){var n=Kc(e),r=n==="transform"?dN:CS;return this.attrTween(e,typeof t=="function"?(n.local?AN:PN)(n,r,lg(this,"attr."+e,t)):t==null?(n.local?xN:EN)(n):(n.local?CN:kN)(n,r,t))}function IN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function NN(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&RN(e,s)),n}return i._value=t,i}function ON(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&IN(e,s)),n}return i._value=t,i}function MN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kc(e);return this.tween(n,(r.local?NN:ON)(r,t))}function DN(e,t){return function(){ag(this,e).delay=+t.apply(this,arguments)}}function $N(e,t){return t=+t,function(){ag(this,e).delay=t}}function FN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DN:$N)(t,e)):Kn(this.node(),t).delay}function zN(e,t){return function(){dr(this,e).duration=+t.apply(this,arguments)}}function jN(e,t){return t=+t,function(){dr(this,e).duration=t}}function UN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zN:jN)(t,e)):Kn(this.node(),t).duration}function BN(e,t){if(typeof t!="function")throw new Error;return function(){dr(this,e).ease=t}}function HN(e){var t=this._id;return arguments.length?this.each(BN(t,e)):Kn(this.node(),t).ease}function WN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dr(this,e).ease=n}}function qN(e){if(typeof e!="function")throw new Error;return this.each(WN(this._id,e))}function VN(e){typeof e!="function"&&(e=aS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=[],d,y=0;y<a;++y)(d=s[y])&&e.call(d,d.__data__,y,s)&&l.push(d);return new Mr(r,this._parents,this._name,this._id)}function ZN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var d=t[l],y=n[l],_=d.length,c=a[l]=new Array(_),f,w=0;w<_;++w)(f=d[w]||y[w])&&(c[w]=f);for(;l<r;++l)a[l]=t[l];return new Mr(a,this._parents,this._name,this._id)}function GN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function YN(e,t,n){var r,i,s=GN(t)?ag:dr;return function(){var a=s(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function KN(e,t){var n=this._id;return arguments.length<2?Kn(this.node(),n).on.on(e):this.each(YN(n,e,t))}function XN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function QN(){return this.on("end.remove",XN(this._id))}function JN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=tg(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],d=l.length,y=s[a]=new Array(d),_,c,f=0;f<d;++f)(_=l[f])&&(c=e.call(_,_.__data__,f,l))&&("__data__"in _&&(c.__data__=_.__data__),y[f]=c,Qc(y[f],t,n,f,y,Kn(_,n)));return new Mr(s,this._parents,t,n)}function eO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sS(e));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var d=r[l],y=d.length,_,c=0;c<y;++c)if(_=d[c]){for(var f=e.call(_,_.__data__,c,d),w,v=Kn(_,n),p=0,b=f.length;p<b;++p)(w=f[p])&&Qc(w,t,n,p,f,v);s.push(f),a.push(_)}return new Mr(s,a,t,n)}var tO=Pa.prototype.constructor;function nO(){return new tO(this._groups,this._parents)}function rO(e,t){var n,r,i;return function(){var s=Vo(this,e),a=(this.style.removeProperty(e),Vo(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function PS(e){return function(){this.style.removeProperty(e)}}function iO(e,t,n){var r,i=n+"",s;return function(){var a=Vo(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function oO(e,t,n){var r,i,s;return function(){var a=Vo(this,e),l=n(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Vo(this,e))),a===d?null:a===r&&d===i?s:(i=d,s=t(r=a,l))}}function sO(e,t){var n,r,i,s="style."+t,a="end."+s,l;return function(){var d=dr(this,e),y=d.on,_=d.value[s]==null?l||(l=PS(t)):void 0;(y!==n||i!==_)&&(r=(n=y).copy()).on(a,i=_),d.on=r}}function aO(e,t,n){var r=(e+="")=="transform"?cN:CS;return t==null?this.styleTween(e,rO(e,r)).on("end.style."+e,PS(e)):typeof t=="function"?this.styleTween(e,oO(e,r,lg(this,"style."+e,t))).each(sO(this._id,e)):this.styleTween(e,iO(e,r,t),n).on("end.style."+e,null)}function lO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function uO(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&lO(e,a,n)),r}return s._value=t,s}function cO(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,uO(e,t,n??""))}function dO(e){return function(){this.textContent=e}}function fO(e){return function(){var t=e(this);this.textContent=t??""}}function hO(e){return this.tween("text",typeof e=="function"?fO(lg(this,"text",e)):dO(e==null?"":e+""))}function pO(e){return function(t){this.textContent=e.call(this,t)}}function mO(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&pO(i)),t}return r._value=e,r}function gO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mO(e))}function vO(){for(var e=this._name,t=this._id,n=AS(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,d,y=0;y<l;++y)if(d=a[y]){var _=Kn(d,t);Qc(d,e,n,y,a,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Mr(r,this._parents,e,n)}function yO(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},d={value:function(){--i===0&&s()}};n.each(function(){var y=dr(this,r),_=y.on;_!==e&&(t=(e=_).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),y.on=t}),i===0&&s()})}var _O=0;function Mr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function AS(){return++_O}var yr=Pa.prototype;Mr.prototype={constructor:Mr,select:JN,selectAll:eO,selectChild:yr.selectChild,selectChildren:yr.selectChildren,filter:VN,merge:ZN,selection:nO,transition:vO,call:yr.call,nodes:yr.nodes,node:yr.node,size:yr.size,empty:yr.empty,each:yr.each,on:KN,attr:LN,attrTween:MN,style:aO,styleTween:cO,text:hO,textTween:gO,remove:QN,tween:SN,delay:FN,duration:UN,ease:HN,easeVarying:qN,end:yO,[Symbol.iterator]:yr[Symbol.iterator]};function wO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bO={time:null,delay:0,duration:250,ease:wO};function TO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function SO(e){var t,n;e instanceof Mr?(t=e._id,e=e._name):(t=AS(),(n=bO).time=sg(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,d,y=0;y<l;++y)(d=a[y])&&Qc(d,e,t,y,a,n||TO(d,t));return new Mr(r,this._parents,e,t)}Pa.prototype.interrupt=wN;Pa.prototype.transition=SO;function EO(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xO(e){return function(){return e}}function kO(e){return+e}var p0=[0,1];function Eo(e){return e}function Mp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xO(isNaN(t)?NaN:.5)}function CO(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function PO(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=Mp(i,r),s=n(a,s)):(r=Mp(r,i),s=n(s,a)),function(l){return s(r(l))}}function AO(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Mp(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(l){var d=F2(e,l,1,r)-1;return s[d](i[d](l))}}function LO(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IO(){var e=p0,t=p0,n=og,r,i,s,a=Eo,l,d,y;function _(){var f=Math.min(e.length,t.length);return a!==Eo&&(a=CO(e[0],e[f-1])),l=f>2?AO:PO,d=y=null,c}function c(f){return f==null||isNaN(f=+f)?s:(d||(d=l(e.map(r),t,n)))(r(a(f)))}return c.invert=function(f){return a(i((y||(y=l(t,e.map(r),Hn)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,kO),_()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),_()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=aN,_()},c.clamp=function(f){return arguments.length?(a=f?!0:Eo,_()):a!==Eo},c.interpolate=function(f){return arguments.length?(n=f,_()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,w){return r=f,i=w,_()}}function RO(){return IO()(Eo,Eo)}function NO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}const xf=new Date,kf=new Date;function Pt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const d=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return d;let y;do d.push(y=new Date(+s)),t(s,l),e(s);while(y<s&&s<a);return d},i.filter=s=>Pt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(xf.setTime(+s),kf.setTime(+a),e(xf),e(kf),Math.floor(n(xf,kf))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Lu=Pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Lu);Lu.range;const kr=1e3,An=kr*60,Cr=An*60,Dr=Cr*24,ug=Dr*7,m0=Dr*30,Cf=Dr*365,ti=Pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCSeconds());ti.range;const Wt=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getMinutes());Wt.range;const LS=Pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCMinutes());LS.range;const cg=Pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kr-e.getMinutes()*An)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getHours());cg.range;const IS=Pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCHours());IS.range;const La=Pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*An)/Dr,e=>e.getDate()-1);La.range;const dg=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dr,e=>e.getUTCDate()-1);dg.range;const RS=Pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dr,e=>Math.floor(e/Dr));RS.range;function Ki(e){return Pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*An)/ug)}const Jc=Ki(0),Iu=Ki(1),OO=Ki(2),MO=Ki(3),Go=Ki(4),DO=Ki(5),$O=Ki(6);Jc.range;Iu.range;OO.range;MO.range;Go.range;DO.range;$O.range;function Xi(e){return Pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ug)}const fg=Xi(0),Ru=Xi(1),FO=Xi(2),zO=Xi(3),Yo=Xi(4),jO=Xi(5),UO=Xi(6);fg.range;Ru.range;FO.range;zO.range;Yo.range;jO.range;UO.range;const hg=Pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hg.range;const NS=Pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NS.range;const $r=Pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$r.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$r.range;const fi=Pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});fi.range;function OS(e,t,n,r,i,s){const a=[[ti,1,kr],[ti,5,5*kr],[ti,15,15*kr],[ti,30,30*kr],[s,1,An],[s,5,5*An],[s,15,15*An],[s,30,30*An],[i,1,Cr],[i,3,3*Cr],[i,6,6*Cr],[i,12,12*Cr],[r,1,Dr],[r,2,2*Dr],[n,1,ug],[t,1,m0],[t,3,3*m0],[e,1,Cf]];function l(y,_,c){const f=_<y;f&&([y,_]=[_,y]);const w=c&&typeof c.range=="function"?c:d(y,_,c),v=w?w.range(y,+_+1):[];return f?v.reverse():v}function d(y,_,c){const f=Math.abs(_-y)/c,w=Jm(([,,b])=>b).right(a,f);if(w===a.length)return e.every(Y_(y/Cf,_/Cf,c));if(w===0)return Lu.every(Math.max(Y_(y,_,c),1));const[v,p]=a[f/a[w-1][2]<a[w][2]/f?w-1:w];return v.every(p)}return[l,d]}OS(fi,NS,fg,RS,IS,LS);const[BO,HO]=OS($r,hg,Jc,La,cg,Wt);function Pf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Af(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ps(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WO(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,d=e.shortMonths,y=As(i),_=Ls(i),c=As(s),f=Ls(s),w=As(a),v=Ls(a),p=As(l),b=Ls(l),g=As(d),m=Ls(d),h={a:U,A:W,b:Y,B:G,c:null,d:b0,e:b0,f:hM,g:SM,G:xM,H:cM,I:dM,j:fM,L:MS,m:pM,M:mM,p:J,q:oe,Q:E0,s:x0,S:gM,u:vM,U:yM,V:_M,w:wM,W:bM,x:null,X:null,y:TM,Y:EM,Z:kM,"%":S0},T={a:ce,A:fe,b:de,B:ue,c:null,d:T0,e:T0,f:LM,g:jM,G:BM,H:CM,I:PM,j:AM,L:$S,m:IM,M:RM,p:be,q:re,Q:E0,s:x0,S:NM,u:OM,U:MM,V:DM,w:$M,W:FM,x:null,X:null,y:zM,Y:UM,Z:HM,"%":S0},x={a:P,A:N,b:$,B:F,c:j,d:_0,e:_0,f:sM,g:y0,G:v0,H:w0,I:w0,j:nM,L:oM,m:tM,M:rM,p:A,q:eM,Q:lM,s:uM,S:iM,u:YO,U:KO,V:XO,w:GO,W:QO,x:B,X:H,y:y0,Y:v0,Z:JO,"%":aM};h.x=k(n,h),h.X=k(r,h),h.c=k(t,h),T.x=k(n,T),T.X=k(r,T),T.c=k(t,T);function k(M,z){return function(q){var Z=[],Q=-1,ne=0,ve=M.length,se,$e,ht;for(q instanceof Date||(q=new Date(+q));++Q<ve;)M.charCodeAt(Q)===37&&(Z.push(M.slice(ne,Q)),($e=g0[se=M.charAt(++Q)])!=null?se=M.charAt(++Q):$e=se==="e"?" ":"0",(ht=z[se])&&(se=ht(q,$e)),Z.push(se),ne=Q+1);return Z.push(M.slice(ne,Q)),Z.join("")}}function C(M,z){return function(q){var Z=Ps(1900,void 0,1),Q=E(Z,M,q+="",0),ne,ve;if(Q!=q.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(z&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ne=Af(Ps(Z.y,0,1)),ve=ne.getUTCDay(),ne=ve>4||ve===0?Ru.ceil(ne):Ru(ne),ne=dg.offset(ne,(Z.V-1)*7),Z.y=ne.getUTCFullYear(),Z.m=ne.getUTCMonth(),Z.d=ne.getUTCDate()+(Z.w+6)%7):(ne=Pf(Ps(Z.y,0,1)),ve=ne.getDay(),ne=ve>4||ve===0?Iu.ceil(ne):Iu(ne),ne=La.offset(ne,(Z.V-1)*7),Z.y=ne.getFullYear(),Z.m=ne.getMonth(),Z.d=ne.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),ve="Z"in Z?Af(Ps(Z.y,0,1)).getUTCDay():Pf(Ps(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(ve+5)%7:Z.w+Z.U*7-(ve+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Af(Z)):Pf(Z)}}function E(M,z,q,Z){for(var Q=0,ne=z.length,ve=q.length,se,$e;Q<ne;){if(Z>=ve)return-1;if(se=z.charCodeAt(Q++),se===37){if(se=z.charAt(Q++),$e=x[se in g0?z.charAt(Q++):se],!$e||(Z=$e(M,q,Z))<0)return-1}else if(se!=q.charCodeAt(Z++))return-1}return Z}function A(M,z,q){var Z=y.exec(z.slice(q));return Z?(M.p=_.get(Z[0].toLowerCase()),q+Z[0].length):-1}function P(M,z,q){var Z=w.exec(z.slice(q));return Z?(M.w=v.get(Z[0].toLowerCase()),q+Z[0].length):-1}function N(M,z,q){var Z=c.exec(z.slice(q));return Z?(M.w=f.get(Z[0].toLowerCase()),q+Z[0].length):-1}function $(M,z,q){var Z=g.exec(z.slice(q));return Z?(M.m=m.get(Z[0].toLowerCase()),q+Z[0].length):-1}function F(M,z,q){var Z=p.exec(z.slice(q));return Z?(M.m=b.get(Z[0].toLowerCase()),q+Z[0].length):-1}function j(M,z,q){return E(M,t,z,q)}function B(M,z,q){return E(M,n,z,q)}function H(M,z,q){return E(M,r,z,q)}function U(M){return a[M.getDay()]}function W(M){return s[M.getDay()]}function Y(M){return d[M.getMonth()]}function G(M){return l[M.getMonth()]}function J(M){return i[+(M.getHours()>=12)]}function oe(M){return 1+~~(M.getMonth()/3)}function ce(M){return a[M.getUTCDay()]}function fe(M){return s[M.getUTCDay()]}function de(M){return d[M.getUTCMonth()]}function ue(M){return l[M.getUTCMonth()]}function be(M){return i[+(M.getUTCHours()>=12)]}function re(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var z=k(M+="",h);return z.toString=function(){return M},z},parse:function(M){var z=C(M+="",!1);return z.toString=function(){return M},z},utcFormat:function(M){var z=k(M+="",T);return z.toString=function(){return M},z},utcParse:function(M){var z=C(M+="",!0);return z.toString=function(){return M},z}}}var g0={"-":"",_:" ",0:"0"},Ot=/^\s*\d+/,qO=/^%/,VO=/[\\^$*+?|[\]().{}]/g;function je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function ZO(e){return e.replace(VO,"\\$&")}function As(e){return new RegExp("^(?:"+e.map(ZO).join("|")+")","i")}function Ls(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function GO(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function YO(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function KO(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function XO(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function QO(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function v0(e,t,n){var r=Ot.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function y0(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function JO(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eM(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function tM(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _0(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nM(e,t,n){var r=Ot.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function w0(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rM(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iM(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function oM(e,t,n){var r=Ot.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sM(e,t,n){var r=Ot.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aM(e,t,n){var r=qO.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lM(e,t,n){var r=Ot.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uM(e,t,n){var r=Ot.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function b0(e,t){return je(e.getDate(),t,2)}function cM(e,t){return je(e.getHours(),t,2)}function dM(e,t){return je(e.getHours()%12||12,t,2)}function fM(e,t){return je(1+La.count($r(e),e),t,3)}function MS(e,t){return je(e.getMilliseconds(),t,3)}function hM(e,t){return MS(e,t)+"000"}function pM(e,t){return je(e.getMonth()+1,t,2)}function mM(e,t){return je(e.getMinutes(),t,2)}function gM(e,t){return je(e.getSeconds(),t,2)}function vM(e){var t=e.getDay();return t===0?7:t}function yM(e,t){return je(Jc.count($r(e)-1,e),t,2)}function DS(e){var t=e.getDay();return t>=4||t===0?Go(e):Go.ceil(e)}function _M(e,t){return e=DS(e),je(Go.count($r(e),e)+($r(e).getDay()===4),t,2)}function wM(e){return e.getDay()}function bM(e,t){return je(Iu.count($r(e)-1,e),t,2)}function TM(e,t){return je(e.getFullYear()%100,t,2)}function SM(e,t){return e=DS(e),je(e.getFullYear()%100,t,2)}function EM(e,t){return je(e.getFullYear()%1e4,t,4)}function xM(e,t){var n=e.getDay();return e=n>=4||n===0?Go(e):Go.ceil(e),je(e.getFullYear()%1e4,t,4)}function kM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function T0(e,t){return je(e.getUTCDate(),t,2)}function CM(e,t){return je(e.getUTCHours(),t,2)}function PM(e,t){return je(e.getUTCHours()%12||12,t,2)}function AM(e,t){return je(1+dg.count(fi(e),e),t,3)}function $S(e,t){return je(e.getUTCMilliseconds(),t,3)}function LM(e,t){return $S(e,t)+"000"}function IM(e,t){return je(e.getUTCMonth()+1,t,2)}function RM(e,t){return je(e.getUTCMinutes(),t,2)}function NM(e,t){return je(e.getUTCSeconds(),t,2)}function OM(e){var t=e.getUTCDay();return t===0?7:t}function MM(e,t){return je(fg.count(fi(e)-1,e),t,2)}function FS(e){var t=e.getUTCDay();return t>=4||t===0?Yo(e):Yo.ceil(e)}function DM(e,t){return e=FS(e),je(Yo.count(fi(e),e)+(fi(e).getUTCDay()===4),t,2)}function $M(e){return e.getUTCDay()}function FM(e,t){return je(Ru.count(fi(e)-1,e),t,2)}function zM(e,t){return je(e.getUTCFullYear()%100,t,2)}function jM(e,t){return e=FS(e),je(e.getUTCFullYear()%100,t,2)}function UM(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function BM(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yo(e):Yo.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function HM(){return"+0000"}function S0(){return"%"}function E0(e){return+e}function x0(e){return Math.floor(+e/1e3)}var uo,Nu;zS({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zS(e){return uo=WO(e),Nu=uo.format,uo.parse,uo.utcFormat,uo.utcParse,uo}function WM(e){return new Date(e)}function qM(e){return e instanceof Date?+e:+new Date(+e)}function jS(e,t,n,r,i,s,a,l,d,y){var _=RO(),c=_.invert,f=_.domain,w=y(".%L"),v=y(":%S"),p=y("%I:%M"),b=y("%I %p"),g=y("%a %d"),m=y("%b %d"),h=y("%B"),T=y("%Y");function x(k){return(d(k)<k?w:l(k)<k?v:a(k)<k?p:s(k)<k?b:r(k)<k?i(k)<k?g:m:n(k)<k?h:T)(k)}return _.invert=function(k){return new Date(c(k))},_.domain=function(k){return arguments.length?f(Array.from(k,qM)):f().map(WM)},_.ticks=function(k){var C=f();return e(C[0],C[C.length-1],k??10)},_.tickFormat=function(k,C){return C==null?x:y(C)},_.nice=function(k){var C=f();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?f(NO(C,k)):_},_.copy=function(){return LO(_,jS(e,t,n,r,i,s,a,l,d,y))},_}function VM(){return EO.apply(jS(BO,HO,$r,hg,Jc,La,cg,Wt,ti,Nu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xo(e,t,n){this.k=e,this.x=t,this.y=n}xo.prototype={constructor:xo,scale:function(e){return e===1?this:new xo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new xo(1,0,0);xo.prototype;const ZM="%x, %X",GM="%d/%m/%Y",YM="%-I:%M:%S %p",KM=["AM","PM"],XM=["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],QM=["dom","lun","mar","mié","jue","vie","sáb"],JM=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],eD=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],tD={dateTime:ZM,date:GM,time:YM,periods:KM,days:XM,shortDays:QM,months:JM,shortMonths:eD},Yn={CATEGORY:"CATEGORY",NARRATIVE:"NARRATIVE",FILTER:"FILTER"},US="SHAPE",co={CATEGORY:"widgets",NARRATIVE:"timeline",FILTER:"filter_list",SHAPE:"change_history",DOWNLOAD:"download"},br={STAR:"STAR",DIAMOND:"DIAMOND",PENTAGON:"PENTAGON",SQUARE:"SQUARE",DOT:"DOT",BAR:"BAR",TRIANGLE:"TRIANGLE"},k0={STAR:"polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)",DIAMOND:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",PENTAGON:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",TRIANGLE:"polygon(50% 0%, 0% 100%, 100% 100%)"},nD="#ffffff";qo.extend(L2);const rD=Gt.DATE_FMT,iD=Gt.TIME_FMT,tt=Gt.store.app.language||"en-US";function BS(e){const t=e.split("/");return t[t.length-1]}function oD(e,t){return t||(t="00:00"),qo(`${e} ${t}`,`${rD} ${iD}`).toDate()}function C0(e,t){const n=e*Math.cos(2*Math.PI*t),r=e*Math.sin(2*Math.PI*t);return[n,r]}function pg(e,t){if(e.length<t.length)throw new Error("You must declare an appropriate number of filter colors");return t.reduce((n,r,i)=>(n[e[i]]=r,n),{})}function sD(e){return typeof e<"u"&&e!==null}function P0(e){return e.charAt(0).toUpperCase()+e.slice(1)}function aD(e,t){return e.length>t?e.substring(0,120)+"...":e}function HS(e){function t(i={},[s,...a],l){const d=Object.keys(i).find(_=>BS(_)===s);l.push(s);const y=l.join("/");return d||(i[y]={}),a.length>0&&t(i[y],a,l),i}const n=[];return e.forEach(i=>n.push(i.filter_paths)),n.reduce((i,s)=>t(i,s,[]),{})}function mg(e){const t=e.split("/"),n=[];return t.forEach((r,i)=>{const s=t.slice(0,i+1).join("/");n.push(s)}),n.pop(),n}function lD(e){const t=mg(e);return t[t.length-1]}function uD(e,t,n){function r(l,d){if(d.length===0||l==={})return{};const y=d.shift();if(Object.keys(l).includes(y)){const _=l[y];return d.length===0?_:r(_,d)}}const i=HS(e),s=mg(n),a=r(i,s);return Object.keys(a).filter(l=>l!==n)}function cD(e,t){const n=e.flatMap(i=>i),r=t.filter(i=>n.indexOf(i)===-1);return[...e,r]}function dD(e,t){return e.map(r=>r.filter(i=>!t.includes(i))).filter(r=>r.length!==0)}function WS(e,t){return e.associations.filter(r=>r.mode===Yn.CATEGORY).reduce((r,i)=>{const s=t.find(a=>a===i.title);return s&&r.push(s),r},[])}function ed(e){return e.filter_paths.join("/")}function gg(e){return t=>{let n;return t.sources?n=t.sources.map(r=>e.hasOwnProperty(r)?e[r]:null):n=[],{...t,sources:n}}}const A0=Gt.SERVER_ROOT;function jr(e){return Gt[e]?Array.isArray(Gt[e])?Gt[e].map(t=>`${A0}${t}`):[`${A0}${Gt[e]}`]:null}function Qi(e){return t=>({...t,flags:{...t.flags,[e]:!t.flags[e]}})}function qS(e){let t;switch(e=e.trim(),!0){case/\.((png)|(jpg)|(jpeg))$/.test(e):t="Image";break;case/\.(mp4)$/.test(e):t="Video";break;case/\.(md)$/.test(e):t="Text";break;case/\.(pdf)$/.test(e):t="Document";break;case/.+(twitter\.com).+/.test(e):t="Tweet";break;case/.+(t\.me).+/.test(e):t="Telegram";break;default:t="Unknown";break}return t}function fD(e,t){return{type:qS(e),path:e,poster:t}}function Lf(e,t){return zt(e)===zt(t)}function vg(e){return(e>=1?.9:0)+Math.min(.5,.08*(e-1))}function hD(e,t){return Math.min(.85,.08+e/t*50)}function VS(e,t){const n=t>60?60:35;return Math.min(n,10+e/t*100)}function ZS(e){return e.reduce((t,n)=>(n&&n.properties&&n.properties.cluster&&(t+=n.properties.point_count),t),0)}function Ia(e){return!!e&&isFinite(e)&&Math.abs(e)<=90}function Ra(e){return!!e&&isFinite(e)&&Math.abs(e)<=180}function L0(e,t,n){return n.length>0?t.filter(i=>n.some(s=>i.id===s.id)):e.reduce((r,i)=>{const s=t.find(a=>a.label===i.properties.id);return s&&r.push(s),r},[])}function yg(e,t){if(t.length===0)return[1];const n={};for(const[s,a]of t.entries())for(const l of a)n[l]=s;const r=new Array(t.length);r.fill(0);let i=0;return e.forEach(s=>{let a="events"in s?s.events:s;Array.isArray(a)||(a=[a]),a.forEach(l=>{l.associations.forEach(d=>{const y=n[ed(d)];!y&&y!==0||(r[y]+=1,i+=1)})})}),i===0?[1]:r.map(s=>s/i)}function GS(e,t){let n=-1;return t.map((r,i)=>(r.indexOf(e)!==-1&&(n=i),null)),n}const pD=function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){return e<t?e:t})},mD=function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){return e>t?e:t})};function gD(e,t,n){let r=0,i=e.length-1;for(;r<=i;){const s=i+r>>1,a=n(t,e[s]);if(a>0)r=s+1;else if(a<0)i=s-1;else return s}return-r-1}function Dp(e){if(e===null)return null;const t=new Intl.DateTimeFormat(tt,{year:"numeric",month:"long",day:"2-digit"}),[{value:n},,{value:r},,{value:i}]=t.formatToParts(e);return`${r} ${n}, ${i}`}function vD(){const e={"es-MX":tD};tt!=="es-US"&&e[tt]&&zS(e[tt])}function yD(e,t){return e.map(r=>{const{colour:i,shape:s,id:a}=r,l={checkboxStyles:{background:t.includes(a)?i:"black",border:"none",clipPath:k0[s]},containerStyles:{background:i,clipPath:k0[s]}};return r.styles=l,r})}function _D(e,t){const n=e.reduce((i,s)=>{const a=s.filter_paths[0];return a in i||(i[a]=[]),i[a].push(s),i},{});return t.length>1?n:{default:e}}function wD(e,t){let n=t;return(e.length>1?e.filter(i=>i!=="default"):e).reduce((i,s)=>(i[s]=n,n+=1,i),{})}function bD(e,t,n){return e&&!t?1:!e&&t?n:e&&t?n+1:0}function I0(e,t){let n=document.createElement("a");n.setAttribute("href",`data:application/octet-stream;charset=utf-8,${encodeURIComponent(t)}`),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}const R0=e=>e.length===0;function TD(e){return e==null||typeof e=="object"&&!Object.keys(e).length}const YS=e=>(e/1e3).toFixed(2)+"km",SD=jr("MILITARY_EXT"),ED=jr("EVENTS_EXT"),N0=jr("ASSOCIATIONS_EXT"),Ou=jr("SOURCES_EXT"),xD=jr("SITES_EXT"),kD=jr("REGIONS_EXT"),CD=jr("SHAPES_EXT");jr("LOGIN_EXT");const Wl=jr("JWT_SECRET_KEY"),Is=e=>`Something went wrong fetching ${e}. Check the URL or try disabling them in the config file.`;async function _g(e){return await(await fetch(SD+`/${e}`,{method:"GET",headers:{Authorization:"Bearer "+Wl}})).json()}function PD(){const e=[];function t(n){return e.push({message:n,type:"error"}),[]}return(n,r)=>{const i=r().features;n(ql());const s=Promise.all(ED.map(c=>fetch(c,{method:"GET",headers:{Authorization:"Bearer "+Wl}}).then(f=>f.json()).catch(()=>t("events")))).then(c=>c.flatMap(f=>f));let a=Promise.resolve([]);i.USE_ASSOCIATIONS&&(N0?a=fetch(N0,{method:"GET",headers:{Authorization:"Bearer "+Wl}}).then(c=>c.json()).catch(()=>t(Is("associations"))):a=Promise.resolve(t("USE_ASSOCIATIONS is true, but you have not provided a ASSOCIATIONS_EXT")));let l=Promise.resolve([]);i.USE_SOURCES&&(Ou?l=fetch(Ou,{method:"GET",headers:{Authorization:"Bearer "+Wl}}).then(c=>c.json()).catch(()=>t(Is("sources"))):l=Promise.resolve(t("USE_SOURCES is true, but you have not provided a SOURCES_EXT")));let d=Promise.resolve([]);i.USE_SITES&&(d=fetch(xD).then(c=>c.json()).catch(()=>t(Is("sites"))));let y=Promise.resolve([]);i.USE_REGIONS&&(y=fetch(kD).then(c=>c.json()).catch(()=>t(Is("regions"))));let _=Promise.resolve([]);return i.USE_SHAPES&&(_=fetch(CD).then(c=>c.json()).catch(()=>t(Is("shapes")))),Promise.all([s,a,l,d,y,_]).then(c=>{const f={events:c[0],associations:c[1],sources:c[2],sites:c[3],regions:c[4],shapes:c[5],notifications:e};if(Object.values(f).some(w=>w.hasOwnProperty("error")))throw new Error("Some URLs returned negative. If you are in development, check the server is running");return n(ql()),n(eE(f.associations)),n(tE(f.shapes)),f}).catch(c=>{n(KS(c.message)),n(ql()),alert(c.message)})}}const wg="FETCH_ERROR";function KS(e){return{type:wg,message:e}}const bg="UPDATE_DOMAIN";function AD(e){return{type:bg,payload:e}}function LD(e){return t=>{Ou?(t($p()),fetch(`${Ou}`).then(n=>{if(n.ok)return n.json();throw new Error("No sources are available at the URL specified in the config specified.")}).catch(n=>{t(Fp(n.message)),t($p())})):t(Fp("No source extension specified."))}}const Tg="UPDATE_HIGHLIGHTED";function ID(e){return{type:Tg,highlighted:e}}const td="UPDATE_SELECTED";function RD(e){return{type:td,selected:e}}const XS="UPDATE_DISTRICT";function ND(e){return{type:XS,district:e}}const Sg="CLEAR_FILTER";function OD(e){return{type:Sg,filter:e}}const nd="TOGGLE_ASSOCIATIONS";function MD(e,t,n){return{type:nd,association:e,value:t,shouldColor:n}}const Eg="TOGGLE_SHAPES";function DD(e){return{type:Eg,shape:e}}const xg="SET_LOADING";function QS(){return{type:xg}}const kg="SET_NOT_LOADING";function JS(){return{type:kg}}const Cg="SET_INITIAL_CATEGORIES";function eE(e){return{type:Cg,values:e}}const Pg="SET_INITIAL_SHAPES";function tE(e){return{type:Pg,values:e}}const rd="UPDATE_TIMERANGE";function $D(e){return{type:rd,timerange:e}}const Ag="UPDATE_DIMENSIONS";function FD(e){return{type:Ag,dims:e}}const Lg="UPDATE_NARRATIVE";function zD(e){return{type:Lg,narrative:e}}const Ig="UPDATE_NARRATIVE_STEP_IDX";function jD(e){return{type:Ig,idx:e}}const Rg="UPDATE_SOURCE";function UD(e){return{type:Rg,source:e}}const id="UPDATE_COLORING_SET";function BD(e){return{type:id,coloringSet:e}}const Ng="UPDATE_TICKS";function nE(e){return{type:Ng,ticks:e}}const Og="TOGGLE_SITES";function HD(){return{type:Og}}const Mg="TOGGLE_FETCHING_DOMAIN";function ql(){return{type:Mg}}const Dg="TOGGLE_FETCHING_SOURCES";function $p(){return{type:Dg}}const $g="TOGGLE_LANGUAGE";function WD(e){return{type:$g,language:e}}const rE="CLOSE_TOOLBAR";function qD(){return{type:rE}}const Fg="TOGGLE_INFOPOPUP";function VD(){return{type:Fg}}const zg="TOGGLE_INTROPOPUP";function ZD(){return{type:zg}}const jg="TOGGLE_NOTIFICATIONS";function GD(){return{type:jg}}const Ug="MARK_NOTIFICATIONS_READ";function YD(){return{type:Ug}}const Bg="TOGGLE_COVER";function KD(){return{type:Bg}}const Hg="TOGGLE_TILE_OVERLAY";function XD(){return{type:Hg}}const Wg="UPDATE_SEARCH_QUERY";function QD(e){return{type:Wg,searchQuery:e}}const qg="FETCH_SOURCE_ERROR";function Fp(e){return{type:qg,msg:e}}const iE="TOGGLE_SATELLITE_VIEW";function JD(){return{type:iE}}const Vg="REHYDRATE_STATE";function e$(){return{type:Vg}}const Zg="UPDATE_CURRENT_ARTILLERY";function t$(e){return{type:Zg,currentArtillery:e}}const Gg="UPDATE_CURRENT_MILITARY_POSITIONS";function oE(e){return{type:Gg,currentMilitaryPositions:e}}const od=Object.freeze(Object.defineProperty({__proto__:null,CLEAR_FILTER:Sg,CLOSE_TOOLBAR:rE,FETCH_ERROR:wg,FETCH_SOURCE_ERROR:qg,MARK_NOTIFICATIONS_READ:Ug,REHYDRATE_STATE:Vg,SET_INITIAL_CATEGORIES:Cg,SET_INITIAL_SHAPES:Pg,SET_LOADING:xg,SET_NOT_LOADING:kg,TOGGLE_ASSOCIATIONS:nd,TOGGLE_COVER:Bg,TOGGLE_FETCHING_DOMAIN:Mg,TOGGLE_FETCHING_SOURCES:Dg,TOGGLE_INFOPOPUP:Fg,TOGGLE_INTROPOPUP:zg,TOGGLE_LANGUAGE:$g,TOGGLE_NOTIFICATIONS:jg,TOGGLE_SATELLITE_VIEW:iE,TOGGLE_SHAPES:Eg,TOGGLE_SITES:Og,TOGGLE_TILE_OVERLAY:Hg,UPDATE_COLORING_SET:id,UPDATE_CURRENT_ARTILLERY:Zg,UPDATE_CURRENT_MILITARY_POSITIONS:Gg,UPDATE_DIMENSIONS:Ag,UPDATE_DISTRICT:XS,UPDATE_DOMAIN:bg,UPDATE_HIGHLIGHTED:Tg,UPDATE_NARRATIVE:Lg,UPDATE_NARRATIVE_STEP_IDX:Ig,UPDATE_SEARCH_QUERY:Wg,UPDATE_SELECTED:td,UPDATE_SOURCE:Rg,UPDATE_TICKS:Ng,UPDATE_TIMERANGE:rd,clearFilter:OD,closeToolbar:qD,fetchDomain:PD,fetchError:KS,fetchMilitaryData:_g,fetchSource:LD,fetchSourceError:Fp,markNotificationsRead:YD,rehydrateState:e$,setInitialCategories:eE,setInitialShapes:tE,setLoading:QS,setNotLoading:JS,toggleAssociations:MD,toggleCover:KD,toggleFetchingDomain:ql,toggleFetchingSources:$p,toggleInfoPopup:VD,toggleIntroPopup:ZD,toggleLanguage:WD,toggleNotifications:GD,toggleSatelliteView:JD,toggleShapes:DD,toggleSites:HD,toggleTileOverlay:XD,updateColoringSet:BD,updateCurrentArtillery:t$,updateCurrentMilitaryPositions:oE,updateDimensions:FD,updateDistrict:ND,updateDomain:AD,updateHighlighted:ID,updateNarrative:zD,updateNarrativeStepIdx:jD,updateSearchQuery:QD,updateSelected:RD,updateSource:UD,updateTicks:nE,updateTimeRange:$D},Symbol.toStringTag,{value:"Module"}));var Mu="NOT_FOUND";function n$(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Mu},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function r$(e,t){var n=[];function r(l){var d=n.findIndex(function(_){return t(l,_.key)});if(d>-1){var y=n[d];return d>0&&(n.splice(d,1),n.unshift(y)),y.value}return Mu}function i(l,d){r(l)===Mu&&(n.unshift({key:l,value:d}),n.length>e&&n.pop())}function s(){return n}function a(){n=[]}return{get:r,put:i,getEntries:s,clear:a}}var i$=function(t,n){return t===n};function o$(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e(n[s],r[s]))return!1;return!0}}function s$(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?i$:r,s=n.maxSize,a=s===void 0?1:s,l=n.resultEqualityCheck,d=o$(i),y=a===1?n$(d):r$(a,d);function _(){var c=y.get(arguments);if(c===Mu){if(c=e.apply(null,arguments),l){var f=y.getEntries(),w=f.find(function(v){return l(v.value,c)});w&&(c=w.value)}y.put(arguments,c)}return c}return _.clearCache=function(){return y.clear()},_}function a$(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function l$(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];var y=0,_,c={memoizeOptions:void 0},f=l.pop();if(typeof f=="object"&&(c=f,f=l.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var w=c,v=w.memoizeOptions,p=v===void 0?n:v,b=Array.isArray(p)?p:[p],g=a$(l),m=e.apply(void 0,[function(){return y++,f.apply(null,arguments)}].concat(b)),h=e(function(){for(var x=[],k=g.length,C=0;C<k;C++)x.push(g[C].apply(null,arguments));return _=m.apply(null,x),_});return Object.assign(h,{resultFunc:f,memoizedResultFunc:m,dependencies:g,lastResult:function(){return _},recomputations:function(){return y},resetRecomputations:function(){return y=0}}),h};return i}var At=l$(s$);function u$(e,t){const n=e.datetime;return t[0]<n&&n<t[1]}const sE=e=>e.domain.events,aE=e=>e.domain.associations.filter(t=>t.mode===Yn.CATEGORY),c$=e=>e.domain.associations.filter(t=>t.mode===Yn.NARRATIVE),lE=e=>e.app.associations.narrative,Yg=e=>e.app.selected,d$=e=>e.domain.sites,Kg=e=>e.domain.sources,f$=e=>e.domain.regions,h$=e=>e.domain.shapes,uE=e=>e.domain.associations.filter(t=>t.mode===Yn.FILTER),Xg=e=>e.app.associations.filters,Qg=e=>e.app.associations.categories,cE=e=>e.app.shapes,p$=e=>e.app.associations.coloringSet,dE=e=>e.app.timeline.range,m$=e=>e.app.timeline.dimensions,fr=e=>e.features,g$=e=>e.ui.eventRadius,v$=e=>e.ui.tiles.current,y$=e=>e.ui.tiles.current===e.ui.tiles.satellite,_$=At([d$,fr],(e,t)=>t.USE_SITES?e.filter(n=>!!+n.enabled):[]);At([Kg,fr],(e,t)=>t.USE_SOURCES?e:{});const w$=At([f$,fr],(e,t)=>t.USE_REGIONS?e:[]),b$=e=>e.app.timeline.range.initial,T$=e=>e.app.timeline.range.initialDaysShown,Jg=At([dE,b$,T$],(e,t,n)=>{let r,i;return e=e.current,Array.isArray(e)&&e.length===2?[r,i]=e:Array.isArray(t)&&t.length===2?[r,i]=t:(i=new Date,r=new Date(i.getTime()-n*24*60*60*1e3)),[new Date(r),new Date(i)]}),S$=e=>e.app.timeline.range.limits,fE=At(S$,e=>[new Date(e.lower),new Date(e.upper||Date.now())]),ev=At([sE,Xg,Qg,cE,Jg,fr],(e,t,n,r,i,s)=>e.reduce((a,l)=>{const y=l.associations&&l.associations.filter(w=>w.mode===Yn.FILTER).map(w=>t.includes(ed(w))).some(w=>w)||t.length===0||t.length===0,_=l.associations&&l.associations.filter(w=>w.mode===Yn.CATEGORY).map(w=>n.includes(w.title)).some(w=>w)||n.length===0;let c=u$(l,i);c=s.GRAPH_NONLOCATED&&!l.latitude&&!l.longitude||c;const f=l.shape&&r.includes(l.shape.id);return l.type===US?f&&_&&c&&(a[l.id]={...l}):y&&_&&c&&(a[l.id]={...l}),a},[])),E$=At([ev],(e,t)=>e.reduce(n=>n+1,0)),tv=At([sE,c$,Kg,fr],(e,t,n,r)=>{if(Array.isArray(t)&&t.length===0)return[];const i={},s=a=>({id:a,steps:[]});return e.forEach(a=>{a.associations.forEach(l=>{const d=t.find(y=>y.id===l);if(d){const{id:y}=d;i[y]||(i[y]=s(y)),i[y].steps.push(gg(n)(a))}})}),Object.keys(i).forEach(a=>{i[a].steps.sort((y,_)=>y.datetime-_.datetime);const d=t.find(y=>y.id===a);d&&(i[a]={...d,...i[a]})}),t.map(a=>i[a.id]).filter(a=>a)}),hE=At([Yg,lE],(e,t)=>{if(t===null)return-1;const n=e[0];let r;return t.steps.forEach((i,s)=>{n.id===i.id&&(r=s)}),r}),pE=At([lE,hE],(e,t)=>e?{...e,current:t}:null),x$=At([ev],e=>{const t={};return e.forEach(n=>{const{latitude:r,longitude:i}=n;if(!Ia(r)||!Ra(i))return;const s=`${n.location}$_${n.latitude}_${n.longitude}`;t[s]?t[s].events.push(n):t[s]={label:s,events:[n],id:n.id,latitude:n.latitude,longitude:n.longitude}}),Object.values(t)}),mE=At([ev,fr,g$],(e,t,n)=>{if(!t.GRAPH_NONLOCATED)return[e,[]];const r=2*n,i=t.GRAPH_NONLOCATED.projectIdx||0,s=_=>_.filters[i],a={};e=e.reduce((_,c)=>{const f=c.filters.length>=1&&!c.latitude&&!c.longitude?s(c):null;return f!==null&&(a.hasOwnProperty(f)?(a[f].start=pD(a[f].start,c.datetime),a[f].end=mD(a[f].end,c.datetime)):a[f]={start:c.datetime,end:c.datetime,key:f,category:c.category}),_.push({...c,project:f}),_},[]);const l=Object.values(a);l.sort((_,c)=>_.start-c.start);const d=Object.keys(a).map((_,c)=>null),y=l.reduce((_,c,f)=>{d.forEach((v,p)=>{v!==null&&a[v].end<c.start&&(d[p]=null)});let w=0;for(;d[w];)w++;return d[w]=c.key,c.offset=w*r,_[c.key]=c,_},{});return[e,y]}),k$=At([mE],e=>e[0]),C$=At([mE,fr],(e,t)=>t.GRAPH_NONLOCATED?e[1]:[]),nv=At([Yg,Kg],(e,t)=>e.length===0?[]:e.map(gg(t))),zp=At([m$],e=>({...e,trackHeight:e.contentHeight-50})),gE=At([uE],e=>e.reduce((t,n)=>(t[ed(n)]=n.id,t),{})),P$=At([p$,gE],(e,t)=>e.map(n=>vE(n,t).join(","))),A$=At([Xg,gE],(e,t)=>vE(e,t));function vE(e,t){return e.reduce((n,r)=>{const i=t[r];return i&&n.push(i),n},[])}const qt={NUMBER:"NUMBER",NUMBER_ARRAY:"NUMBER_ARRAY",STRING:"STRING",STRING_ARRAY:"STRING_ARRAY",DATE:"DATE",DATE_ARRAY:"DATE_ARRAY"};function O0(e){return[qt.DATE_ARRAY,qt.NUMBER_ARRAY,qt.STRING_ARRAY].includes(e.type)}const rv=Object.freeze({id:{key:"id",trigger:td,type:qt.STRING_ARRAY,dehydrate(e){return Yg(e).map(({civId:t})=>t)},rehydrate(e,{id:t}){t!=null&&t.length&&(e.app.selected=t.reduce((n,r)=>{const i=e.domain.events.find(s=>s.civId===r);return i?n.push(i):console.warn(`event ${r} could not be rehydrated. reason: not present.`),n},[]))}},range:{key:"range",trigger:rd,type:qt.DATE_ARRAY,dehydrate(e){return dE(e)},rehydrate(e,{range:t}){if((t==null?void 0:t.length)===2){const n=Array.from(t);n.sort((r,i)=>new Date(r)-new Date(i)),e.app.timeline={...e.app.timeline,range:{...e.app.timeline.range,current:n}}}}},filter:{key:"filter",trigger:nd,type:qt.STRING_ARRAY,dehydrate(e){return A$(e)},rehydrate(e,{filter:t}){if(t!=null&&t.length){const n=e.domain.associations.filter(i=>i.mode===Yn.FILTER),r=M0(n);e.app.associations.filters=t.map(i=>r[i])}}},color:{key:"color",trigger:id,type:qt.STRING_ARRAY,dehydrate(e){return P$(e)},rehydrate(e,{color:t}){if(t!=null&&t.length){const n=e.domain.associations.filter(i=>i.mode===Yn.FILTER),r=M0(n);e.app.associations.coloringSet=t.map(i=>i.split(",").map(s=>r[s]))}}}});function M0(e){return e.reduce((t,n)=>(t[n.id]=ed(n),t),{})}class yE{constructor(){this.url=new URL(window.location),this.schema=rv}delete(t){this.url.searchParams.delete(t)}set(t,n){const r=this.schema[t];if(r)if(this.delete(t),r.type===qt.DATE_ARRAY)n.current.forEach(i=>{const s=this._encode(r,i);s&&this.url.searchParams.append(t,s)});else if(O0(r))n.forEach(i=>{const s=this._encode(r,i);s&&this.url.searchParams.append(t,s)});else{const i=this._encode(r,n);i&&this.url.searchParams.set(t,i)}}serialize(){window.history.replaceState(null,"",this.url)}deserialize(){const t={};return this.url.searchParams.forEach((n,r)=>{if(t[r]!=null)return;const i=this.schema[r];i&&(t[r]=O0(i)?this.url.searchParams.getAll(r).map(s=>this._decode(i,s)):this._decode(i,this.url.searchParams.get(r)))}),t}_decode(t,n){switch(t.type){case qt.NUMBER_ARRAY:case qt.NUMBER:return+n;case qt.DATE:case qt.DATE_ARRAY:return new Date(n);default:return n==="null"||n==="undefined"?void 0:n}}_encode(t,n){switch(t.type){case qt.NUMBER_ARRAY:case qt.NUMBER:return n.toString();case qt.DATE:case qt.DATE_ARRAY:return qo(n).format("YYYY-MM-DD");default:return n}}}function L$(e){const t=new yE().deserialize();if(TD(t))return e;const n={...e};return Object.values(rv).forEach(r=>{try{r.rehydrate(n,t)}catch(i){console.error(i)}}),n}function I$(e){return t=>n=>{const r=t(n);try{const i=Object.values(rv).filter(s=>s.trigger===n.type);if(i.length){const s=new yE,a=e.getState();i.forEach(l=>{s.set(l.key,l.dehydrate(a))}),s.serialize()}}catch(i){console.error("error serializing url state",i)}return r}}function R$(e={},t){switch(t.type){case Vg:return L$(e);default:return e}}function ut(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function Mi(e){return function t(n){return arguments.length===0||ut(n)?t:e.apply(this,arguments)}}function Li(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return ut(n)?t:Mi(function(i){return e(n,i)});default:return ut(n)&&ut(r)?t:ut(n)?Mi(function(i){return e(i,r)}):ut(r)?Mi(function(i){return e(n,i)}):e(n,r)}}}function _E(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return ut(n)?t:Li(function(s,a){return e(n,s,a)});case 2:return ut(n)&&ut(r)?t:ut(n)?Li(function(s,a){return e(s,r,a)}):ut(r)?Li(function(s,a){return e(n,s,a)}):Mi(function(s){return e(n,r,s)});default:return ut(n)&&ut(r)&&ut(i)?t:ut(n)&&ut(r)?Li(function(s,a){return e(s,a,i)}):ut(n)&&ut(i)?Li(function(s,a){return e(s,r,a)}):ut(r)&&ut(i)?Li(function(s,a){return e(n,s,a)}):ut(n)?Mi(function(s){return e(s,r,i)}):ut(r)?Mi(function(s){return e(n,s,i)}):ut(i)?Mi(function(s){return e(n,r,s)}):e(n,r,i)}}}function xl(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function D0(e){return Object.prototype.toString.call(e)==="[object Object]"}var N$=_E(function(t,n,r){var i={},s;for(s in n)xl(s,n)&&(i[s]=xl(s,r)?t(s,n[s],r[s]):n[s]);for(s in r)xl(s,r)&&!xl(s,i)&&(i[s]=r[s]);return i});const O$=N$;var M$=_E(function e(t,n,r){return O$(function(i,s,a){return D0(s)&&D0(a)?e(t,s,a):t(i,s,a)},n,r)});const D$=M$;var $$=Li(function(t,n){return D$(function(r,i,s){return i},t,n)});const iv=$$,zs={fa_red:"#eb443e",yellow:"#ffd800",black:"#000",white:"#fff"},In={fallbackEventColor:zs.fa_red,darkBackground:zs.black,primaryHighlight:zs.fa_red,secondaryHighlight:zs.white},ze={"es-MX":{tiles:{default:"Mapa",satellite:"Sat"},loading:"Cargando...",legend:{view2d:{paragraphs:["Seleccionando una serie de filtros verá aparecer eventos en el mapa y en la línea del tiempo.","Cada evento estará coloreado según la persona que dio el testimonio del evento."],colors:[{class:"category_group00",label:"Categoría Grupo 00"},{class:"category_group01",label:"Categoría Grupo 01"},{class:"category_group02",label:"Categoría Grupo 02"},{class:"category_group03",label:"Categoría Grupo 03"},{class:"other",label:"Otras categorías"}]},default:{header:"Ayudas para explorar la plataforma",intro:["Cada **punto** representa un **evento en los datos** (o cada incidente). Al hacer clic en cada punto se ven los detalles del evento. Pero si le da clic en un **grupo** de puntos, verá cuantos eventos hay en ese grupo.","Puede acercarse en el mapa *(zoom)* haciendo *scroll* con el ratón o haciendo clic en un grupo de puntos.","Puede usar **filtros** para segmentar los datos. En el mapa sólo vemos los puntos relacionados con cada filtro seleccionado. Cuando no hay filtros seleccionados, vemos todos los puntos de la base de datos en el mapa.","Al seleccionar más de un filtro se introducen diferentes colores para diferenciarlos. Esto permite comparar los tipos de incidentes tanto en el mapa, como en la línea de tiempo. Esto sirve con un máximo de 6 filtros-colores.","Con el teclado puede usar las flechas de la derecha e izquierda para moverse entre eventos. También puede hacer clic y arrastrar la línea de tiempo hacia los lados para modificar el rango de tiempo."],notation:"Cuando un circulo combina colores significa que hay varios eventos en esa misma ubicación.",arrows:"Usar las flechas izquierda/derecha en el teclado para moverse entre eventos cronológicamente."}},toolbar:{title:"Título",filters:"Filtros",explore_by_filter__title:"Explorar por filtros",explore_by_filter__description:"Al seleccionar filtros, puede ver los eventos que tienen esa categoria. Para ver todos los eventos puede quitar todas las selecciones (o seleccionarlos todos).",panels:{mentions:{title:"Personas",overview:"Seleccionar los nombres de personas mostrará eventos en los que esta persona o organización ha sido mencionada, incluyendo el propio testimonio. Entre paréntesis encontrará el número de menciones. Ej. (34)."},categories:{title:"Testimonios",overview:"Seleccionar el nombre de una persona mostrará los eventos descritos por su testimonio. Entre paréntesis encontrará el número de eventos descritos. Ej. (34)."},search:{title:"Directorio de etiquetas",placeholder:"Búsqueda"}}},timeline:{zoomLevels:[{label:"20 años",duration:10512e3},{label:"2 años",duration:1051200},{label:"3 meses",duration:129600},{label:"3 días",duration:4320},{label:"12 horas",duration:720},{label:"1 hora",duration:60}],labels_title:"Testimonios",labels:["Testimonio Grupo 00","Testimonio Grupo 01","Testimonio Grupo 02","Testimonio Grupo 03","Otras categorias"],info:"%n eventos ocurridos entre",default_categories_label:"Eventos"},cardstack:{date_title:"Fecha incidente",location_title:"Ubicación",summary_title:"Resumen",header:"eventos seleccionados",unknown_location:"Ubicación desconocida",unknown_time:"Día y hora desconocida",timestamp:"Día y hora",estimated:"aproximado",location:"Ubicación",incident_type:"Tipo de acción",description:"Hechos",people:"Personas en el evento",sources:"Fuentes",category:"Según el testimonio de",communication:"Comunicación",transmitter:"Transmisor",receiver:"Receptor",warning:"(!) HECHOS CUESTIONADOS"}},"en-US":{tiles:{default:"Map",satellite:"Sat"},loading:"Loading...",legend:{view2d:{paragraphs:["Selecting a series of filters, you will be able to explore events on the map of Iguala and on the timeline.","Each event is colored according the person that gave category of the event."],colors:[{class:"category_group00",label:"Category Group 00"},{class:"category_group01",label:"Category Group 01"},{class:"category_group02",label:"Category Group 02"},{class:"category_group03",label:"Category Group 03"},{class:"other",label:"Other categories"}]},default:{header:"Navigating the Platform",intro:["Each small **dot** represents a **datapoint**, or incident. Click on a dot to see details. Hover over a larger ‘**cluster**’ dot to see how many events it represents.","Zoom in either with a mouse-scroll or by clicking a ‘cluster’ dot.","Use **filters** and **categories** to segment the data. Selecting certain filters and categories will show only the datapoints that relate to them. If no filters or categories are selected, all the datapoints are displayed.","Selecting more than one filter will introduce colour-coded datapoints, which allow you to compare types of incident across time and space. This feature works up to a maximum of six filters.","Once you have clicked on an event, use the left and right arrows to move back and forward day by day. You can also click and drag anywhere on the timeline. Use the handles on the right to select a date range."],notation:"Combinations of colours within a circle indicate multiple events in a single location.",arrows:"Use the left/right arrows on the keboard to move back and forth between events in time."}},toolbar:{title:"TITLE",panels:{mentions:{title:"Mentions",overview:"Selecting the names of people/organisation will show events in which these have been mentioned in their own testimony and by others. The number in the parentheses shows how many events contain a mention of a person or organisation, e.g. (34)"},categories:{title:"Testimonies",overview:"Selecting the name of a person will show the events only according to a person’s category or category. The number in the parentheses show how many events are contained in each category, e.g. (34)."},search:{title:"Directory of filters",placeholder:"Search"}},narratives:"Narratives",narratives_label:"Narratives",explore_by_narrative__title:"Explore events by narrative",explore_by_narrative__description:"Follow a path through the data, from one key event to the next.",filters:"Filters",filters_label:"Filters",explore_by_filter__title:"Explore by filter",explore_by_filter__description:"'Filters' refer to the types of incident. Select multiple filters to introduce colour-coding, up to a maximum of four filters.<br><br><span class='hint'>If no filters are selected, all datapoints are displayed.</span>",categories:"Categories",categories_label:"Categories",explore_by_category__title:"Explore events by category",explore_by_category__description:"",shapes:"Shapes",shapes_label:"Shapes",explore_by_shapes__title:"Explore events by shape breakdown",explore_by_shape__description:"Shapes map to a given type of event that appears on the timeline.<br><br>Select the shape marker to toggle this type of event on / off",fullscreen_enter:"Fullscreen",fullscreen_exit:"Exit Fullscreen",download:{button:"Download",panel:{title:"Download events",description:"Export the most recent available events in different formats.",formats:{api:{label:"API",description:"An API endpoint where you can always fetch the entire dataset in JSON format with tools like curl. Useful for integrating the data in other services and visualizaitons."},csv:{label:"CSV",description:"CSV file where sources and filters are concatenated into a single column each due to data structure limitations."},json:{label:"JSON",description:"JSON file where each event is a structured object containing nested arrays of sources and filters."}}}},artillery:{button:"Artillery",title:"Artillery range",description:"Select an item from the list and click on the map to see the range."}},timeline:{labels_title:"Testimonies",labels:["Testimony Group 00","Testimony Group 01","Testimony Group 02","Testimony Group 03","Other"],info:"Showing <span>%n events</span> that occurred between",default_categories_label:""},cardstack:{header:"selected events",timestamp:"Day and time",unknown_location:"Unknown location",estimated:"estimated",unknown_time:"Unknown time",location:"Localization",incident_type:"Type of action",description:"Summary",filters:"Filters",nofilters:"No known filters for this event.",sources:"Sources",unknown_source:"The information for this source could not be retrieved.",category:"Category",communication:"Communication",transmitter:"Transmitter",receiver:"Receiver",warning:"(!) Highly questioned"}}},If=window.innerHeight<800,F$={anchor:[31.356397,34.784818],startZoom:11,minZoom:2,maxZoom:16,bounds:null,maxBounds:[[180,-180],[-180,180]]},z$={},$0={domain:{events:[],categories:[],associations:[],sources:{},sites:[],shapes:[],regions:[],notifications:[],artilleries:[{id:1,title:"C-300",range:2e5},{id:2,title:"Patriot",range:2e4}]},app:{debug:!0,errors:{source:!1},highlighted:null,selected:[],source:null,associations:{coloringSet:[],filters:[],narrative:null,categories:[],views:{events:!0,routes:!1,sites:!0}},shapes:[],language:"en-US",cluster:{radius:30,minZoom:2,maxZoom:16},timeline:{dimensions:{ticks:15,height:If?170:250,width:0,marginLeft:20,marginTop:If?5:10,marginBottom:60,contentHeight:If?160:200,width_controls:100},range:{current:null},zoomLevels:ze[tt].timeline.zoomLevels||[{label:"20 years",duration:10512e3},{label:"2 years",duration:1051200},{label:"3 months",duration:129600},{label:"3 days",duration:4320},{label:"12 hours",duration:720},{label:"1 hour",duration:60}]},flags:{isFetchingDomain:!1,isFetchingSources:!1,isCover:!0,isCardstack:!0,isInfopopup:!1,isIntropopup:!1,isShowingSites:!0},cover:{title:"project title",description:`A description of the project goes here.

This description may contain markdown.

# This is a large title, for example.

## Whereas this is a slightly smaller title.

Check out docs/custom-covers.md in the [Timemap GitHub repo](https://github.com/forensic-architecture/timemap) for more information around how to specify custom covers.`,exploreButton:"EXPLORE"},toolbar:{panels:{categories:{default:{icon:co.CATEGORY,label:ze[tt].toolbar.categories_label,title:ze[tt].toolbar.explore_by_category__title,description:ze[tt].toolbar.explore_by_category__description}},filters:{icon:co.FILTER,label:ze[tt].toolbar.filters_label,title:ze[tt].toolbar.explore_by_filter__title,description:ze[tt].toolbar.explore_by_filter__description},narratives:{icon:co.NARRATIVE,label:ze[tt].toolbar.narratives_label,title:ze[tt].toolbar.explore_by_narrative__title,description:ze[tt].toolbar.explore_by_narrative__description},shapes:{icon:co.SHAPE,label:ze[tt].toolbar.shapes_label,title:ze[tt].toolbar.explore_by_shape__title,description:ze[tt].toolbar.explore_by_shape__description},download:{icon:co.DOWNLOAD,label:ze[tt].toolbar.download.button,title:ze[tt].toolbar.download.panel.title,description:ze[tt].toolbar.download.panel.description},artillery:{icon:co.ARTILLERY,label:ze[tt].toolbar.artillery.button,title:ze[tt].toolbar.artillery.title,description:ze[tt].toolbar.artillery.description}}},currentArtillery:null,currentMilitaryPositions:null,loading:!1},ui:{tiles:{current:"openstreetmap",default:"openstreetmap",satellite:"satellite"},style:{categories:{default:In.fallbackEventColor},narratives:{default:{opacity:.9,stroke:In.fallbackEventColor,strokeWidth:3}},regions:{default:{stroke:"blue",strokeWidth:3,opacity:.9}},clusters:{radial:!1}},card:{layout:{template:"basic"}},coloring:{maxNumOfColors:4,colors:Object.values(zs)},dom:{timeline:"timeline",timeslider:"timeslider",map:"map"},eventRadius:8},features:{USE_COVER:!1,USE_ASSOCIATIONS:!1,USE_SITES:!1,USE_SOURCES:!1,USE_REGIONS:!1,GRAPH_NONLOCATED:!1,HIGHLIGHT_GROUPS:!1}};let Zn;Gt.store?Zn=iv(Gt.store,$0):Zn=$0;Zn.app.flags.isIntropopup=!!Zn.app.intro;"map"in Zn.app&&(Zn.app.map=iv(Zn.app.map,F$));"space3d"in Zn.app&&(Zn.app.space3d=iv(Zn.app.space3d,z$));const sd=Zn;var jp={},j$={get exports(){return jp},set exports(e){jp=e}};(function(e,t){(function(n,r){e.exports=r()})(self,()=>{return n={7629:(i,s,a)=>{const l=a(375),d=a(8571),y=a(9474),_=a(1687),c=a(8652),f=a(8160),w=a(3292),v=a(6354),p=a(8901),b=a(9708),g=a(6914),m=a(2294),h=a(6133),T=a(1152),x=a(8863),k=a(2036),C={Base:class{constructor(E){this.type=E,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new m.Ids,this._preferences=null,this._refs=new h.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return l(typeof b.describe=="function","Manifest functionality disabled"),b.describe(this)}allow(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];return f.verifyFlat(A,"allow"),this._values(A,"_valids")}alter(E){l(E&&typeof E=="object"&&!Array.isArray(E),"Invalid targets argument"),l(!this._inRuleset(),"Cannot set alterations inside a ruleset");const A=this.clone();A.$_terms.alterations=A.$_terms.alterations||[];for(const P in E){const N=E[P];l(typeof N=="function","Alteration adjuster for",P,"must be a function"),A.$_terms.alterations.push({target:P,adjuster:N})}return A.$_temp.ruleset=!1,A}artifact(E){return l(E!==void 0,"Artifact cannot be undefined"),l(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",E)}cast(E){return l(E===!1||typeof E=="string","Invalid to value"),l(E===!1||this._definition.cast[E],"Type",this.type,"does not support casting to",E),this.$_setFlag("cast",E===!1?void 0:E)}default(E,A){return this._default("default",E,A)}description(E){return l(E&&typeof E=="string","Description must be a non-empty string"),this.$_setFlag("description",E)}empty(E){const A=this.clone();return E!==void 0&&(E=A.$_compile(E,{override:!1})),A.$_setFlag("empty",E,{clone:!1})}error(E){return l(E,"Missing error"),l(E instanceof Error||typeof E=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",E)}example(E){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l(E!==void 0,"Missing example"),f.assertOptions(A,["override"]),this._inner("examples",E,{single:!0,override:A.override})}external(E,A){return typeof E=="object"&&(l(!A,"Cannot combine options with description"),A=E.description,E=E.method),l(typeof E=="function","Method must be a function"),l(A===void 0||A&&typeof A=="string","Description must be a non-empty string"),this._inner("externals",{method:E,description:A},{single:!0})}failover(E,A){return this._default("failover",E,A)}forbidden(){return this.presence("forbidden")}id(E){return E?(l(typeof E=="string","id must be a non-empty string"),l(/^[^\.]+$/.test(E),"id cannot contain period character"),this.$_setFlag("id",E)):this.$_setFlag("id",void 0)}invalid(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];return this._values(A,"_invalids")}label(E){return l(E&&typeof E=="string","Label name must be a non-empty string"),this.$_setFlag("label",E)}meta(E){return l(E!==void 0,"Meta cannot be undefined"),this._inner("metas",E,{single:!0})}note(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];l(A.length,"Missing notes");for(const N of A)l(N&&typeof N=="string","Notes must be non-empty strings");return this._inner("notes",A)}only(){let E=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return l(typeof E=="boolean","Invalid mode:",E),this.$_setFlag("only",E)}optional(){return this.presence("optional")}prefs(E){l(E,"Missing preferences"),l(E.context===void 0,"Cannot override context"),l(E.externals===void 0,"Cannot override externals"),l(E.warnings===void 0,"Cannot override warnings"),l(E.debug===void 0,"Cannot override debug"),f.checkPreferences(E);const A=this.clone();return A._preferences=f.preferences(A._preferences,E),A}presence(E){return l(["optional","required","forbidden"].includes(E),"Unknown presence mode",E),this.$_setFlag("presence",E)}raw(){let E=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",E?"raw":void 0)}result(E){return l(["raw","strip"].includes(E),"Unknown result mode",E),this.$_setFlag("result",E)}required(){return this.presence("required")}strict(E){const A=this.clone(),P=E!==void 0&&!E;return A._preferences=f.preferences(A._preferences,{convert:P}),A}strip(){let E=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",E?"strip":void 0)}tag(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];l(A.length,"Missing tags");for(const N of A)l(N&&typeof N=="string","Tags must be non-empty strings");return this._inner("tags",A)}unit(E){return l(E&&typeof E=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",E)}valid(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];f.verifyFlat(A,"valid");const N=this.allow(...A);return N.$_setFlag("only",!!N._valids,{clone:!1}),N}when(E,A){const P=this.clone();P.$_terms.whens||(P.$_terms.whens=[]);const N=w.when(P,E,A);if(!["any","link"].includes(P.type)){const $=N.is?[N]:N.switch;for(const F of $)l(!F.then||F.then.type==="any"||F.then.type===P.type,"Cannot combine",P.type,"with",F.then&&F.then.type),l(!F.otherwise||F.otherwise.type==="any"||F.otherwise.type===P.type,"Cannot combine",P.type,"with",F.otherwise&&F.otherwise.type)}return P.$_terms.whens.push(N),P.$_mutateRebuild()}cache(E){l(!this._inRuleset(),"Cannot set caching inside a ruleset"),l(!this._cache,"Cannot override schema cache"),l(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const A=this.clone();return A._cache=E||c.provider.provision(),A.$_temp.ruleset=!1,A}clone(){const E=Object.create(Object.getPrototypeOf(this));return this._assign(E)}concat(E){l(f.isSchema(E),"Invalid schema object"),l(this.type==="any"||E.type==="any"||E.type===this.type,"Cannot merge type",this.type,"with another type:",E.type),l(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),l(!E._inRuleset(),"Cannot concatenate a schema with open ruleset");let A=this.clone();if(this.type==="any"&&E.type!=="any"){const P=E.clone();for(const N of Object.keys(A))N!=="type"&&(P[N]=A[N]);A=P}A._ids.concat(E._ids),A._refs.register(E,h.toSibling),A._preferences=A._preferences?f.preferences(A._preferences,E._preferences):E._preferences,A._valids=k.merge(A._valids,E._valids,E._invalids),A._invalids=k.merge(A._invalids,E._invalids,E._valids);for(const P of E._singleRules.keys())A._singleRules.has(P)&&(A._rules=A._rules.filter(N=>N.keep||N.name!==P),A._singleRules.delete(P));for(const P of E._rules)E._definition.rules[P.method].multi||A._singleRules.set(P.name,P),A._rules.push(P);if(A._flags.empty&&E._flags.empty){A._flags.empty=A._flags.empty.concat(E._flags.empty);const P=Object.assign({},E._flags);delete P.empty,_(A._flags,P)}else if(E._flags.empty){A._flags.empty=E._flags.empty;const P=Object.assign({},E._flags);delete P.empty,_(A._flags,P)}else _(A._flags,E._flags);for(const P in E.$_terms){const N=E.$_terms[P];N?A.$_terms[P]?A.$_terms[P]=A.$_terms[P].concat(N):A.$_terms[P]=N.slice():A.$_terms[P]||(A.$_terms[P]=N)}return this.$_root._tracer&&this.$_root._tracer._combine(A,[this,E]),A.$_mutateRebuild()}extend(E){return l(!E.base,"Cannot extend type with another base"),p.type(this,E)}extract(E){return E=Array.isArray(E)?E:E.split("."),this._ids.reach(E)}fork(E,A){l(!this._inRuleset(),"Cannot fork inside a ruleset");let P=this;for(let N of[].concat(E))N=Array.isArray(N)?N:N.split("."),P=P._ids.fork(N,A,P);return P.$_temp.ruleset=!1,P}rule(E){const A=this._definition;f.assertOptions(E,Object.keys(A.modifiers)),l(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const P=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;l(P>=0&&P<this._rules.length,"Cannot apply rules to empty ruleset");const N=this.clone();for(let $=P;$<N._rules.length;++$){const F=N._rules[$],j=d(F);for(const B in E)A.modifiers[B](j,E[B]),l(j.name===F.name,"Cannot change rule name");N._rules[$]=j,N._singleRules.get(j.name)===F&&N._singleRules.set(j.name,j)}return N.$_temp.ruleset=!1,N.$_mutateRebuild()}get ruleset(){l(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const E=this.clone();return E.$_temp.ruleset=E._rules.length,E}get $(){return this.ruleset}tailor(E){E=[].concat(E),l(!this._inRuleset(),"Cannot tailor inside a ruleset");let A=this;if(this.$_terms.alterations)for(const{target:P,adjuster:N}of this.$_terms.alterations)E.includes(P)&&(A=N(A),l(f.isSchema(A),"Alteration adjuster for",P,"failed to return a schema object"));return A=A.$_modify({each:P=>P.tailor(E),ref:!1}),A.$_temp.ruleset=!1,A.$_mutateRebuild()}tracer(){return T.location?T.location(this):this}validate(E,A){return x.entry(E,this,A)}validateAsync(E,A){return x.entryAsync(E,this,A)}$_addRule(E){typeof E=="string"&&(E={name:E}),l(E&&typeof E=="object","Invalid options"),l(E.name&&typeof E.name=="string","Invalid rule name");for(const F in E)l(F[0]!=="_","Cannot set private rule properties");const A=Object.assign({},E);A._resolve=[],A.method=A.method||A.name;const P=this._definition.rules[A.method],N=A.args;l(P,"Unknown rule",A.method);const $=this.clone();if(N){l(Object.keys(N).length===1||Object.keys(N).length===this._definition.rules[A.name].args.length,"Invalid rule definition for",this.type,A.name);for(const F in N){let j=N[F];if(P.argsByName){const B=P.argsByName.get(F);if(B.ref&&f.isResolvable(j))A._resolve.push(F),$.$_mutateRegister(j);else if(B.normalize&&(j=B.normalize(j),N[F]=j),B.assert){const H=f.validateArg(j,F,B);l(!H,H,"or reference")}}j!==void 0?N[F]=j:delete N[F]}}return P.multi||($._ruleRemove(A.name,{clone:!1}),$._singleRules.set(A.name,A)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),P.priority?$._rules.unshift(A):$._rules.push(A),$}$_compile(E,A){return w.schema(this.$_root,E,A)}$_createError(E,A,P,N,$){let F=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const j=F.flags!==!1?this._flags:{},B=F.messages?g.merge(this._definition.messages,F.messages):this._definition.messages;return new v.Report(E,A,P,j,B,N,$)}$_getFlag(E){return this._flags[E]}$_getRule(E){return this._singleRules.get(E)}$_mapLabels(E){return E=Array.isArray(E)?E:E.split("."),this._ids.labels(E)}$_match(E,A,P,N){(P=Object.assign({},P)).abortEarly=!0,P._externals=!1,A.snapshot();const $=!x.validate(E,this,A,P,N).errors;return A.restore(),$}$_modify(E){return f.assertOptions(E,["each","once","ref","schema"]),m.schema(this,E)||this}$_mutateRebuild(){return l(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(E,A)=>{let{source:P,name:N,path:$,key:F}=A;const j=this._definition[P][N]&&this._definition[P][N].register;j!==!1&&this.$_mutateRegister(E,{family:j,key:F})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(E){let{family:A,key:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._refs.register(E,A),this._ids.register(E,{key:P})}$_property(E){return this._definition.properties[E]}$_reach(E){return this._ids.reach(E)}$_rootReferences(){return this._refs.roots()}$_setFlag(E,A){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l(E[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const N=this._definition.flags[E]||{};if(y(A,N.default)&&(A=void 0),y(A,this._flags[E]))return this;const $=P.clone!==!1?this.clone():this;return A!==void 0?($._flags[E]=A,$.$_mutateRegister(A)):delete $._flags[E],E[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(E){for(var A=arguments.length,P=new Array(A>1?A-1:0),N=1;N<A;N++)P[N-1]=arguments[N];return this[E][f.symbols.parent].call(this,...P)}$_validate(E,A,P){return x.validate(E,this,A,P)}_assign(E){E.type=this.type,E.$_root=this.$_root,E.$_temp=Object.assign({},this.$_temp),E.$_temp.whens={},E._ids=this._ids.clone(),E._preferences=this._preferences,E._valids=this._valids&&this._valids.clone(),E._invalids=this._invalids&&this._invalids.clone(),E._rules=this._rules.slice(),E._singleRules=d(this._singleRules,{shallow:!0}),E._refs=this._refs.clone(),E._flags=Object.assign({},this._flags),E._cache=null,E.$_terms={};for(const A in this.$_terms)E.$_terms[A]=this.$_terms[A]?this.$_terms[A].slice():null;E.$_super={};for(const A in this.$_super)E.$_super[A]=this._super[A].bind(E);return E}_bare(){const E=this.clone();E._reset();const A=E._definition.terms;for(const P in A){const N=A[P];E.$_terms[P]=N.init}return E.$_mutateRebuild()}_default(E,A){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return f.assertOptions(P,"literal"),l(A!==void 0,"Missing",E,"value"),l(typeof A=="function"||!P.literal,"Only function value supports literal option"),typeof A=="function"&&P.literal&&(A={[f.symbols.literal]:!0,literal:A}),this.$_setFlag(E,A)}_generate(E,A,P){if(!this.$_terms.whens)return{schema:this};const N=[],$=[];for(let B=0;B<this.$_terms.whens.length;++B){const H=this.$_terms.whens[B];if(H.concat){N.push(H.concat),$.push(`${B}.concat`);continue}const U=H.ref?H.ref.resolve(E,A,P):E,W=H.is?[H]:H.switch,Y=$.length;for(let G=0;G<W.length;++G){const{is:J,then:oe,otherwise:ce}=W[G],fe=`${B}${H.switch?"."+G:""}`;if(J.$_match(U,A.nest(J,`${fe}.is`),P)){if(oe){const de=A.localize([...A.path,`${fe}.then`],A.ancestors,A.schemas),{schema:ue,id:be}=oe._generate(E,de,P);N.push(ue),$.push(`${fe}.then${be?`(${be})`:""}`);break}}else if(ce){const de=A.localize([...A.path,`${fe}.otherwise`],A.ancestors,A.schemas),{schema:ue,id:be}=ce._generate(E,de,P);N.push(ue),$.push(`${fe}.otherwise${be?`(${be})`:""}`);break}}if(H.break&&$.length>Y)break}const F=$.join(", ");if(A.mainstay.tracer.debug(A,"rule","when",F),!F)return{schema:this};if(!A.mainstay.tracer.active&&this.$_temp.whens[F])return{schema:this.$_temp.whens[F],id:F};let j=this;this._definition.generate&&(j=this._definition.generate(this,E,A,P));for(const B of N)j=j.concat(B);return this.$_root._tracer&&this.$_root._tracer._combine(j,[this,...N]),this.$_temp.whens[F]=j,{schema:j,id:F}}_inner(E,A){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l(!this._inRuleset(),`Cannot set ${E} inside a ruleset`);const N=this.clone();return N.$_terms[E]&&!P.override||(N.$_terms[E]=[]),P.single?N.$_terms[E].push(A):N.$_terms[E].push(...A),N.$_temp.ruleset=!1,N}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(E){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._singleRules.has(E))return this;const P=A.clone!==!1?this.clone():this;P._singleRules.delete(E);const N=[];for(let $=0;$<P._rules.length;++$){const F=P._rules[$];F.name!==E||F.keep?N.push(F):P._inRuleset()&&$<P.$_temp.ruleset&&--P.$_temp.ruleset}return P._rules=N,P}_values(E,A){f.verifyFlat(E,A.slice(1,-1));const P=this.clone(),N=E[0]===f.symbols.override;if(N&&(E=E.slice(1)),!P[A]&&E.length?P[A]=new k:N&&(P[A]=E.length?new k:null,P.$_mutateRebuild()),!P[A])return P;N&&P[A].override();for(const $ of E){l($!==void 0,"Cannot call allow/valid/invalid with undefined"),l($!==f.symbols.override,"Override must be the first value");const F=A==="_invalids"?"_valids":"_invalids";P[F]&&(P[F].remove($),P[F].length||(l(A==="_valids"||!P._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),P[F]=null)),P[A].add($,P._refs)}return P}}};C.Base.prototype[f.symbols.any]={version:f.version,compile:w.compile,root:"$_root"},C.Base.prototype.isImmutable=!0,C.Base.prototype.deny=C.Base.prototype.invalid,C.Base.prototype.disallow=C.Base.prototype.invalid,C.Base.prototype.equal=C.Base.prototype.valid,C.Base.prototype.exist=C.Base.prototype.required,C.Base.prototype.not=C.Base.prototype.invalid,C.Base.prototype.options=C.Base.prototype.prefs,C.Base.prototype.preferences=C.Base.prototype.prefs,i.exports=new C.Base},8652:(i,s,a)=>{const l=a(375),d=a(8571),y=a(8160),_={max:1e3,supported:new Set(["undefined","boolean","number","string"])};s.provider={provision:c=>new _.Cache(c)},_.Cache=class{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y.assertOptions(c,["max"]),l(c.max===void 0||c.max&&c.max>0&&isFinite(c.max),"Invalid max cache size"),this._max=c.max||_.max,this._map=new Map,this._list=new _.List}get length(){return this._map.size}set(c,f){if(c!==null&&!_.supported.has(typeof c))return;let w=this._map.get(c);if(w)return w.value=f,void this._list.first(w);w=this._list.unshift({key:c,value:f}),this._map.set(c,w),this._compact()}get(c){const f=this._map.get(c);if(f)return this._list.first(f),d(f.value)}_compact(){if(this._map.size>this._max){const c=this._list.pop();this._map.delete(c.key)}}},_.List=class{constructor(){this.tail=null,this.head=null}unshift(c){return c.next=null,c.prev=this.head,this.head&&(this.head.next=c),this.head=c,this.tail||(this.tail=c),c}first(c){c!==this.head&&(this._remove(c),this.unshift(c))}pop(){return this._remove(this.tail)}_remove(c){const{next:f,prev:w}=c;return f.prev=w,w&&(w.next=f),c===this.tail&&(this.tail=f),c.prev=null,c.next=null,c}}},8160:(i,s,a)=>{const l=a(375),d=a(7916),y=a(5934);let _,c;const f={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};s.version=y.version,s.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},s.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},s.assertOptions=function(w,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Options";l(w&&typeof w=="object"&&!Array.isArray(w),"Options must be of type object");const b=Object.keys(w).filter(g=>!v.includes(g));l(b.length===0,`${p} contain unknown keys: ${b}`)},s.checkPreferences=function(w){c=c||a(3378);const v=c.preferences.validate(w);if(v.error)throw new d([v.error.details[0].message])},s.compare=function(w,v,p){switch(p){case"=":return w===v;case">":return w>v;case"<":return w<v;case">=":return w>=v;case"<=":return w<=v}},s.default=function(w,v){return w===void 0?v:w},s.isIsoDate=function(w){return f.isoDate.test(w)},s.isNumber=function(w){return typeof w=="number"&&!isNaN(w)},s.isResolvable=function(w){return!!w&&(w[s.symbols.ref]||w[s.symbols.template])},s.isSchema=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=w&&w[s.symbols.any];return!!p&&(l(v.legacy||p.version===s.version,"Cannot mix different versions of joi schemas"),!0)},s.isValues=function(w){return w[s.symbols.values]},s.limit=function(w){return Number.isSafeInteger(w)&&w>=0},s.preferences=function(w,v){_=_||a(6914),w=w||{},v=v||{};const p=Object.assign({},w,v);return v.errors&&w.errors&&(p.errors=Object.assign({},w.errors,v.errors),p.errors.wrap=Object.assign({},w.errors.wrap,v.errors.wrap)),v.messages&&(p.messages=_.compile(v.messages,w.messages)),delete p[s.symbols.prefs],p},s.tryWithPath=function(w,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return w()}catch(b){throw b.path!==void 0?b.path=v+"."+b.path:b.path=v,p.append&&(b.message=`${b.message} (${b.path})`),b}},s.validateArg=function(w,v,p){let{assert:b,message:g}=p;if(s.isSchema(b)){const m=b.validate(w);return m.error?m.error.message:void 0}if(!b(w))return v?`${v} ${g}`:g},s.verifyFlat=function(w,v){for(const p of w)l(!Array.isArray(p),"Method no longer accepts array arguments:",v)}},3292:(i,s,a)=>{const l=a(375),d=a(8160),y=a(6133),_={};s.schema=function(c,f){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d.assertOptions(w,["appendPath","override"]);try{return _.schema(c,f,w)}catch(v){throw w.appendPath&&v.path!==void 0&&(v.message=`${v.message} (${v.path})`),v}},_.schema=function(c,f,w){l(f!==void 0,"Invalid undefined schema"),Array.isArray(f)&&(l(f.length,"Invalid empty array schema"),f.length===1&&(f=f[0]));const v=function(p){for(var b=arguments.length,g=new Array(b>1?b-1:0),m=1;m<b;m++)g[m-1]=arguments[m];return w.override!==!1?p.valid(c.override,...g):p.valid(...g)};if(_.simple(f))return v(c,f);if(typeof f=="function")return c.custom(f);if(l(typeof f=="object","Invalid schema content:",typeof f),d.isResolvable(f))return v(c,f);if(d.isSchema(f))return f;if(Array.isArray(f)){for(const p of f)if(!_.simple(p))return c.alternatives().try(...f);return v(c,...f)}return f instanceof RegExp?c.string().regex(f):f instanceof Date?v(c.date(),f):(l(Object.getPrototypeOf(f)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),c.object().keys(f))},s.ref=function(c,f){return y.isRef(c)?c:y.create(c,f)},s.compile=function(c,f){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d.assertOptions(w,["legacy"]);const v=f&&f[d.symbols.any];if(v)return l(w.legacy||v.version===d.version,"Cannot mix different versions of joi schemas:",v.version,d.version),f;if(typeof f!="object"||!w.legacy)return s.schema(c,f,{appendPath:!0});const p=_.walk(f);return p?p.compile(p.root,f):s.schema(c,f,{appendPath:!0})},_.walk=function(c){if(typeof c!="object")return null;if(Array.isArray(c)){for(const w of c){const v=_.walk(w);if(v)return v}return null}const f=c[d.symbols.any];if(f)return{root:c[f.root],compile:f.compile};l(Object.getPrototypeOf(c)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const w in c){const v=_.walk(c[w]);if(v)return v}return null},_.simple=function(c){return c===null||["boolean","string","number"].includes(typeof c)},s.when=function(c,f,w){if(w===void 0&&(l(f&&typeof f=="object","Missing options"),w=f,f=y.create(".")),Array.isArray(w)&&(w={switch:w}),d.assertOptions(w,["is","not","then","otherwise","switch","break"]),d.isSchema(f))return l(w.is===void 0,'"is" can not be used with a schema condition'),l(w.not===void 0,'"not" can not be used with a schema condition'),l(w.switch===void 0,'"switch" can not be used with a schema condition'),_.condition(c,{is:f,then:w.then,otherwise:w.otherwise,break:w.break});if(l(y.isRef(f)||typeof f=="string","Invalid condition:",f),l(w.not===void 0||w.is===void 0,'Cannot combine "is" with "not"'),w.switch===void 0){let p=w;w.not!==void 0&&(p={is:w.not,then:w.otherwise,otherwise:w.then,break:w.break});let b=p.is!==void 0?c.$_compile(p.is):c.$_root.invalid(null,!1,0,"").required();return l(p.then!==void 0||p.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),l(p.break===void 0||p.then===void 0||p.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),w.is===void 0||y.isRef(w.is)||d.isSchema(w.is)||(b=b.required()),_.condition(c,{ref:s.ref(f),is:b,then:p.then,otherwise:p.otherwise,break:p.break})}l(Array.isArray(w.switch),'"switch" must be an array'),l(w.is===void 0,'Cannot combine "switch" with "is"'),l(w.not===void 0,'Cannot combine "switch" with "not"'),l(w.then===void 0,'Cannot combine "switch" with "then"');const v={ref:s.ref(f),switch:[],break:w.break};for(let p=0;p<w.switch.length;++p){const b=w.switch[p],g=p===w.switch.length-1;d.assertOptions(b,g?["is","then","otherwise"]:["is","then"]),l(b.is!==void 0,'Switch statement missing "is"'),l(b.then!==void 0,'Switch statement missing "then"');const m={is:c.$_compile(b.is),then:c.$_compile(b.then)};if(y.isRef(b.is)||d.isSchema(b.is)||(m.is=m.is.required()),g){l(w.otherwise===void 0||b.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const h=w.otherwise!==void 0?w.otherwise:b.otherwise;h!==void 0&&(l(v.break===void 0,"Cannot specify both otherwise and break"),m.otherwise=c.$_compile(h))}v.switch.push(m)}return v},_.condition=function(c,f){for(const w of["then","otherwise"])f[w]===void 0?delete f[w]:f[w]=c.$_compile(f[w]);return f}},6354:(i,s,a)=>{const l=a(5688),d=a(8160),y=a(3328);s.Report=class{constructor(_,c,f,w,v,p,b){if(this.code=_,this.flags=w,this.messages=v,this.path=p.path,this.prefs=b,this.state=p,this.value=c,this.message=null,this.template=null,this.local=f||{},this.local.label=s.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const g=this.path[this.path.length-1];typeof g!="object"&&(this.local.key=g)}}_setTemplate(_){if(this.template=_,!this.flags.label&&this.path.length===0){const c=this._template(this.template,"root");c&&(this.local.label=c)}}toString(){if(this.message)return this.message;const _=this.code;if(!this.prefs.errors.render)return this.code;const c=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return c===void 0?`Error code "${_}" is not defined, your custom type is missing the correct messages definition`:(this.message=c.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(_,c){return s.template(this.value,_,c||this.code,this.state,this.prefs)}},s.path=function(_){let c="";for(const f of _)typeof f!="object"&&(typeof f=="string"?(c&&(c+="."),c+=f):c+=`[${f}]`);return c},s.template=function(_,c,f,w,v){if(!c)return;if(y.isTemplate(c))return f!=="root"?c:null;let p=v.errors.language;if(d.isResolvable(p)&&(p=p.resolve(_,w,v)),p&&c[p]){if(c[p][f]!==void 0)return c[p][f];if(c[p]["*"]!==void 0)return c[p]["*"]}return c[f]?c[f]:c["*"]},s.label=function(_,c,f,w){if(_.label)return _.label;if(!f.errors.label)return"";let v=c.path;return f.errors.label==="key"&&c.path.length>1&&(v=c.path.slice(-1)),s.path(v)||s.template(null,f.messages,"root",c,f)||w&&s.template(null,w,"root",c,f)||"value"},s.process=function(_,c,f){if(!_)return null;const{override:w,message:v,details:p}=s.details(_);if(w)return w;if(f.errors.stack)return new s.ValidationError(v,p,c);const b=Error.stackTraceLimit;Error.stackTraceLimit=0;const g=new s.ValidationError(v,p,c);return Error.stackTraceLimit=b,g},s.details=function(_){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=[];const w=[];for(const v of _){if(v instanceof Error){if(c.override!==!1)return{override:v};const b=v.toString();f.push(b),w.push({message:b,type:"override",context:{error:v}});continue}const p=v.toString();f.push(p),w.push({message:p,path:v.path.filter(b=>typeof b!="object"),type:v.code,context:v.local})}return f.length>1&&(f=[...new Set(f)]),{message:f.join(". "),details:w}},s.ValidationError=class extends Error{constructor(_,c,f){super(_),this._original=f,this.details=c}static isError(_){return _ instanceof s.ValidationError}},s.ValidationError.prototype.isJoi=!0,s.ValidationError.prototype.name="ValidationError",s.ValidationError.prototype.annotate=l.error},8901:(i,s,a)=>{const l=a(375),d=a(8571),y=a(8160),_=a(6914),c={};s.type=function(f,w){const v=Object.getPrototypeOf(f),p=d(v),b=f._assign(Object.create(p)),g=Object.assign({},w);delete g.base,p._definition=g;const m=v._definition||{};g.messages=_.merge(m.messages,g.messages),g.properties=Object.assign({},m.properties,g.properties),b.type=g.type,g.flags=Object.assign({},m.flags,g.flags);const h=Object.assign({},m.terms);if(g.terms)for(const C in g.terms){const E=g.terms[C];l(b.$_terms[C]===void 0,"Invalid term override for",g.type,C),b.$_terms[C]=E.init,h[C]=E}g.terms=h,g.args||(g.args=m.args),g.prepare=c.prepare(g.prepare,m.prepare),g.coerce&&(typeof g.coerce=="function"&&(g.coerce={method:g.coerce}),g.coerce.from&&!Array.isArray(g.coerce.from)&&(g.coerce={method:g.coerce.method,from:[].concat(g.coerce.from)})),g.coerce=c.coerce(g.coerce,m.coerce),g.validate=c.validate(g.validate,m.validate);const T=Object.assign({},m.rules);if(g.rules)for(const C in g.rules){const E=g.rules[C];l(typeof E=="object","Invalid rule definition for",g.type,C);let A=E.method;if(A===void 0&&(A=function(){return this.$_addRule(C)}),A&&(l(!p[C],"Rule conflict in",g.type,C),p[C]=A),l(!T[C],"Rule conflict in",g.type,C),T[C]=E,E.alias){const P=[].concat(E.alias);for(const N of P)p[N]=E.method}E.args&&(E.argsByName=new Map,E.args=E.args.map(P=>(typeof P=="string"&&(P={name:P}),l(!E.argsByName.has(P.name),"Duplicated argument name",P.name),y.isSchema(P.assert)&&(P.assert=P.assert.strict().label(P.name)),E.argsByName.set(P.name,P),P)))}g.rules=T;const x=Object.assign({},m.modifiers);if(g.modifiers)for(const C in g.modifiers){l(!p[C],"Rule conflict in",g.type,C);const E=g.modifiers[C];l(typeof E=="function","Invalid modifier definition for",g.type,C);const A=function(P){return this.rule({[C]:P})};p[C]=A,x[C]=E}if(g.modifiers=x,g.overrides){p._super=v,b.$_super={};for(const C in g.overrides)l(v[C],"Cannot override missing",C),g.overrides[C][y.symbols.parent]=v[C],b.$_super[C]=v[C].bind(b);Object.assign(p,g.overrides)}g.cast=Object.assign({},m.cast,g.cast);const k=Object.assign({},m.manifest,g.manifest);return k.build=c.build(g.manifest&&g.manifest.build,m.manifest&&m.manifest.build),g.manifest=k,g.rebuild=c.rebuild(g.rebuild,m.rebuild),b},c.build=function(f,w){return f&&w?function(v,p){return w(f(v,p),p)}:f||w},c.coerce=function(f,w){return f&&w?{from:f.from&&w.from?[...new Set([...f.from,...w.from])]:null,method(v,p){let b;if((!w.from||w.from.includes(typeof v))&&(b=w.method(v,p),b)){if(b.errors||b.value===void 0)return b;v=b.value}if(!f.from||f.from.includes(typeof v)){const g=f.method(v,p);if(g)return g}return b}}:f||w},c.prepare=function(f,w){return f&&w?function(v,p){const b=f(v,p);if(b){if(b.errors||b.value===void 0)return b;v=b.value}return w(v,p)||b}:f||w},c.rebuild=function(f,w){return f&&w?function(v){w(v),f(v)}:f||w},c.validate=function(f,w){return f&&w?function(v,p){const b=w(v,p);if(b){if(b.errors&&(!Array.isArray(b.errors)||b.errors.length))return b;v=b.value}return f(v,p)||b}:f||w}},5107:(i,s,a)=>{const l=a(375),d=a(8571),y=a(8652),_=a(8160),c=a(3292),f=a(6354),w=a(8901),v=a(9708),p=a(6133),b=a(3328),g=a(1152);let m;const h={types:{alternatives:a(4946),any:a(8068),array:a(546),boolean:a(4937),date:a(7500),function:a(390),link:a(8785),number:a(3832),object:a(8966),string:a(7417),symbol:a(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const T={_types:new Set(Object.keys(h.types))};for(const x of T._types)T[x]=function(){for(var k=arguments.length,C=new Array(k),E=0;E<k;E++)C[E]=arguments[E];return l(!C.length||["alternatives","link","object"].includes(x),"The",x,"type does not allow arguments"),h.generate(this,h.types[x],C)};for(const x of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])T[x]=function(){return this.any()[x](...arguments)};Object.assign(T,h.methods);for(const x in h.aliases){const k=h.aliases[x];T[x]=T[k]}return T.x=T.expression,g.setup&&g.setup(T),T}};h.methods={ValidationError:f.ValidationError,version:_.version,cache:y.provider,assert(T,x){for(var k=arguments.length,C=new Array(k>2?k-2:0),E=2;E<k;E++)C[E-2]=arguments[E];h.assert(T,x,!0,C)},attempt(T,x){for(var k=arguments.length,C=new Array(k>2?k-2:0),E=2;E<k;E++)C[E-2]=arguments[E];return h.assert(T,x,!1,C)},build(T){return l(typeof v.build=="function","Manifest functionality disabled"),v.build(this,T)},checkPreferences(T){_.checkPreferences(T)},compile(T,x){return c.compile(this,T,x)},defaults(T){l(typeof T=="function","modifier must be a function");const x=Object.assign({},this);for(const k of x._types){const C=T(x[k]());l(_.isSchema(C),"modifier must return a valid schema object"),x[k]=function(){for(var E=arguments.length,A=new Array(E),P=0;P<E;P++)A[P]=arguments[P];return h.generate(this,C,A)}}return x},expression(){for(var T=arguments.length,x=new Array(T),k=0;k<T;k++)x[k]=arguments[k];return new b(...x)},extend(){for(var T=arguments.length,x=new Array(T),k=0;k<T;k++)x[k]=arguments[k];_.verifyFlat(x,"extend"),m=m||a(3378),l(x.length,"You need to provide at least one extension"),this.assert(x,m.extensions);const C=Object.assign({},this);C._types=new Set(C._types);for(let E of x){typeof E=="function"&&(E=E(C)),this.assert(E,m.extension);const A=h.expandExtension(E,C);for(const P of A){l(C[P.type]===void 0||C._types.has(P.type),"Cannot override name",P.type);const N=P.base||this.any(),$=w.type(N,P);C._types.add(P.type),C[P.type]=function(){for(var F=arguments.length,j=new Array(F),B=0;B<F;B++)j[B]=arguments[B];return h.generate(this,$,j)}}}return C},isError:f.ValidationError.isError,isExpression:b.isTemplate,isRef:p.isRef,isSchema:_.isSchema,in(){return p.in(...arguments)},override:_.symbols.override,ref(){return p.create(...arguments)},types(){const T={};for(const x of this._types)T[x]=this[x]();for(const x in h.aliases)T[x]=this[x]();return T}},h.assert=function(T,x,k,C){const E=C[0]instanceof Error||typeof C[0]=="string"?C[0]:null,A=E!==null?C[1]:C[0],P=x.validate(T,_.preferences({errors:{stack:!0}},A||{}));let N=P.error;if(!N)return P.value;if(E instanceof Error)throw E;const $=k&&typeof N.annotate=="function"?N.annotate():N.message;throw N instanceof f.ValidationError==0&&(N=d(N)),N.message=E?`${E} ${$}`:$,N},h.generate=function(T,x,k){return l(T,"Must be invoked on a Joi instance."),x.$_root=T,x._definition.args&&k.length?x._definition.args(x,...k):x},h.expandExtension=function(T,x){if(typeof T.type=="string")return[T];const k=[];for(const C of x._types)if(T.type.test(C)){const E=Object.assign({},T);E.type=C,E.base=x[C](),k.push(E)}return k},i.exports=h.root()},6914:(i,s,a)=>{const l=a(375),d=a(8571),y=a(3328);s.compile=function(_,c){if(typeof _=="string")return l(!c,"Cannot set single message string"),new y(_);if(y.isTemplate(_))return l(!c,"Cannot set single message template"),_;l(typeof _=="object"&&!Array.isArray(_),"Invalid message options"),c=c?d(c):{};for(let f in _){const w=_[f];if(f==="root"||y.isTemplate(w)){c[f]=w;continue}if(typeof w=="string"){c[f]=new y(w);continue}l(typeof w=="object"&&!Array.isArray(w),"Invalid message for",f);const v=f;for(f in c[v]=c[v]||{},w){const p=w[f];f==="root"||y.isTemplate(p)?c[v][f]=p:(l(typeof p=="string","Invalid message for",f,"in",v),c[v][f]=new y(p))}}return c},s.decompile=function(_){const c={};for(let f in _){const w=_[f];if(f==="root"){c.root=w;continue}if(y.isTemplate(w)){c[f]=w.describe({compact:!0});continue}const v=f;for(f in c[v]={},w){const p=w[f];f!=="root"?c[v][f]=p.describe({compact:!0}):c[v].root=p}}return c},s.merge=function(_,c){if(!_)return s.compile(c);if(!c)return _;if(typeof c=="string")return new y(c);if(y.isTemplate(c))return c;const f=d(_);for(let w in c){const v=c[w];if(w==="root"||y.isTemplate(v)){f[w]=v;continue}if(typeof v=="string"){f[w]=new y(v);continue}l(typeof v=="object"&&!Array.isArray(v),"Invalid message for",w);const p=w;for(w in f[p]=f[p]||{},v){const b=v[w];w==="root"||y.isTemplate(b)?f[p][w]=b:(l(typeof b=="string","Invalid message for",w,"in",p),f[p][w]=new y(b))}}return f}},2294:(i,s,a)=>{const l=a(375),d=a(8160),y=a(6133),_={};s.Ids=_.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const c=new _.Ids;return c._byId=new Map(this._byId),c._byKey=new Map(this._byKey),c._schemaChain=this._schemaChain,c}concat(c){c._schemaChain&&(this._schemaChain=!0);for(const[f,w]of c._byId.entries())l(!this._byKey.has(f),"Schema id conflicts with existing key:",f),this._byId.set(f,w);for(const[f,w]of c._byKey.entries())l(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,w)}fork(c,f,w){const v=this._collect(c);v.push({schema:w});const p=v.shift();let b={id:p.id,schema:f(p.schema)};l(d.isSchema(b.schema),"adjuster function failed to return a joi schema type");for(const g of v)b={id:g.id,schema:_.fork(g.schema,b.id,b.schema)};return b.schema}labels(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const w=c[0],v=this._get(w);if(!v)return[...f,...c].join(".");const p=c.slice(1);return f=[...f,v.schema._flags.label||w],p.length?v.schema._ids.labels(p,f):f.join(".")}reach(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const w=c[0],v=this._get(w);l(v,"Schema does not contain path",[...f,...c].join("."));const p=c.slice(1);return p.length?v.schema._ids.reach(p,[...f,w]):v.schema}register(c){let{key:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!c||!d.isSchema(c))return;(c.$_property("schemaChain")||c._ids._schemaChain)&&(this._schemaChain=!0);const w=c._flags.id;if(w){const v=this._byId.get(w);l(!v||v.schema===c,"Cannot add different schemas with the same id:",w),l(!this._byKey.has(w),"Schema id conflicts with existing key:",w),this._byId.set(w,{schema:c,id:w})}f&&(l(!this._byKey.has(f),"Schema already contains key:",f),l(!this._byId.has(f),"Schema key conflicts with existing id:",f),this._byKey.set(f,{schema:c,id:f}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const v=c[0],p=this._get(v);l(p,"Schema does not contain path",[...f,...c].join(".")),w=[p,...w];const b=c.slice(1);return b.length?p.schema._ids._collect(b,[...f,v],w):w}_get(c){return this._byId.get(c)||this._byKey.get(c)}},_.fork=function(c,f,w){const v=s.schema(c,{each:(p,b)=>{let{key:g}=b;if(f===(p._flags.id||g))return w},ref:!1});return v?v.$_mutateRebuild():c},s.schema=function(c,f){let w;for(const v in c._flags){if(v[0]==="_")continue;const p=_.scan(c._flags[v],{source:"flags",name:v},f);p!==void 0&&(w=w||c.clone(),w._flags[v]=p)}for(let v=0;v<c._rules.length;++v){const p=c._rules[v],b=_.scan(p.args,{source:"rules",name:p.name},f);if(b!==void 0){w=w||c.clone();const g=Object.assign({},p);g.args=b,w._rules[v]=g,w._singleRules.get(p.name)===p&&w._singleRules.set(p.name,g)}}for(const v in c.$_terms){if(v[0]==="_")continue;const p=_.scan(c.$_terms[v],{source:"terms",name:v},f);p!==void 0&&(w=w||c.clone(),w.$_terms[v]=p)}return w},_.scan=function(c,f,w,v,p){const b=v||[];if(c===null||typeof c!="object")return;let g;if(Array.isArray(c)){for(let m=0;m<c.length;++m){const h=f.source==="terms"&&f.name==="keys"&&c[m].key,T=_.scan(c[m],f,w,[m,...b],h);T!==void 0&&(g=g||c.slice(),g[m]=T)}return g}if(w.schema!==!1&&d.isSchema(c)||w.ref!==!1&&y.isRef(c)){const m=w.each(c,{...f,path:b,key:p});return m===c?void 0:m}for(const m in c){if(m[0]==="_")continue;const h=_.scan(c[m],f,w,[m,...b],p);h!==void 0&&(g=g||Object.assign({},c),g[m]=h)}return g}},6133:(i,s,a)=>{const l=a(375),d=a(8571),y=a(9621),_=a(8160);let c;const f={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};s.create=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(typeof w=="string","Invalid reference key:",w),_.assertOptions(v,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),l(!v.prefix||typeof v.prefix=="object","options.prefix must be of type object");const p=Object.assign({},f.defaults,v);delete p.prefix;const b=p.separator,g=f.context(w,b,v.prefix);if(p.type=g.type,w=g.key,p.type==="value")if(g.root&&(l(!b||w[0]!==b,"Cannot specify relative path with root prefix"),p.ancestor="root",w||(w=null)),b&&b===w)w=null,p.ancestor=0;else if(p.ancestor!==void 0)l(!b||!w||w[0]!==b,"Cannot combine prefix with ancestor option");else{const[m,h]=f.ancestor(w,b);h&&(w=w.slice(h))===""&&(w=null),p.ancestor=m}return p.path=b?w===null?[]:w.split(b):[w],new f.Ref(p)},s.in=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s.create(w,{...v,in:!0})},s.isRef=function(w){return!!w&&!!w[_.symbols.ref]},f.Ref=class{constructor(w){l(typeof w=="object","Invalid reference construction"),_.assertOptions(w,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),l([!1,void 0].includes(w.separator)||typeof w.separator=="string"&&w.separator.length===1,"Invalid separator"),l(!w.adjust||typeof w.adjust=="function","options.adjust must be a function"),l(!w.map||Array.isArray(w.map),"options.map must be an array"),l(!w.map||!w.adjust,"Cannot set both map and adjust options"),Object.assign(this,f.defaults,w),l(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(w,v,p,b){let g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return l(!this.in||g.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(p.context,v,g):this.type==="local"?this._resolve(b,v,g):this.ancestor?this.ancestor==="root"?this._resolve(v.ancestors[v.ancestors.length-1],v,g):(l(this.ancestor<=v.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(v.ancestors[this.ancestor-1],v,g)):this._resolve(w,v,g)}_resolve(w,v,p){let b;if(this.type==="value"&&v.mainstay.shadow&&p.shadow!==!1&&(b=v.mainstay.shadow.get(this.absolute(v))),b===void 0&&(b=y(w,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(b=this.adjust(b)),this.map){const g=this.map.get(b);g!==void 0&&(b=g)}return v.mainstay&&v.mainstay.tracer.resolve(v,this,b),b}toString(){return this.display}absolute(w){return[...w.path.slice(0,-this.ancestor),...this.path]}clone(){return new f.Ref(this)}describe(){const w={path:this.path};this.type!=="value"&&(w.type=this.type),this.separator!=="."&&(w.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(w.ancestor=this.ancestor),this.map&&(w.map=[...this.map]);for(const v of["adjust","iterables","render"])this[v]!==null&&this[v]!==void 0&&(w[v]=this[v]);return this.in!==!1&&(w.in=!0),{ref:w}}updateDisplay(){const w=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${w}`);if(!this.separator)return void(this.display=`ref:${w}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${w}`);if(this.ancestor==="root")return void(this.display=`ref:root:${w}`);if(this.ancestor===1)return void(this.display=`ref:${w||".."}`);const v=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${v}${w||""}`}},f.Ref.prototype[_.symbols.ref]=!0,s.build=function(w){return(w=Object.assign({},f.defaults,w)).type==="value"&&w.ancestor===void 0&&(w.ancestor=1),new f.Ref(w)},f.context=function(w,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(w=w.trim(),p){const b=p.global===void 0?"$":p.global;if(b!==v&&w.startsWith(b))return{key:w.slice(b.length),type:"global"};const g=p.local===void 0?"#":p.local;if(g!==v&&w.startsWith(g))return{key:w.slice(g.length),type:"local"};const m=p.root===void 0?"/":p.root;if(m!==v&&w.startsWith(m))return{key:w.slice(m.length),type:"value",root:!0}}return{key:w,type:"value"}},f.ancestor=function(w,v){if(!v)return[1,0];if(w[0]!==v)return[1,0];if(w[1]!==v)return[0,1];let p=2;for(;w[p]===v;)++p;return[p-1,p]},s.toSibling=0,s.toParent=1,s.Manager=class{constructor(){this.refs=[]}register(w,v){if(w)if(v=v===void 0?s.toParent:v,Array.isArray(w))for(const p of w)this.register(p,v);else if(_.isSchema(w))for(const p of w._refs.refs)p.ancestor-v>=0&&this.refs.push({ancestor:p.ancestor-v,root:p.root});else s.isRef(w)&&w.type==="value"&&w.ancestor-v>=0&&this.refs.push({ancestor:w.ancestor-v,root:w.root}),c=c||a(3328),c.isTemplate(w)&&this.register(w.refs(),v)}get length(){return this.refs.length}clone(){const w=new s.Manager;return w.refs=d(this.refs),w}reset(){this.refs=[]}roots(){return this.refs.filter(w=>!w.ancestor).map(w=>w.root)}}},3378:(i,s,a)=>{const l=a(5107),d={};d.wrap=l.string().min(1).max(2).allow(!1),s.preferences=l.object({allowUnknown:l.boolean(),abortEarly:l.boolean(),artifacts:l.boolean(),cache:l.boolean(),context:l.object(),convert:l.boolean(),dateFormat:l.valid("date","iso","string","time","utc"),debug:l.boolean(),errors:{escapeHtml:l.boolean(),label:l.valid("path","key",!1),language:[l.string(),l.object().ref()],render:l.boolean(),stack:l.boolean(),wrap:{label:d.wrap,array:d.wrap,string:d.wrap}},externals:l.boolean(),messages:l.object(),noDefaults:l.boolean(),nonEnumerables:l.boolean(),presence:l.valid("required","optional","forbidden"),skipFunctions:l.boolean(),stripUnknown:l.object({arrays:l.boolean(),objects:l.boolean()}).or("arrays","objects").allow(!0,!1),warnings:l.boolean()}).strict(),d.nameRx=/^[a-zA-Z0-9]\w*$/,d.rule=l.object({alias:l.array().items(l.string().pattern(d.nameRx)).single(),args:l.array().items(l.string(),l.object({name:l.string().pattern(d.nameRx).required(),ref:l.boolean(),assert:l.alternatives([l.function(),l.object().schema()]).conditional("ref",{is:!0,then:l.required()}),normalize:l.function(),message:l.string().when("assert",{is:l.function(),then:l.required()})})),convert:l.boolean(),manifest:l.boolean(),method:l.function().allow(!1),multi:l.boolean(),validate:l.function()}),s.extension=l.object({type:l.alternatives([l.string(),l.object().regex()]).required(),args:l.function(),cast:l.object().pattern(d.nameRx,l.object({from:l.function().maxArity(1).required(),to:l.function().minArity(1).maxArity(2).required()})),base:l.object().schema().when("type",{is:l.object().regex(),then:l.forbidden()}),coerce:[l.function().maxArity(3),l.object({method:l.function().maxArity(3).required(),from:l.array().items(l.string()).single()})],flags:l.object().pattern(d.nameRx,l.object({setter:l.string(),default:l.any()})),manifest:{build:l.function().arity(2)},messages:[l.object(),l.string()],modifiers:l.object().pattern(d.nameRx,l.function().minArity(1).maxArity(2)),overrides:l.object().pattern(d.nameRx,l.function()),prepare:l.function().maxArity(3),rebuild:l.function().arity(1),rules:l.object().pattern(d.nameRx,d.rule),terms:l.object().pattern(d.nameRx,l.object({init:l.array().allow(null).required(),manifest:l.object().pattern(/.+/,[l.valid("schema","single"),l.object({mapped:l.object({from:l.string().required(),to:l.string().required()}).required()})])})),validate:l.function().maxArity(3)}).strict(),s.extensions=l.array().items(l.object(),l.function().arity(1)).strict(),d.desc={buffer:l.object({buffer:l.string()}),func:l.object({function:l.function().required(),options:{literal:!0}}),override:l.object({override:!0}),ref:l.object({ref:l.object({type:l.valid("value","global","local"),path:l.array().required(),separator:l.string().length(1).allow(!1),ancestor:l.number().min(0).integer().allow("root"),map:l.array().items(l.array().length(2)).min(1),adjust:l.function(),iterables:l.boolean(),in:l.boolean(),render:l.boolean()}).required()}),regex:l.object({regex:l.string().min(3)}),special:l.object({special:l.valid("deep").required()}),template:l.object({template:l.string().required(),options:l.object()}),value:l.object({value:l.alternatives([l.object(),l.array()]).required()})},d.desc.entity=l.alternatives([l.array().items(l.link("...")),l.boolean(),l.function(),l.number(),l.string(),d.desc.buffer,d.desc.func,d.desc.ref,d.desc.regex,d.desc.special,d.desc.template,d.desc.value,l.link("/")]),d.desc.values=l.array().items(null,l.boolean(),l.function(),l.number().allow(1/0,-1/0),l.string().allow(""),l.symbol(),d.desc.buffer,d.desc.func,d.desc.override,d.desc.ref,d.desc.regex,d.desc.template,d.desc.value),d.desc.messages=l.object().pattern(/.+/,[l.string(),d.desc.template,l.object().pattern(/.+/,[l.string(),d.desc.template])]),s.description=l.object({type:l.string().required(),flags:l.object({cast:l.string(),default:l.any(),description:l.string(),empty:l.link("/"),failover:d.desc.entity,id:l.string(),label:l.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:l.boolean(),unit:l.string()}).unknown(),preferences:{allowUnknown:l.boolean(),abortEarly:l.boolean(),artifacts:l.boolean(),cache:l.boolean(),convert:l.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:l.boolean(),label:["path","key"],language:[l.string(),d.desc.ref],wrap:{label:d.wrap,array:d.wrap}},externals:l.boolean(),messages:d.desc.messages,noDefaults:l.boolean(),nonEnumerables:l.boolean(),presence:["required","optional","forbidden"],skipFunctions:l.boolean(),stripUnknown:l.object({arrays:l.boolean(),objects:l.boolean()}).or("arrays","objects").allow(!0,!1),warnings:l.boolean()},allow:d.desc.values,invalid:d.desc.values,rules:l.array().min(1).items({name:l.string().required(),args:l.object().min(1),keep:l.boolean(),message:[l.string(),d.desc.messages],warn:l.boolean()}),keys:l.object().pattern(/.*/,l.link("/")),link:d.desc.ref}).pattern(/^[a-z]\w*$/,l.any())},493:(i,s,a)=>{const l=a(8571),d=a(9621),y=a(8160),_={value:Symbol("value")};i.exports=_.State=class{constructor(c,f,w){this.path=c,this.ancestors=f,this.mainstay=w.mainstay,this.schemas=w.schemas,this.debug=null}localize(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const v=new _.State(c,f,this);return w&&v.schemas&&(v.schemas=[_.schemas(w),...v.schemas]),v}nest(c,f){const w=new _.State(this.path,this.ancestors,this);return w.schemas=w.schemas&&[_.schemas(c),...w.schemas],w.debug=f,w}shadow(c,f){this.mainstay.shadow=this.mainstay.shadow||new _.Shadow,this.mainstay.shadow.set(this.path,c,f)}snapshot(){this.mainstay.shadow&&(this._snapshot=l(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},_.schemas=function(c){return y.isSchema(c)?{schema:c}:c},_.Shadow=class{constructor(){this._values=null}set(c,f,w){if(!c.length||w==="strip"&&typeof c[c.length-1]=="number")return;this._values=this._values||new Map;let v=this._values;for(let p=0;p<c.length;++p){const b=c[p];let g=v.get(b);g||(g=new Map,v.set(b,g)),v=g}v[_.value]=f}get(c){const f=this.node(c);if(f)return f[_.value]}node(c){if(this._values)return d(this._values,c,{iterables:!0})}override(c,f){if(!this._values)return;const w=c.slice(0,-1),v=c[c.length-1],p=d(this._values,w,{iterables:!0});f?p.set(v,f):p&&p.delete(v)}}},3328:(i,s,a)=>{const l=a(375),d=a(8571),y=a(5277),_=a(1447),c=a(8160),f=a(6354),w=a(6133),v={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};i.exports=v.Template=class{constructor(p,b){l(typeof p=="string","Template source must be a string"),l(!p.includes("\0")&&!p.includes(""),"Template source cannot contain reserved control characters"),this.source=p,this.rendered=p,this._template=null,this._settings=d(b),this._parse()}_parse(){if(!this.source.includes("{"))return;const p=v.encode(this.source),b=v.split(p);let g=!1;const m=[],h=b.shift();h&&m.push(h);for(const T of b){const x=T[0]!=="{",k=x?"}":"}}",C=T.indexOf(k);if(C===-1||T[1]==="{"){m.push(`{${v.decode(T)}`);continue}let E=T.slice(x?0:1,C);const A=E[0]===":";A&&(E=E.slice(1));const P=this._ref(v.decode(E),{raw:x,wrapped:A});m.push(P),typeof P!="string"&&(g=!0);const N=T.slice(C+k.length);N&&m.push(v.decode(N))}g?this._template=m:this.rendered=m.join("")}static date(p,b){return v.dateFormat[b.dateFormat].call(p)}describe(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._settings&&p.compact)return this.source;const b={template:this.source};return this._settings&&(b.options=this._settings),b}static build(p){return new v.Template(p.template,p.options)}isDynamic(){return!!this._template}static isTemplate(p){return!!p&&!!p[c.symbols.template]}refs(){if(!this._template)return;const p=[];for(const b of this._template)typeof b!="string"&&p.push(...b.refs);return p}resolve(p,b,g,m){return this._template&&this._template.length===1?this._part(this._template[0],p,b,g,m,{}):this.render(p,b,g,m)}_part(p){for(var b=arguments.length,g=new Array(b>1?b-1:0),m=1;m<b;m++)g[m-1]=arguments[m];return p.ref?p.ref.resolve(...g):p.formula.evaluate(g)}render(p,b,g,m){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!this.isDynamic())return this.rendered;const T=[];for(const x of this._template)if(typeof x=="string")T.push(x);else{const k=this._part(x,p,b,g,m,h),C=v.stringify(k,p,b,g,m,h);if(C!==void 0){const E=x.raw||(h.errors&&h.errors.escapeHtml)===!1?C:y(C);T.push(v.wrap(E,x.wrapped&&g.errors.wrap.label))}}return T.join("")}_ref(p,b){let{raw:g,wrapped:m}=b;const h=[],T=k=>{const C=w.create(k,this._settings);return h.push(C),E=>C.resolve(...E)};try{var x=new _.Parser(p,{reference:T,functions:v.functions,constants:v.constants})}catch(k){throw k.message=`Invalid template variable "${p}" fails due to: ${k.message}`,k}if(x.single){if(x.single.type==="reference"){const k=h[0];return{ref:k,raw:g,refs:h,wrapped:m||k.type==="local"&&k.key==="label"}}return v.stringify(x.single.value)}return{formula:x,raw:g,refs:h}}toString(){return this.source}},v.Template.prototype[c.symbols.template]=!0,v.Template.prototype.isImmutable=!0,v.encode=function(p){return p.replace(/\\(\{+)/g,(b,g)=>v.opens.slice(0,g.length)).replace(/\\(\}+)/g,(b,g)=>v.closes.slice(0,g.length))},v.decode=function(p){return p.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},v.split=function(p){const b=[];let g="";for(let m=0;m<p.length;++m){const h=p[m];if(h==="{"){let T="";for(;m+1<p.length&&p[m+1]==="{";)T+="{",++m;b.push(g),g=T}else g+=h}return b.push(g),b},v.wrap=function(p,b){return b?b.length===1?`${b}${p}${b}`:`${b[0]}${p}${b[1]}`:p},v.stringify=function(p,b,g,m,h){let T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const x=typeof p,k=m&&m.errors&&m.errors.wrap||{};let C=!1;if(w.isRef(p)&&p.render&&(C=p.in,p=p.resolve(b,g,m,h,{in:p.in,...T})),p===null)return"null";if(x==="string")return v.wrap(p,T.arrayItems&&k.string);if(x==="number"||x==="function"||x==="symbol")return p.toString();if(x!=="object")return JSON.stringify(p);if(p instanceof Date)return v.Template.date(p,m);if(p instanceof Map){const A=[];for(const[P,N]of p.entries())A.push(`${P.toString()} -> ${N.toString()}`);p=A}if(!Array.isArray(p))return p.toString();const E=[];for(const A of p)E.push(v.stringify(A,b,g,m,h,{arrayItems:!0,...T}));return v.wrap(E.join(", "),!C&&k.array)},v.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},v.functions={if:(p,b,g)=>p?b:g,length:p=>typeof p=="string"?p.length:p&&typeof p=="object"?Array.isArray(p)?p.length:Object.keys(p).length:null,msg(p){const[b,g,m,h,T]=this,x=T.messages;if(!x)return"";const k=f.template(b,x[0],p,g,m)||f.template(b,x[1],p,g,m);return k?k.render(b,g,m,h,T):""},number:p=>typeof p=="number"?p:typeof p=="string"?parseFloat(p):typeof p=="boolean"?p?1:0:p instanceof Date?p.getTime():null}},4946:(i,s,a)=>{const l=a(375),d=a(1687),y=a(8068),_=a(8160),c=a(3292),f=a(6354),w=a(6133),v={};i.exports=y.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:w.toSibling}},args(p){for(var b=arguments.length,g=new Array(b>1?b-1:0),m=1;m<b;m++)g[m-1]=arguments[m];return g.length===1&&Array.isArray(g[0])?p.try(...g[0]):p.try(...g)},validate(p,b){const{schema:g,error:m,state:h,prefs:T}=b;if(g._flags.match){const k=[],C=[];for(let A=0;A<g.$_terms.matches.length;++A){const P=g.$_terms.matches[A],N=h.nest(P.schema,`match.${A}`);N.snapshot();const $=P.schema.$_validate(p,N,T);$.errors?(C.push($.errors),N.restore()):k.push($.value)}if(k.length===0)return{errors:m("alternatives.any",{details:C.map(A=>f.details(A,{override:!1}))})};if(g._flags.match==="one")return k.length===1?{value:k[0]}:{errors:m("alternatives.one")};if(k.length!==g.$_terms.matches.length)return{errors:m("alternatives.all",{details:C.map(A=>f.details(A,{override:!1}))})};const E=A=>A.$_terms.matches.some(P=>P.schema.type==="object"||P.schema.type==="alternatives"&&E(P.schema));return E(g)?{value:k.reduce((A,P)=>d(A,P,{mergeArrays:!1}))}:{value:k[k.length-1]}}const x=[];for(let k=0;k<g.$_terms.matches.length;++k){const C=g.$_terms.matches[k];if(C.schema){const P=h.nest(C.schema,`match.${k}`);P.snapshot();const N=C.schema.$_validate(p,P,T);if(!N.errors)return N;P.restore(),x.push({schema:C.schema,reports:N.errors});continue}const E=C.ref?C.ref.resolve(p,h,T):p,A=C.is?[C]:C.switch;for(let P=0;P<A.length;++P){const N=A[P],{is:$,then:F,otherwise:j}=N,B=`match.${k}${C.switch?"."+P:""}`;if($.$_match(E,h.nest($,`${B}.is`),T)){if(F)return F.$_validate(p,h.nest(F,`${B}.then`),T)}else if(j)return j.$_validate(p,h.nest(j,`${B}.otherwise`),T)}}return v.errors(x,b)},rules:{conditional:{method(p,b){l(!this._flags._endedSwitch,"Unreachable condition"),l(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),l(b.break===void 0,"Cannot use break option with alternatives conditional");const g=this.clone(),m=c.when(g,p,b),h=m.is?[m]:m.switch;for(const T of h)if(T.then&&T.otherwise){g.$_setFlag("_endedSwitch",!0,{clone:!1});break}return g.$_terms.matches.push(m),g.$_mutateRebuild()}},match:{method(p){if(l(["any","one","all"].includes(p),"Invalid alternatives match mode",p),p!=="any")for(const b of this.$_terms.matches)l(b.schema,"Cannot combine match mode",p,"with conditional rules");return this.$_setFlag("match",p)}},try:{method(){for(var p=arguments.length,b=new Array(p),g=0;g<p;g++)b[g]=arguments[g];l(b.length,"Missing alternative schemas"),_.verifyFlat(b,"try"),l(!this._flags._endedSwitch,"Unreachable condition");const m=this.clone();for(const h of b)m.$_terms.matches.push({schema:m.$_compile(h)});return m.$_mutateRebuild()}}},overrides:{label(p){return this.$_parent("label",p).$_modify({each:(b,g)=>g.path[0]!=="is"?b.label(p):void 0,ref:!1})}},rebuild(p){p.$_modify({each:b=>{_.isSchema(b)&&b.type==="array"&&p.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(p,b){if(b.matches)for(const g of b.matches){const{schema:m,ref:h,is:T,not:x,then:k,otherwise:C}=g;p=m?p.try(m):h?p.conditional(h,{is:T,then:k,not:x,otherwise:C,switch:g.switch}):p.conditional(T,{then:k,otherwise:C})}return p}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(p,b){let{error:g,state:m}=b;if(!p.length)return{errors:g("alternatives.any")};if(p.length===1)return{errors:p[0].reports};const h=new Set,T=[];for(const{reports:x,schema:k}of p){if(x.length>1)return v.unmatched(p,g);const C=x[0];if(C instanceof f.Report==0)return v.unmatched(p,g);if(C.state.path.length!==m.path.length){T.push({type:k.type,report:C});continue}if(C.code==="any.only"){for(const P of C.local.valids)h.add(P);continue}const[E,A]=C.code.split(".");A==="base"?h.add(E):T.push({type:k.type,report:C})}return T.length?T.length===1?{errors:T[0].report}:v.unmatched(p,g):{errors:g("alternatives.types",{types:[...h]})}},v.unmatched=function(p,b){const g=[];for(const m of p)g.push(...m.reports);return{errors:b("alternatives.match",f.details(g,{override:!1}))}}},8068:(i,s,a)=>{const l=a(375),d=a(7629),y=a(8160),_=a(6914);i.exports=d.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(c,f){return l(typeof c=="function","Method must be a function"),l(f===void 0||f&&typeof f=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:c,description:f}})},validate(c,f,w){let{method:v}=w;try{return v(c,f)}catch(p){return f.error("any.custom",{error:p})}},args:["method","description"],multi:!0},messages:{method(c){return this.prefs({messages:c})}},shared:{method(c){l(y.isSchema(c)&&c._flags.id,"Schema must be a schema with an id");const f=this.clone();return f.$_terms.shared=f.$_terms.shared||[],f.$_terms.shared.push(c),f.$_mutateRegister(c),f}},warning:{method(c,f){return l(c&&typeof c=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:c,local:f},warn:!0})},validate(c,f,w){let{code:v,local:p}=w;return f.error(v,p)},args:["code","local"],multi:!0}},modifiers:{keep(c){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];c.keep=f},message(c,f){c.message=_.compile(f)},warn(c){let f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];c.warn=f}},manifest:{build(c,f){for(const w in f){const v=f[w];if(["examples","externals","metas","notes","tags"].includes(w))for(const p of v)c=c[w.slice(0,-1)](p);else if(w!=="alterations")if(w!=="whens"){if(w==="shared")for(const p of v)c=c.shared(p)}else for(const p of v){const{ref:b,is:g,not:m,then:h,otherwise:T,concat:x}=p;c=x?c.concat(x):b?c.when(b,{is:g,not:m,then:h,otherwise:T,switch:p.switch,break:p.break}):c.when(g,{then:h,otherwise:T,break:p.break})}else{const p={};for(const{target:b,adjuster:g}of v)p[b]=g;c=c.alter(p)}}return c}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(i,s,a)=>{const l=a(375),d=a(9474),y=a(9621),_=a(8068),c=a(8160),f=a(3292),w={};i.exports=_.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(v,p){let{schema:b,state:g,prefs:m}=p;if(!Array.isArray(v))return;const h=b.$_getRule("sort");return h?w.sort(b,v,h.args.options,g,m):void 0}},validate(v,p){let{schema:b,error:g}=p;if(!Array.isArray(v)){if(b._flags.single){const m=[v];return m[c.symbols.arraySingle]=!0,{value:m}}return{errors:g("array.base")}}if(b.$_getRule("items")||b.$_terms.externals)return{value:v.slice()}},rules:{has:{method(v){v=this.$_compile(v,{appendPath:!0});const p=this.$_addRule({name:"has",args:{schema:v}});return p.$_mutateRegister(v),p},validate(v,p,b){let{state:g,prefs:m,error:h}=p,{schema:T}=b;const x=[v,...g.ancestors];for(let C=0;C<v.length;++C){const E=g.localize([...g.path,C],x,T);if(T.$_match(v[C],E,m))return v}const k=T._flags.label;return k?h("array.hasKnown",{patternLabel:k}):h("array.hasUnknown",null)},multi:!0},items:{method(){for(var v=arguments.length,p=new Array(v),b=0;b<v;b++)p[b]=arguments[b];c.verifyFlat(p,"items");const g=this.$_addRule("items");for(let m=0;m<p.length;++m){const h=c.tryWithPath(()=>this.$_compile(p[m]),m,{append:!0});g.$_terms.items.push(h)}return g.$_mutateRebuild()},validate(v,p){let{schema:b,error:g,state:m,prefs:h,errorsArray:T}=p;const x=b.$_terms._requireds.slice(),k=b.$_terms.ordered.slice(),C=[...b.$_terms._inclusions,...x],E=!v[c.symbols.arraySingle];delete v[c.symbols.arraySingle];const A=T();let P=v.length;for(let N=0;N<P;++N){const $=v[N];let F=!1,j=!1;const B=E?N:new Number(N),H=[...m.path,B];if(!b._flags.sparse&&$===void 0){if(A.push(g("array.sparse",{key:B,path:H,pos:N,value:void 0},m.localize(H))),h.abortEarly)return A;k.shift();continue}const U=[v,...m.ancestors];for(const J of b.$_terms._exclusions)if(J.$_match($,m.localize(H,U,J),h,{presence:"ignore"})){if(A.push(g("array.excludes",{pos:N,value:$},m.localize(H))),h.abortEarly)return A;F=!0,k.shift();break}if(F)continue;if(b.$_terms.ordered.length){if(k.length){const J=k.shift(),oe=J.$_validate($,m.localize(H,U,J),h);if(oe.errors){if(A.push(...oe.errors),h.abortEarly)return A}else if(J._flags.result==="strip")w.fastSplice(v,N),--N,--P;else{if(!b._flags.sparse&&oe.value===void 0){if(A.push(g("array.sparse",{key:B,path:H,pos:N,value:void 0},m.localize(H))),h.abortEarly)return A;continue}v[N]=oe.value}continue}if(!b.$_terms.items.length){if(A.push(g("array.orderedLength",{pos:N,limit:b.$_terms.ordered.length})),h.abortEarly)return A;break}}const W=[];let Y=x.length;for(let J=0;J<Y;++J){const oe=m.localize(H,U,x[J]);oe.snapshot();const ce=x[J].$_validate($,oe,h);if(W[J]=ce,!ce.errors){if(v[N]=ce.value,j=!0,w.fastSplice(x,J),--J,--Y,!b._flags.sparse&&ce.value===void 0&&(A.push(g("array.sparse",{key:B,path:H,pos:N,value:void 0},m.localize(H))),h.abortEarly))return A;break}oe.restore()}if(j)continue;const G=h.stripUnknown&&!!h.stripUnknown.arrays||!1;Y=C.length;for(const J of C){let oe;const ce=x.indexOf(J);if(ce!==-1)oe=W[ce];else{const fe=m.localize(H,U,J);if(fe.snapshot(),oe=J.$_validate($,fe,h),!oe.errors){J._flags.result==="strip"?(w.fastSplice(v,N),--N,--P):b._flags.sparse||oe.value!==void 0?v[N]=oe.value:(A.push(g("array.sparse",{key:B,path:H,pos:N,value:void 0},m.localize(H))),F=!0),j=!0;break}fe.restore()}if(Y===1){if(G){w.fastSplice(v,N),--N,--P,j=!0;break}if(A.push(...oe.errors),h.abortEarly)return A;F=!0;break}}if(!F&&(b.$_terms._inclusions.length||b.$_terms._requireds.length)&&!j){if(G){w.fastSplice(v,N),--N,--P;continue}if(A.push(g("array.includes",{pos:N,value:$},m.localize(H))),h.abortEarly)return A}}return x.length&&w.fillMissedErrors(b,A,x,v,m,h),k.length&&(w.fillOrderedErrors(b,A,k,v,m,h),A.length||w.fillDefault(k,v,m,h)),A.length?A:v},priority:!0,manifest:!1},length:{method(v){return this.$_addRule({name:"length",args:{limit:v},operator:"="})},validate(v,p,b,g){let{limit:m}=b,{name:h,operator:T,args:x}=g;return c.compare(v.length,m,T)?v:p.error("array."+h,{limit:x.limit,value:v})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(v){return this.$_addRule({name:"max",method:"length",args:{limit:v},operator:"<="})}},min:{method(v){return this.$_addRule({name:"min",method:"length",args:{limit:v},operator:">="})}},ordered:{method(){for(var v=arguments.length,p=new Array(v),b=0;b<v;b++)p[b]=arguments[b];c.verifyFlat(p,"ordered");const g=this.$_addRule("items");for(let m=0;m<p.length;++m){const h=c.tryWithPath(()=>this.$_compile(p[m]),m,{append:!0});w.validateSingle(h,g),g.$_mutateRegister(h),g.$_terms.ordered.push(h)}return g.$_mutateRebuild()}},single:{method(v){const p=v===void 0||!!v;return l(!p||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",p)}},sort:{method(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c.assertOptions(v,["by","order"]);const p={order:v.order||"ascending"};return v.by&&(p.by=f.ref(v.by,{ancestor:0}),l(!p.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:p}})},validate(v,p,b){let{error:g,state:m,prefs:h,schema:T}=p,{options:x}=b;const{value:k,errors:C}=w.sort(T,v,x,m,h);if(C)return C;for(let E=0;E<v.length;++E)if(v[E]!==k[E])return g("array.sort",{order:x.order,by:x.by?x.by.key:"value"});return v},convert:!0},sparse:{method(v){const p=v===void 0||!!v;return this._flags.sparse===p?this:(p?this.clone():this.$_addRule("items")).$_setFlag("sparse",p,{clone:!1})}},unique:{method(v){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(!v||typeof v=="function"||typeof v=="string","comparator must be a function or a string"),c.assertOptions(p,["ignoreUndefined","separator"]);const b={name:"unique",args:{options:p,comparator:v}};if(v)if(typeof v=="string"){const g=c.default(p.separator,".");b.path=g?v.split(g):[v]}else b.comparator=v;return this.$_addRule(b)},validate(v,p,b,g){let{state:m,error:h,schema:T}=p,{comparator:x,options:k}=b,{comparator:C,path:E}=g;const A={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},P=C||d,N=k.ignoreUndefined;for(let $=0;$<v.length;++$){const F=E?y(v[$],E):v[$],j=C?A.custom:A[typeof F];if(l(j,"Failed to find unique map container for type",typeof F),j instanceof Map){const B=j.entries();let H;for(;!(H=B.next()).done;)if(P(H.value[0],F)){const U=m.localize([...m.path,$],[v,...m.ancestors]),W={pos:$,value:v[$],dupePos:H.value[1],dupeValue:v[H.value[1]]};return E&&(W.path=x),h("array.unique",W,U)}j.set(F,$)}else{if((!N||F!==void 0)&&j[F]!==void 0){const B={pos:$,value:v[$],dupePos:j[F],dupeValue:v[j[F]]};return E&&(B.path=x),h("array.unique",B,m.localize([...m.path,$],[v,...m.ancestors]))}j[F]=$}}return v},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(v,p)=>new Set(v)}},rebuild(v){v.$_terms._inclusions=[],v.$_terms._exclusions=[],v.$_terms._requireds=[];for(const p of v.$_terms.items)w.validateSingle(p,v),p._flags.presence==="required"?v.$_terms._requireds.push(p):p._flags.presence==="forbidden"?v.$_terms._exclusions.push(p):v.$_terms._inclusions.push(p);for(const p of v.$_terms.ordered)w.validateSingle(p,v)},manifest:{build:(v,p)=>(p.items&&(v=v.items(...p.items)),p.ordered&&(v=v.ordered(...p.ordered)),v)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),w.fillMissedErrors=function(v,p,b,g,m,h){const T=[];let x=0;for(const k of b){const C=k._flags.label;C?T.push(C):++x}T.length?x?p.push(v.$_createError("array.includesRequiredBoth",g,{knownMisses:T,unknownMisses:x},m,h)):p.push(v.$_createError("array.includesRequiredKnowns",g,{knownMisses:T},m,h)):p.push(v.$_createError("array.includesRequiredUnknowns",g,{unknownMisses:x},m,h))},w.fillOrderedErrors=function(v,p,b,g,m,h){const T=[];for(const x of b)x._flags.presence==="required"&&T.push(x);T.length&&w.fillMissedErrors(v,p,T,g,m,h)},w.fillDefault=function(v,p,b,g){const m=[];let h=!0;for(let T=v.length-1;T>=0;--T){const x=v[T],k=[p,...b.ancestors],C=x.$_validate(void 0,b.localize(b.path,k,x),g).value;if(h){if(C===void 0)continue;h=!1}m.unshift(C)}m.length&&p.push(...m)},w.fastSplice=function(v,p){let b=p;for(;b<v.length;)v[b++]=v[b];--v.length},w.validateSingle=function(v,p){(v.type==="array"||v._flags._arrayItems)&&(l(!p._flags.single,"Cannot specify array item with single rule enabled"),p.$_setFlag("_arrayItems",!0,{clone:!1}))},w.sort=function(v,p,b,g,m){const h=b.order==="ascending"?1:-1,T=-1*h,x=h,k=(C,E)=>{let A=w.compare(C,E,T,x);if(A!==null||(b.by&&(C=b.by.resolve(C,g,m),E=b.by.resolve(E,g,m)),A=w.compare(C,E,T,x),A!==null))return A;const P=typeof C;if(P!==typeof E)throw v.$_createError("array.sort.mismatching",p,null,g,m);if(P!=="number"&&P!=="string")throw v.$_createError("array.sort.unsupported",p,{type:P},g,m);return P==="number"?(C-E)*h:C<E?T:x};try{return{value:p.slice().sort(k)}}catch(C){return{errors:C}}},w.compare=function(v,p,b,g){return v===p?0:v===void 0?1:p===void 0?-1:v===null?g:p===null?b:null}},4937:(i,s,a)=>{const l=a(375),d=a(8068),y=a(8160),_=a(2036),c={isBool:function(f){return typeof f=="boolean"}};i.exports=d.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(f,w){let{schema:v}=w;if(typeof f!="boolean"){if(typeof f=="string"){const p=v._flags.sensitive?f:f.toLowerCase();f=p==="true"||p!=="false"&&f}return typeof f!="boolean"&&(f=v.$_terms.truthy&&v.$_terms.truthy.has(f,null,null,!v._flags.sensitive)||(!v.$_terms.falsy||!v.$_terms.falsy.has(f,null,null,!v._flags.sensitive))&&f),{value:f}}},validate(f,w){let{error:v}=w;if(typeof f!="boolean")return{value:f,errors:v("boolean.base")}},rules:{truthy:{method(){for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];y.verifyFlat(w,"truthy");const p=this.clone();p.$_terms.truthy=p.$_terms.truthy||new _;for(let b=0;b<w.length;++b){const g=w[b];l(g!==void 0,"Cannot call truthy with undefined"),p.$_terms.truthy.add(g)}return p}},falsy:{method(){for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];y.verifyFlat(w,"falsy");const p=this.clone();p.$_terms.falsy=p.$_terms.falsy||new _;for(let b=0;b<w.length;++b){const g=w[b];l(g!==void 0,"Cannot call falsy with undefined"),p.$_terms.falsy.add(g)}return p}},sensitive:{method(){let f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("sensitive",f)}}},cast:{number:{from:c.isBool,to:(f,w)=>f?1:0},string:{from:c.isBool,to:(f,w)=>f?"true":"false"}},manifest:{build:(f,w)=>(w.truthy&&(f=f.truthy(...w.truthy)),w.falsy&&(f=f.falsy(...w.falsy)),f)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(i,s,a)=>{const l=a(375),d=a(8068),y=a(8160),_=a(3328),c={isDate:function(f){return f instanceof Date}};i.exports=d.extend({type:"date",coerce:{from:["number","string"],method(f,w){let{schema:v}=w;return{value:c.parse(f,v._flags.format)||f}}},validate(f,w){let{schema:v,error:p,prefs:b}=w;if(f instanceof Date&&!isNaN(f.getTime()))return;const g=v._flags.format;return b.convert&&g&&typeof f=="string"?{value:f,errors:p("date.format",{format:g})}:{value:f,errors:p("date.base")}},rules:{compare:{method:!1,validate(f,w,v,p){let{date:b}=v,{name:g,operator:m,args:h}=p;const T=b==="now"?Date.now():b.getTime();return y.compare(f.getTime(),T,m)?f:w.error("date."+g,{limit:h.date,value:f})},args:[{name:"date",ref:!0,normalize:f=>f==="now"?f:c.parse(f),assert:f=>f!==null,message:"must have a valid date format"}]},format:{method(f){return l(["iso","javascript","unix"].includes(f),"Unknown date format",f),this.$_setFlag("format",f)}},greater:{method(f){return this.$_addRule({name:"greater",method:"compare",args:{date:f},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(f){return this.$_addRule({name:"less",method:"compare",args:{date:f},operator:"<"})}},max:{method(f){return this.$_addRule({name:"max",method:"compare",args:{date:f},operator:"<="})}},min:{method(f){return this.$_addRule({name:"min",method:"compare",args:{date:f},operator:">="})}},timestamp:{method(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript";return l(["javascript","unix"].includes(f),'"type" must be one of "javascript, unix"'),this.format(f)}}},cast:{number:{from:c.isDate,to:(f,w)=>f.getTime()},string:{from:c.isDate,to(f,w){let{prefs:v}=w;return _.date(f,v)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),c.parse=function(f,w){if(f instanceof Date)return f;if(typeof f!="string"&&(isNaN(f)||!isFinite(f))||/^\s*$/.test(f))return null;if(w==="iso")return y.isIsoDate(f)?c.date(f.toString()):null;const v=f;if(typeof f=="string"&&/^[+-]?\d+(\.\d+)?$/.test(f)&&(f=parseFloat(f)),w){if(w==="javascript")return c.date(1*f);if(w==="unix")return c.date(1e3*f);if(typeof v=="string")return null}return c.date(f)},c.date=function(f){const w=new Date(f);return isNaN(w.getTime())?null:w}},390:(i,s,a)=>{const l=a(375),d=a(7824);i.exports=d.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(y){return l(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:y}})},validate(y,_,c){let{n:f}=c;return y.length===f?y:_.error("function.arity",{n:f})}},class:{method(){return this.$_addRule("class")},validate:(y,_)=>/^\s*class\s/.test(y.toString())?y:_.error("function.class",{value:y})},minArity:{method(y){return l(Number.isSafeInteger(y)&&y>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:y}})},validate(y,_,c){let{n:f}=c;return y.length>=f?y:_.error("function.minArity",{n:f})}},maxArity:{method(y){return l(Number.isSafeInteger(y)&&y>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:y}})},validate(y,_,c){let{n:f}=c;return y.length<=f?y:_.error("function.maxArity",{n:f})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(i,s,a)=>{const l=a(978),d=a(375),y=a(8571),_=a(3652),c=a(8068),f=a(8160),w=a(3292),v=a(6354),p=a(6133),b=a(3328),g={renameDefaults:{alias:!1,multiple:!1,override:!1}};i.exports=c.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(m,h)=>m.keys(h),validate(m,h){let{schema:T,error:x,state:k,prefs:C}=h;if(!m||typeof m!==T.$_property("typeof")||Array.isArray(m))return{value:m,errors:x("object.base",{type:T.$_property("typeof")})};if(!(T.$_terms.renames||T.$_terms.dependencies||T.$_terms.keys||T.$_terms.patterns||T.$_terms.externals))return;m=g.clone(m,C);const E=[];if(T.$_terms.renames&&!g.rename(T,m,k,C,E))return{value:m,errors:E};if(!T.$_terms.keys&&!T.$_terms.patterns&&!T.$_terms.dependencies)return{value:m,errors:E};const A=new Set(Object.keys(m));if(T.$_terms.keys){const P=[m,...k.ancestors];for(const N of T.$_terms.keys){const $=N.key,F=m[$];A.delete($);const j=k.localize([...k.path,$],P,N),B=N.schema.$_validate(F,j,C);if(B.errors){if(C.abortEarly)return{value:m,errors:B.errors};B.value!==void 0&&(m[$]=B.value),E.push(...B.errors)}else N.schema._flags.result==="strip"||B.value===void 0&&F!==void 0?delete m[$]:B.value!==void 0&&(m[$]=B.value)}}if(A.size||T._flags._hasPatternMatch){const P=g.unknown(T,m,A,E,k,C);if(P)return P}if(T.$_terms.dependencies)for(const P of T.$_terms.dependencies){if(P.key!==null&&g.isPresent(P.options)(P.key.resolve(m,k,C,null,{shadow:!1}))===!1)continue;const N=g.dependencies[P.rel](T,P,m,k,C);if(N){const $=T.$_createError(N.code,m,N.context,k,C);if(C.abortEarly)return{value:m,errors:$};E.push($)}}return{value:m,errors:E}},rules:{and:{method(){for(var m=arguments.length,h=new Array(m),T=0;T<m;T++)h[T]=arguments[T];return f.verifyFlat(h,"and"),g.dependency(this,"and",null,h)}},append:{method(m){return m==null||Object.keys(m).length===0?this:this.keys(m)}},assert:{method(m,h,T){b.isTemplate(m)||(m=w.ref(m)),d(T===void 0||typeof T=="string","Message must be a string"),h=this.$_compile(h,{appendPath:!0});const x=this.$_addRule({name:"assert",args:{subject:m,schema:h,message:T}});return x.$_mutateRegister(m),x.$_mutateRegister(h),x},validate(m,h,T){let{error:x,prefs:k,state:C}=h,{subject:E,schema:A,message:P}=T;const N=E.resolve(m,C,k),$=p.isRef(E)?E.absolute(C):[];return A.$_match(N,C.localize($,[m,...C.ancestors],A),k)?m:x("object.assert",{subject:E,message:P})},args:["subject","schema","message"],multi:!0},instance:{method(m,h){return d(typeof m=="function","constructor must be a function"),h=h||m.name,this.$_addRule({name:"instance",args:{constructor:m,name:h}})},validate(m,h,T){let{constructor:x,name:k}=T;return m instanceof x?m:h.error("object.instance",{type:k,value:m})},args:["constructor","name"]},keys:{method(m){d(m===void 0||typeof m=="object","Object schema must be a valid object"),d(!f.isSchema(m),"Object schema cannot be a joi schema");const h=this.clone();if(m)if(Object.keys(m).length){h.$_terms.keys=h.$_terms.keys?h.$_terms.keys.filter(T=>!m.hasOwnProperty(T.key)):new g.Keys;for(const T in m)f.tryWithPath(()=>h.$_terms.keys.push({key:T,schema:this.$_compile(m[T])}),T)}else h.$_terms.keys=new g.Keys;else h.$_terms.keys=null;return h.$_mutateRebuild()}},length:{method(m){return this.$_addRule({name:"length",args:{limit:m},operator:"="})},validate(m,h,T,x){let{limit:k}=T,{name:C,operator:E,args:A}=x;return f.compare(Object.keys(m).length,k,E)?m:h.error("object."+C,{limit:A.limit,value:m})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"}]},max:{method(m){return this.$_addRule({name:"max",method:"length",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"length",args:{limit:m},operator:">="})}},nand:{method(){for(var m=arguments.length,h=new Array(m),T=0;T<m;T++)h[T]=arguments[T];return f.verifyFlat(h,"nand"),g.dependency(this,"nand",null,h)}},or:{method(){for(var m=arguments.length,h=new Array(m),T=0;T<m;T++)h[T]=arguments[T];return f.verifyFlat(h,"or"),g.dependency(this,"or",null,h)}},oxor:{method(){for(var m=arguments.length,h=new Array(m),T=0;T<m;T++)h[T]=arguments[T];return g.dependency(this,"oxor",null,h)}},pattern:{method(m,h){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=m instanceof RegExp;x||(m=this.$_compile(m,{appendPath:!0})),d(h!==void 0,"Invalid rule"),f.assertOptions(T,["fallthrough","matches"]),x&&d(!m.flags.includes("g")&&!m.flags.includes("y"),"pattern should not use global or sticky mode"),h=this.$_compile(h,{appendPath:!0});const k=this.clone();k.$_terms.patterns=k.$_terms.patterns||[];const C={[x?"regex":"schema"]:m,rule:h};return T.matches&&(C.matches=this.$_compile(T.matches),C.matches.type!=="array"&&(C.matches=C.matches.$_root.array().items(C.matches)),k.$_mutateRegister(C.matches),k.$_setFlag("_hasPatternMatch",!0,{clone:!1})),T.fallthrough&&(C.fallthrough=!0),k.$_terms.patterns.push(C),k.$_mutateRegister(h),k}},ref:{method(){return this.$_addRule("ref")},validate:(m,h)=>p.isRef(m)?m:h.error("object.refType",{value:m})},regex:{method(){return this.$_addRule("regex")},validate:(m,h)=>m instanceof RegExp?m:h.error("object.regex",{value:m})},rename:{method(m,h){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d(typeof m=="string"||m instanceof RegExp,"Rename missing the from argument"),d(typeof h=="string"||h instanceof b,"Invalid rename to argument"),d(h!==m,"Cannot rename key to same name:",m),f.assertOptions(T,["alias","ignoreUndefined","override","multiple"]);const x=this.clone();x.$_terms.renames=x.$_terms.renames||[];for(const k of x.$_terms.renames)d(k.from!==m,"Cannot rename the same key multiple times");return h instanceof b&&x.$_mutateRegister(h),x.$_terms.renames.push({from:m,to:h,options:l(g.renameDefaults,T)}),x}},schema:{method(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:m}})},validate(m,h,T){let{type:x}=T;return!f.isSchema(m)||x!=="any"&&m.type!==x?h.error("object.schema",{type:x}):m}},unknown:{method(m){return this.$_setFlag("unknown",m!==!1)}},with:{method(m,h){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.dependency(this,"with",m,h,T)}},without:{method(m,h){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return g.dependency(this,"without",m,h,T)}},xor:{method(){for(var m=arguments.length,h=new Array(m),T=0;T<m;T++)h[T]=arguments[T];return f.verifyFlat(h,"xor"),g.dependency(this,"xor",null,h)}}},overrides:{default(m,h){return m===void 0&&(m=f.symbols.deepDefault),this.$_parent("default",m,h)}},rebuild(m){if(m.$_terms.keys){const h=new _.Sorter;for(const T of m.$_terms.keys)f.tryWithPath(()=>h.add(T,{after:T.schema.$_rootReferences(),group:T.key}),T.key);m.$_terms.keys=new g.Keys(...h.nodes)}},manifest:{build(m,h){if(h.keys&&(m=m.keys(h.keys)),h.dependencies)for(const{rel:T,key:x=null,peers:k,options:C}of h.dependencies)m=g.dependency(m,T,x,k,C);if(h.patterns)for(const{regex:T,schema:x,rule:k,fallthrough:C,matches:E}of h.patterns)m=m.pattern(T||x,k,{fallthrough:C,matches:E});if(h.renames)for(const{from:T,to:x,options:k}of h.renames)m=m.rename(T,x,k);return m}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),g.clone=function(m,h){if(typeof m=="object"){if(h.nonEnumerables)return y(m,{shallow:!0});const x=Object.create(Object.getPrototypeOf(m));return Object.assign(x,m),x}const T=function(){for(var x=arguments.length,k=new Array(x),C=0;C<x;C++)k[C]=arguments[C];return m.apply(this,k)};return T.prototype=y(m.prototype),Object.defineProperty(T,"name",{value:m.name,writable:!1}),Object.defineProperty(T,"length",{value:m.length,writable:!1}),Object.assign(T,m),T},g.dependency=function(m,h,T,x,k){d(T===null||typeof T=="string",h,"key must be a strings"),k||(k=x.length>1&&typeof x[x.length-1]=="object"?x.pop():{}),f.assertOptions(k,["separator","isPresent"]),x=[].concat(x);const C=f.default(k.separator,"."),E=[];for(const P of x)d(typeof P=="string",h,"peers must be strings"),E.push(w.ref(P,{separator:C,ancestor:0,prefix:!1}));T!==null&&(T=w.ref(T,{separator:C,ancestor:0,prefix:!1}));const A=m.clone();return A.$_terms.dependencies=A.$_terms.dependencies||[],A.$_terms.dependencies.push(new g.Dependency(h,T,E,x,k)),A},g.dependencies={and(m,h,T,x,k){const C=[],E=[],A=h.peers.length,P=g.isPresent(h.options);for(const N of h.peers)P(N.resolve(T,x,k,null,{shadow:!1}))===!1?C.push(N.key):E.push(N.key);if(C.length!==A&&E.length!==A)return{code:"object.and",context:{present:E,presentWithLabels:g.keysToLabels(m,E),missing:C,missingWithLabels:g.keysToLabels(m,C)}}},nand(m,h,T,x,k){const C=[],E=g.isPresent(h.options);for(const N of h.peers)E(N.resolve(T,x,k,null,{shadow:!1}))&&C.push(N.key);if(C.length!==h.peers.length)return;const A=h.paths[0],P=h.paths.slice(1);return{code:"object.nand",context:{main:A,mainWithLabel:g.keysToLabels(m,A),peers:P,peersWithLabels:g.keysToLabels(m,P)}}},or(m,h,T,x,k){const C=g.isPresent(h.options);for(const E of h.peers)if(C(E.resolve(T,x,k,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:h.paths,peersWithLabels:g.keysToLabels(m,h.paths)}}},oxor(m,h,T,x,k){const C=[],E=g.isPresent(h.options);for(const P of h.peers)E(P.resolve(T,x,k,null,{shadow:!1}))&&C.push(P.key);if(!C.length||C.length===1)return;const A={peers:h.paths,peersWithLabels:g.keysToLabels(m,h.paths)};return A.present=C,A.presentWithLabels=g.keysToLabels(m,C),{code:"object.oxor",context:A}},with(m,h,T,x,k){const C=g.isPresent(h.options);for(const E of h.peers)if(C(E.resolve(T,x,k,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:h.key.key,mainWithLabel:g.keysToLabels(m,h.key.key),peer:E.key,peerWithLabel:g.keysToLabels(m,E.key)}}},without(m,h,T,x,k){const C=g.isPresent(h.options);for(const E of h.peers)if(C(E.resolve(T,x,k,null,{shadow:!1})))return{code:"object.without",context:{main:h.key.key,mainWithLabel:g.keysToLabels(m,h.key.key),peer:E.key,peerWithLabel:g.keysToLabels(m,E.key)}}},xor(m,h,T,x,k){const C=[],E=g.isPresent(h.options);for(const P of h.peers)E(P.resolve(T,x,k,null,{shadow:!1}))&&C.push(P.key);if(C.length===1)return;const A={peers:h.paths,peersWithLabels:g.keysToLabels(m,h.paths)};return C.length===0?{code:"object.missing",context:A}:(A.present=C,A.presentWithLabels=g.keysToLabels(m,C),{code:"object.xor",context:A})}},g.keysToLabels=function(m,h){return Array.isArray(h)?h.map(T=>m.$_mapLabels(T)):m.$_mapLabels(h)},g.isPresent=function(m){return typeof m.isPresent=="function"?m.isPresent:h=>h!==void 0},g.rename=function(m,h,T,x,k){const C={};for(const E of m.$_terms.renames){const A=[],P=typeof E.from!="string";if(P)for(const N in h){if(h[N]===void 0&&E.options.ignoreUndefined||N===E.to)continue;const $=E.from.exec(N);$&&A.push({from:N,to:E.to,match:$})}else!Object.prototype.hasOwnProperty.call(h,E.from)||h[E.from]===void 0&&E.options.ignoreUndefined||A.push(E);for(const N of A){const $=N.from;let F=N.to;if(F instanceof b&&(F=F.render(h,T,x,N.match)),$!==F){if(!E.options.multiple&&C[F]&&(k.push(m.$_createError("object.rename.multiple",h,{from:$,to:F,pattern:P},T,x)),x.abortEarly)||Object.prototype.hasOwnProperty.call(h,F)&&!E.options.override&&!C[F]&&(k.push(m.$_createError("object.rename.override",h,{from:$,to:F,pattern:P},T,x)),x.abortEarly))return!1;h[$]===void 0?delete h[F]:h[F]=h[$],C[F]=!0,E.options.alias||delete h[$]}}}return!0},g.unknown=function(m,h,T,x,k,C){if(m.$_terms.patterns){let E=!1;const A=m.$_terms.patterns.map(N=>{if(N.matches)return E=!0,[]}),P=[h,...k.ancestors];for(const N of T){const $=h[N],F=[...k.path,N];for(let j=0;j<m.$_terms.patterns.length;++j){const B=m.$_terms.patterns[j];if(B.regex){const W=B.regex.test(N);if(k.mainstay.tracer.debug(k,"rule",`pattern.${j}`,W?"pass":"error"),!W)continue}else if(!B.schema.$_match(N,k.nest(B.schema,`pattern.${j}`),C))continue;T.delete(N);const H=k.localize(F,P,{schema:B.rule,key:N}),U=B.rule.$_validate($,H,C);if(U.errors){if(C.abortEarly)return{value:h,errors:U.errors};x.push(...U.errors)}if(B.matches&&A[j].push(N),h[N]=U.value,!B.fallthrough)break}}if(E)for(let N=0;N<A.length;++N){const $=A[N];if(!$)continue;const F=m.$_terms.patterns[N].matches,j=k.localize(k.path,P,F),B=F.$_validate($,j,C);if(B.errors){const H=v.details(B.errors,{override:!1});H.matches=$;const U=m.$_createError("object.pattern.match",h,H,k,C);if(C.abortEarly)return{value:h,errors:U};x.push(U)}}}if(T.size&&(m.$_terms.keys||m.$_terms.patterns)){if(C.stripUnknown&&!m._flags.unknown||C.skipFunctions){const E=!(!C.stripUnknown||C.stripUnknown!==!0&&!C.stripUnknown.objects);for(const A of T)E?(delete h[A],T.delete(A)):typeof h[A]=="function"&&T.delete(A)}if(!f.default(m._flags.unknown,C.allowUnknown))for(const E of T){const A=k.localize([...k.path,E],[]),P=m.$_createError("object.unknown",h[E],{child:E},A,C,{flags:!1});if(C.abortEarly)return{value:h,errors:P};x.push(P)}}},g.Dependency=class{constructor(m,h,T,x,k){this.rel=m,this.key=h,this.peers=T,this.paths=x,this.options=k}describe(){const m={rel:this.rel,peers:this.paths};return this.key!==null&&(m.key=this.key.key),this.peers[0].separator!=="."&&(m.options={...m.options,separator:this.peers[0].separator}),this.options.isPresent&&(m.options={...m.options,isPresent:this.options.isPresent}),m}},g.Keys=class extends Array{concat(m){const h=this.slice(),T=new Map;for(let x=0;x<h.length;++x)T.set(h[x].key,x);for(const x of m){const k=x.key,C=T.get(k);C!==void 0?h[C]={key:k,schema:h[C].schema.concat(x.schema)}:h.push(x)}return h}}},8785:(i,s,a)=>{const l=a(375),d=a(8068),y=a(8160),_=a(3292),c=a(6354),f={};i.exports=d.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(w,v)=>w.ref(v),validate(w,v){let{schema:p,state:b,prefs:g}=v;l(p.$_terms.link,"Uninitialized link schema");const m=f.generate(p,w,b,g),h=p.$_terms.link[0].ref;return m.$_validate(w,b.nest(m,`link:${h.display}:${m.type}`),g)},generate:(w,v,p,b)=>f.generate(w,v,p,b),rules:{ref:{method(w){l(!this.$_terms.link,"Cannot reinitialize schema"),w=_.ref(w),l(w.type==="value"||w.type==="local","Invalid reference type:",w.type),l(w.type==="local"||w.ancestor==="root"||w.ancestor>0,"Link cannot reference itself");const v=this.clone();return v.$_terms.link=[{ref:w}],v}},relative:{method(){let w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("relative",w)}}},overrides:{concat(w){l(this.$_terms.link,"Uninitialized link schema"),l(y.isSchema(w),"Invalid schema object"),l(w.type!=="link","Cannot merge type link with another link");const v=this.clone();return v.$_terms.whens||(v.$_terms.whens=[]),v.$_terms.whens.push({concat:w}),v.$_mutateRebuild()}},manifest:{build:(w,v)=>(l(v.link,"Invalid link description missing link"),w.ref(v.link))}}),f.generate=function(w,v,p,b){let g=p.mainstay.links.get(w);if(g)return g._generate(v,p,b).schema;const m=w.$_terms.link[0].ref,{perspective:h,path:T}=f.perspective(m,p);f.assert(h,"which is outside of schema boundaries",m,w,p,b);try{g=T.length?h.$_reach(T):h}catch{f.assert(!1,"to non-existing schema",m,w,p,b)}return f.assert(g.type!=="link","which is another link",m,w,p,b),w._flags.relative||p.mainstay.links.set(w,g),g._generate(v,p,b).schema},f.perspective=function(w,v){if(w.type==="local"){for(const{schema:p,key:b}of v.schemas){if((p._flags.id||b)===w.path[0])return{perspective:p,path:w.path.slice(1)};if(p.$_terms.shared){for(const g of p.$_terms.shared)if(g._flags.id===w.path[0])return{perspective:g,path:w.path.slice(1)}}}return{perspective:null,path:null}}return w.ancestor==="root"?{perspective:v.schemas[v.schemas.length-1].schema,path:w.path}:{perspective:v.schemas[w.ancestor]&&v.schemas[w.ancestor].schema,path:w.path}},f.assert=function(w,v,p,b,g,m){w||l(!1,`"${c.label(b._flags,g,m)}" contains link reference "${p.display}" ${v}`)}},3832:(i,s,a)=>{const l=a(375),d=a(8068),y=a(8160),_={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};i.exports=d.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(c,f){let{schema:w,error:v}=f;if(!c.match(_.numberRx))return;c=c.trim();const p={value:parseFloat(c)};if(p.value===0&&(p.value=0),!w._flags.unsafe)if(c.match(/e/i)){if(_.extractSignificantDigits(c)!==_.extractSignificantDigits(String(p.value)))return p.errors=v("number.unsafe"),p}else{const b=p.value.toString();if(b.match(/e/i))return p;if(b!==_.normalizeDecimal(c))return p.errors=v("number.unsafe"),p}return p}},validate(c,f){let{schema:w,error:v,prefs:p}=f;if(c===1/0||c===-1/0)return{value:c,errors:v("number.infinity")};if(!y.isNumber(c))return{value:c,errors:v("number.base")};const b={value:c};if(p.convert){const g=w.$_getRule("precision");if(g){const m=Math.pow(10,g.args.limit);b.value=Math.round(b.value*m)/m}}return b.value===0&&(b.value=0),!w._flags.unsafe&&(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&(b.errors=v("number.unsafe")),b},rules:{compare:{method:!1,validate(c,f,w,v){let{limit:p}=w,{name:b,operator:g,args:m}=v;return y.compare(c,p,g)?c:f.error("number."+b,{limit:m.limit,value:c})},args:[{name:"limit",ref:!0,assert:y.isNumber,message:"must be a number"}]},greater:{method(c){return this.$_addRule({name:"greater",method:"compare",args:{limit:c},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(c,f)=>Math.trunc(c)-c==0?c:f.error("number.integer")},less:{method(c){return this.$_addRule({name:"less",method:"compare",args:{limit:c},operator:"<"})}},max:{method(c){return this.$_addRule({name:"max",method:"compare",args:{limit:c},operator:"<="})}},min:{method(c){return this.$_addRule({name:"min",method:"compare",args:{limit:c},operator:">="})}},multiple:{method(c){return this.$_addRule({name:"multiple",args:{base:c}})},validate(c,f,w,v){let{base:p}=w;return c*(1/p)%1==0?c:f.error("number.multiple",{multiple:v.args.base,value:c})},args:[{name:"base",ref:!0,assert:c=>typeof c=="number"&&isFinite(c)&&c>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(c,f)=>Number.isSafeInteger(c)&&c>=0&&c<=65535?c:f.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(c){return l(Number.isSafeInteger(c),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:c}})},validate(c,f,w){let{limit:v}=w;const p=c.toString().match(_.precisionRx);return Math.max((p[1]?p[1].length:0)-(p[2]?parseInt(p[2],10):0),0)<=v?c:f.error("number.precision",{limit:v,value:c})},convert:!0},sign:{method(c){return l(["negative","positive"].includes(c),"Invalid sign",c),this.$_addRule({name:"sign",args:{sign:c}})},validate(c,f,w){let{sign:v}=w;return v==="negative"&&c<0||v==="positive"&&c>0?c:f.error(`number.${v}`)}},unsafe:{method(){let c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return l(typeof c=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",c)}}},cast:{string:{from:c=>typeof c=="number",to:(c,f)=>c.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),_.extractSignificantDigits=function(c){return c.replace(_.exponentialPartRegex,"").replace(_.dotRegex,"").replace(_.trailingZerosRegex,"").replace(_.leadingSignAndZerosRegex,"")},_.normalizeDecimal=function(c){return(c=c.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&c.endsWith("0")&&(c=c.replace(/0+$/,"")),c==="-0"?"0":c}},8966:(i,s,a)=>{const l=a(7824);i.exports=l.extend({type:"object",cast:{map:{from:d=>d&&typeof d=="object",to:(d,y)=>new Map(Object.entries(d))}}})},7417:(i,s,a)=>{const l=a(375),d=a(5380),y=a(1745),_=a(9959),c=a(6064),f=a(9926),w=a(5752),v=a(8068),p=a(8160),b={tlds:f instanceof Set&&{tlds:{allow:f,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:_.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};i.exports=v.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(g,m){let{schema:h,state:T,prefs:x}=m;const k=h.$_getRule("normalize");k&&(g=g.normalize(k.args.form));const C=h.$_getRule("case");C&&(g=C.args.direction==="upper"?g.toLocaleUpperCase():g.toLocaleLowerCase());const E=h.$_getRule("trim");if(E&&E.args.enabled&&(g=g.trim()),h.$_terms.replacements)for(const P of h.$_terms.replacements)g=g.replace(P.pattern,P.replacement);const A=h.$_getRule("hex");if(A&&A.args.options.byteAligned&&g.length%2!=0&&(g=`0${g}`),h.$_getRule("isoDate")){const P=b.isoDate(g);P&&(g=P)}if(h._flags.truncate){const P=h.$_getRule("max");if(P){let N=P.args.limit;if(p.isResolvable(N)&&(N=N.resolve(g,T,x),!p.limit(N)))return{value:g,errors:h.$_createError("any.ref",N,{ref:P.args.limit,arg:"limit",reason:"must be a positive integer"},T,x)};g=g.slice(0,N)}}return{value:g}}},validate(g,m){let{schema:h,error:T}=m;if(typeof g!="string")return{value:g,errors:T("string.base")};if(g===""){const x=h.$_getRule("min");return x&&x.args.limit===0?void 0:{value:g,errors:T("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(g,m)=>/^[a-zA-Z0-9]+$/.test(g)?g:m.error("string.alphanum")},base64:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p.assertOptions(g,["paddingRequired","urlSafe"]),g={urlSafe:!1,paddingRequired:!0,...g},l(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),l(typeof g.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:g}})},validate(g,m,h){let{options:T}=h;return b.base64Regex[T.paddingRequired][T.urlSafe].test(g)?g:m.error("string.base64")}},case:{method(g){return l(["lower","upper"].includes(g),"Invalid case:",g),this.$_addRule({name:"case",args:{direction:g}})},validate(g,m,h){let{direction:T}=h;return T==="lower"&&g===g.toLocaleLowerCase()||T==="upper"&&g===g.toLocaleUpperCase()?g:m.error(`string.${T}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(g,m){let h=g.length,T=0,x=1;for(;h--;){const k=g.charAt(h)*x;T+=k-9*(k>9),x^=3}return T>0&&T%10==0?g:m.error("string.creditCard")}},dataUri:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p.assertOptions(g,["paddingRequired"]),g={paddingRequired:!0,...g},l(typeof g.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:g}})},validate(g,m,h){let{options:T}=h;const x=g.match(b.dataUriRegex);return x&&(!x[2]||x[2]!=="base64"||b.base64Regex[T.paddingRequired].false.test(x[3]))?g:m.error("string.dataUri")}},domain:{method(g){g&&p.assertOptions(g,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const m=b.addressOptions(g);return this.$_addRule({name:"domain",args:{options:g},address:m})},validate(g,m,h,T){let{address:x}=T;return d.isValid(g,x)?g:m.error("string.domain")}},email:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p.assertOptions(g,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),l(g.multiple===void 0||typeof g.multiple=="boolean","multiple option must be an boolean");const m=b.addressOptions(g),h=new RegExp(`\\s*[${g.separator?c(g.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:g},regex:h,address:m})},validate(g,m,h,T){let{options:x}=h,{regex:k,address:C}=T;const E=x.multiple?g.split(k):[g],A=[];for(const P of E)y.isValid(P,C)||A.push(P);return A.length?m.error("string.email",{value:g,invalids:A}):g}},guid:{alias:"uuid",method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p.assertOptions(g,["version","separator"]);let m="";if(g.version){const x=[].concat(g.version);l(x.length>=1,"version must have at least 1 valid version specified");const k=new Set;for(let C=0;C<x.length;++C){const E=x[C];l(typeof E=="string","version at position "+C+" must be a string");const A=b.guidVersions[E.toLowerCase()];l(A,"version at position "+C+" must be one of "+Object.keys(b.guidVersions).join(", ")),l(!k.has(A),"version at position "+C+" must not be a duplicate"),m+=A,k.add(A)}}l(b.guidSeparators.has(g.separator),'separator must be one of true, false, "-", or ":"');const h=g.separator===void 0?"[:-]?":g.separator===!0?"[:-]":g.separator===!1?"[]?":`\\${g.separator}`,T=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${h})[0-9A-F]{4}\\2?[${m||"0-9A-F"}][0-9A-F]{3}\\2?[${m?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:g},regex:T})},validate(g,m,h,T){let{regex:x}=T;const k=x.exec(g);return k?b.guidBrackets[k[1]]!==k[k.length-1]?m.error("string.guid"):g:m.error("string.guid")}},hex:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p.assertOptions(g,["byteAligned"]),g={byteAligned:!1,...g},l(typeof g.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:g}})},validate(g,m,h){let{options:T}=h;return b.hexRegex.test(g)?T.byteAligned&&g.length%2!=0?m.error("string.hexAlign"):g:m.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(g,m)=>d.isValid(g,{minDomainSegments:1})||b.ipRegex.test(g)?g:m.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p.assertOptions(g,["cidr","version"]);const{cidr:m,versions:h,regex:T}=_.regex(g),x=g.version?h:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:m,version:x}},regex:T})},validate(g,m,h,T){let{options:x}=h,{regex:k}=T;return k.test(g)?g:x.version?m.error("string.ipVersion",{value:g,cidr:x.cidr,version:x.version}):m.error("string.ip",{value:g,cidr:x.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(g,m){let{error:h}=m;return b.isoDate(g)?g:h("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(g,m)=>b.isoDurationRegex.test(g)?g:m.error("string.isoDuration")},length:{method(g,m){return b.length(this,"length",g,"=",m)},validate(g,m,h,T){let{limit:x,encoding:k}=h,{name:C,operator:E,args:A}=T;const P=!k&&g.length;return p.compare(P,x,E)?g:m.error("string."+C,{limit:A.limit,value:g,encoding:k})},args:[{name:"limit",ref:!0,assert:p.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(g,m){return b.length(this,"max",g,"<=",m)},args:["limit","encoding"]},min:{method(g,m){return b.length(this,"min",g,">=",m)},args:["limit","encoding"]},normalize:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";return l(b.normalizationForms.includes(g),"normalization form must be one of "+b.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:g}})},validate(g,m,h){let{error:T}=m,{form:x}=h;return g===g.normalize(x)?g:T("string.normalize",{value:g,form:x})},convert:!0},pattern:{alias:"regex",method(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(g instanceof RegExp,"regex must be a RegExp"),l(!g.flags.includes("g")&&!g.flags.includes("y"),"regex should not use global or sticky mode"),typeof m=="string"&&(m={name:m}),p.assertOptions(m,["invert","name"]);const h=["string.pattern",m.invert?".invert":"",m.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:g,options:m},errorCode:h})},validate(g,m,h,T){let{regex:x,options:k}=h,{errorCode:C}=T;return x.test(g)^k.invert?g:m.error(C,{name:k.name,regex:x,value:g})},args:["regex","options"],multi:!0},replace:{method(g,m){typeof g=="string"&&(g=new RegExp(c(g),"g")),l(g instanceof RegExp,"pattern must be a RegExp"),l(typeof m=="string","replacement must be a String");const h=this.clone();return h.$_terms.replacements||(h.$_terms.replacements=[]),h.$_terms.replacements.push({pattern:g,replacement:m}),h}},token:{method(){return this.$_addRule("token")},validate:(g,m)=>/^\w+$/.test(g)?g:m.error("string.token")},trim:{method(){let g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return l(typeof g=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:g}})},validate(g,m,h){let{enabled:T}=h;return T&&g!==g.trim()?m.error("string.trim"):g},convert:!0},truncate:{method(){let g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return l(typeof g=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",g)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p.assertOptions(g,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),g.domain&&p.assertOptions(g.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:m,scheme:h}=w.regex(g),T=g.domain?b.addressOptions(g.domain):null;return this.$_addRule({name:"uri",args:{options:g},regex:m,domain:T,scheme:h})},validate(g,m,h,T){let{options:x}=h,{regex:k,domain:C,scheme:E}=T;if(["http:/","https:/"].includes(g))return m.error("string.uri");const A=k.exec(g);if(A){const P=A[1]||A[2];return!C||x.allowRelative&&!P||d.isValid(P,C)?g:m.error("string.domain",{value:P})}return x.relativeOnly?m.error("string.uriRelativeOnly"):x.scheme?m.error("string.uriCustomScheme",{scheme:E,value:g}):m.error("string.uri")}}},manifest:{build(g,m){if(m.replacements)for(const{pattern:h,replacement:T}of m.replacements)g=g.replace(h,T);return g}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),b.addressOptions=function(g){if(!g||(l(g.minDomainSegments===void 0||Number.isSafeInteger(g.minDomainSegments)&&g.minDomainSegments>0,"minDomainSegments must be a positive integer"),l(g.maxDomainSegments===void 0||Number.isSafeInteger(g.maxDomainSegments)&&g.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),g.tlds===!1))return g;if(g.tlds===!0||g.tlds===void 0)return l(b.tlds,"Built-in TLD list disabled"),Object.assign({},g,b.tlds);l(typeof g.tlds=="object","tlds must be true, false, or an object");const m=g.tlds.deny;if(m)return Array.isArray(m)&&(g=Object.assign({},g,{tlds:{deny:new Set(m)}})),l(g.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),l(!g.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),b.validateTlds(g.tlds.deny,"tlds.deny"),g;const h=g.tlds.allow;return h?h===!0?(l(b.tlds,"Built-in TLD list disabled"),Object.assign({},g,b.tlds)):(Array.isArray(h)&&(g=Object.assign({},g,{tlds:{allow:new Set(h)}})),l(g.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),b.validateTlds(g.tlds.allow,"tlds.allow"),g):g},b.validateTlds=function(g,m){for(const h of g)l(d.isValid(h,{minDomainSegments:1,maxDomainSegments:1}),`${m} must contain valid top level domain names`)},b.isoDate=function(g){if(!p.isIsoDate(g))return null;/.*T.*[+-]\d\d$/.test(g)&&(g+="00");const m=new Date(g);return isNaN(m.getTime())?null:m.toISOString()},b.length=function(g,m,h,T,x){return l(!x||!1,"Invalid encoding:",x),g.$_addRule({name:m,method:"length",args:{limit:h,encoding:x},operator:T})}},8826:(i,s,a)=>{const l=a(375),d=a(8068),y={};y.Map=class extends Map{slice(){return new y.Map(this)}},i.exports=d.extend({type:"symbol",terms:{map:{init:new y.Map}},coerce:{method(_,c){let{schema:f,error:w}=c;const v=f.$_terms.map.get(_);return v&&(_=v),f._flags.only&&typeof _!="symbol"?{value:_,errors:w("symbol.map",{map:f.$_terms.map})}:{value:_}}},validate(_,c){let{error:f}=c;if(typeof _!="symbol")return{value:_,errors:f("symbol.base")}},rules:{map:{method(_){_&&!_[Symbol.iterator]&&typeof _=="object"&&(_=Object.entries(_)),l(_&&_[Symbol.iterator],"Iterable must be an iterable or object");const c=this.clone(),f=[];for(const w of _){l(w&&w[Symbol.iterator],"Entry must be an iterable");const[v,p]=w;l(typeof v!="object"&&typeof v!="function"&&typeof v!="symbol","Key must not be of type object, function, or Symbol"),l(typeof p=="symbol","Value must be a Symbol"),c.$_terms.map.set(v,p),f.push(p)}return c.valid(...f)}}},manifest:{build:(_,c)=>(c.map&&(_=_.map(c.map)),_)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(i,s,a)=>{const l=a(375),d=a(8571),y=a(738),_=a(9621),c=a(8160),f=a(6354),w=a(493),v={result:Symbol("result")};s.entry=function(p,b,g){let m=c.defaults;g&&(l(g.warnings===void 0,"Cannot override warnings preference in synchronous validation"),l(g.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),m=c.preferences(c.defaults,g));const h=v.entry(p,b,m);l(!h.mainstay.externals.length,"Schema with external rules must use validateAsync()");const T={value:h.value};return h.error&&(T.error=h.error),h.mainstay.warnings.length&&(T.warning=f.details(h.mainstay.warnings)),h.mainstay.debug&&(T.debug=h.mainstay.debug),h.mainstay.artifacts&&(T.artifacts=h.mainstay.artifacts),T},s.entryAsync=async function(p,b,g){let m=c.defaults;g&&(m=c.preferences(c.defaults,g));const h=v.entry(p,b,m),T=h.mainstay;if(h.error)throw T.debug&&(h.error.debug=T.debug),h.error;if(T.externals.length){let k=h.value;for(const{method:C,path:E,label:A}of T.externals){let P,N,$=k;E.length&&(P=E[E.length-1],N=_(k,E.slice(0,-1)),$=N[P]);try{const F=await C($,{prefs:g});if(F===void 0||F===$)continue;N?N[P]=F:k=F}catch(F){throw m.errors.label&&(F.message+=` (${A})`),F}}h.value=k}if(!m.warnings&&!m.debug&&!m.artifacts)return h.value;const x={value:h.value};return T.warnings.length&&(x.warning=f.details(T.warnings)),T.debug&&(x.debug=T.debug),T.artifacts&&(x.artifacts=T.artifacts),x},v.entry=function(p,b,g){const{tracer:m,cleanup:h}=v.tracer(b,g),T={externals:[],warnings:[],tracer:m,debug:g.debug?[]:null,links:b._ids._schemaChain?new Map:null},x=b._ids._schemaChain?[{schema:b}]:null,k=new w([],[],{mainstay:T,schemas:x}),C=s.validate(p,b,k,g);h&&b.$_root.untrace();const E=f.process(C.errors,p,g);return{value:C.value,error:E,mainstay:T}},v.tracer=function(p,b){return p.$_root._tracer?{tracer:p.$_root._tracer._register(p)}:b.debug?(l(p.$_root.trace,"Debug mode not supported"),{tracer:p.$_root.trace()._register(p),cleanup:!0}):{tracer:v.ignore}},s.validate=function(p,b,g,m){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(b.$_terms.whens&&(b=b._generate(p,g,m).schema),b._preferences&&(m=v.prefs(b,m)),b._cache&&m.cache){const P=b._cache.get(p);if(g.mainstay.tracer.debug(g,"validate","cached",!!P),P)return P}const T=(P,N,$)=>b.$_createError(P,p,N,$||g,m),x={original:p,prefs:m,schema:b,state:g,error:T,errorsArray:v.errorsArray,warn:(P,N,$)=>g.mainstay.warnings.push(T(P,N,$)),message:(P,N)=>b.$_createError("custom",p,N,g,m,{messages:P})};g.mainstay.tracer.entry(b,g);const k=b._definition;if(k.prepare&&p!==void 0&&m.convert){const P=k.prepare(p,x);if(P){if(g.mainstay.tracer.value(g,"prepare",p,P.value),P.errors)return v.finalize(P.value,[].concat(P.errors),x);p=P.value}}if(k.coerce&&p!==void 0&&m.convert&&(!k.coerce.from||k.coerce.from.includes(typeof p))){const P=k.coerce.method(p,x);if(P){if(g.mainstay.tracer.value(g,"coerced",p,P.value),P.errors)return v.finalize(P.value,[].concat(P.errors),x);p=P.value}}const C=b._flags.empty;C&&C.$_match(v.trim(p,b),g.nest(C),c.defaults)&&(g.mainstay.tracer.value(g,"empty",p,void 0),p=void 0);const E=h.presence||b._flags.presence||(b._flags._endedSwitch?null:m.presence);if(p===void 0){if(E==="forbidden")return v.finalize(p,null,x);if(E==="required")return v.finalize(p,[b.$_createError("any.required",p,null,g,m)],x);if(E==="optional"){if(b._flags.default!==c.symbols.deepDefault)return v.finalize(p,null,x);g.mainstay.tracer.value(g,"default",p,{}),p={}}}else if(E==="forbidden")return v.finalize(p,[b.$_createError("any.unknown",p,null,g,m)],x);const A=[];if(b._valids){const P=b._valids.get(p,g,m,b._flags.insensitive);if(P)return m.convert&&(g.mainstay.tracer.value(g,"valids",p,P.value),p=P.value),g.mainstay.tracer.filter(b,g,"valid",P),v.finalize(p,null,x);if(b._flags.only){const N=b.$_createError("any.only",p,{valids:b._valids.values({display:!0})},g,m);if(m.abortEarly)return v.finalize(p,[N],x);A.push(N)}}if(b._invalids){const P=b._invalids.get(p,g,m,b._flags.insensitive);if(P){g.mainstay.tracer.filter(b,g,"invalid",P);const N=b.$_createError("any.invalid",p,{invalids:b._invalids.values({display:!0})},g,m);if(m.abortEarly)return v.finalize(p,[N],x);A.push(N)}}if(k.validate){const P=k.validate(p,x);if(P&&(g.mainstay.tracer.value(g,"base",p,P.value),p=P.value,P.errors)){if(!Array.isArray(P.errors))return A.push(P.errors),v.finalize(p,A,x);if(P.errors.length)return A.push(...P.errors),v.finalize(p,A,x)}}return b._rules.length?v.rules(p,A,x):v.finalize(p,A,x)},v.rules=function(p,b,g){const{schema:m,state:h,prefs:T}=g;for(const x of m._rules){const k=m._definition.rules[x.method];if(k.convert&&T.convert){h.mainstay.tracer.log(m,h,"rule",x.name,"full");continue}let C,E=x.args;if(x._resolve.length){E=Object.assign({},E);for(const P of x._resolve){const N=k.argsByName.get(P),$=E[P].resolve(p,h,T),F=N.normalize?N.normalize($):$,j=c.validateArg(F,null,N);if(j){C=m.$_createError("any.ref",$,{arg:P,ref:E[P],reason:j},h,T);break}E[P]=F}}C=C||k.validate(p,g,E,x);const A=v.rule(C,x);if(A.errors){if(h.mainstay.tracer.log(m,h,"rule",x.name,"error"),x.warn){h.mainstay.warnings.push(...A.errors);continue}if(T.abortEarly)return v.finalize(p,A.errors,g);b.push(...A.errors)}else h.mainstay.tracer.log(m,h,"rule",x.name,"pass"),h.mainstay.tracer.value(h,"rule",p,A.value,x.name),p=A.value}return v.finalize(p,b,g)},v.rule=function(p,b){return p instanceof f.Report?(v.error(p,b),{errors:[p],value:null}):Array.isArray(p)&&p[c.symbols.errors]?(p.forEach(g=>v.error(g,b)),{errors:p,value:null}):{errors:null,value:p}},v.error=function(p,b){return b.message&&p._setTemplate(b.message),p},v.finalize=function(p,b,g){b=b||[];const{schema:m,state:h,prefs:T}=g;if(b.length){const k=v.default("failover",void 0,b,g);k!==void 0&&(h.mainstay.tracer.value(h,"failover",p,k),p=k,b=[])}if(b.length&&m._flags.error)if(typeof m._flags.error=="function"){b=m._flags.error(b),Array.isArray(b)||(b=[b]);for(const k of b)l(k instanceof Error||k instanceof f.Report,"error() must return an Error object")}else b=[m._flags.error];if(p===void 0){const k=v.default("default",p,b,g);h.mainstay.tracer.value(h,"default",p,k),p=k}if(m._flags.cast&&p!==void 0){const k=m._definition.cast[m._flags.cast];if(k.from(p)){const C=k.to(p,g);h.mainstay.tracer.value(h,"cast",p,C,m._flags.cast),p=C}}if(m.$_terms.externals&&T.externals&&T._externals!==!1)for(const{method:k}of m.$_terms.externals)h.mainstay.externals.push({method:k,path:h.path,label:f.label(m._flags,h,T)});const x={value:p,errors:b.length?b:null};return m._flags.result&&(x.value=m._flags.result==="strip"?void 0:g.original,h.mainstay.tracer.value(h,m._flags.result,p,x.value),h.shadow(p,m._flags.result)),m._cache&&T.cache!==!1&&!m._refs.length&&m._cache.set(g.original,x),p===void 0||x.errors||m._flags.artifact===void 0||(h.mainstay.artifacts=h.mainstay.artifacts||new Map,h.mainstay.artifacts.has(m._flags.artifact)||h.mainstay.artifacts.set(m._flags.artifact,[]),h.mainstay.artifacts.get(m._flags.artifact).push(h.path)),x},v.prefs=function(p,b){const g=b===c.defaults;return g&&p._preferences[c.symbols.prefs]?p._preferences[c.symbols.prefs]:(b=c.preferences(b,p._preferences),g&&(p._preferences[c.symbols.prefs]=b),b)},v.default=function(p,b,g,m){const{schema:h,state:T,prefs:x}=m,k=h._flags[p];if(x.noDefaults||k===void 0)return b;if(T.mainstay.tracer.log(h,T,"rule",p,"full"),!k)return k;if(typeof k=="function"){const C=k.length?[d(T.ancestors[0]),m]:[];try{return k(...C)}catch(E){return void g.push(h.$_createError(`any.${p}`,null,{error:E},T,x))}}return typeof k!="object"?k:k[c.symbols.literal]?k.literal:c.isResolvable(k)?k.resolve(b,T,x):d(k)},v.trim=function(p,b){if(typeof p!="string")return p;const g=b.$_getRule("trim");return g&&g.args.enabled?p.trim():p},v.ignore={active:!1,debug:y,entry:y,filter:y,log:y,resolve:y,value:y},v.errorsArray=function(){const p=[];return p[c.symbols.errors]=!0,p}},2036:(i,s,a)=>{const l=a(375),d=a(9474),y=a(8160),_={};i.exports=_.Values=class{constructor(c,f){this._values=new Set(c),this._refs=new Set(f),this._lowercase=_.lowercases(c),this._override=!1}get length(){return this._values.size+this._refs.size}add(c,f){y.isResolvable(c)?this._refs.has(c)||(this._refs.add(c),f&&f.register(c)):this.has(c,null,null,!1)||(this._values.add(c),typeof c=="string"&&this._lowercase.set(c.toLowerCase(),c))}static merge(c,f,w){if(c=c||new _.Values,f){if(f._override)return f.clone();for(const v of[...f._values,...f._refs])c.add(v)}if(w)for(const v of[...w._values,...w._refs])c.remove(v);return c.length?c:null}remove(c){y.isResolvable(c)?this._refs.delete(c):(this._values.delete(c),typeof c=="string"&&this._lowercase.delete(c.toLowerCase()))}has(c,f,w,v){return!!this.get(c,f,w,v)}get(c,f,w,v){if(!this.length)return!1;if(this._values.has(c))return{value:c};if(typeof c=="string"&&c&&v){const p=this._lowercase.get(c.toLowerCase());if(p)return{value:p}}if(!this._refs.size&&typeof c!="object")return!1;if(typeof c=="object"){for(const p of this._values)if(d(p,c))return{value:p}}if(f)for(const p of this._refs){const b=p.resolve(c,f,w,null,{in:!0});if(b===void 0)continue;const g=p.in&&typeof b=="object"?Array.isArray(b)?b:Object.keys(b):[b];for(const m of g)if(typeof m==typeof c){if(v&&c&&typeof c=="string"){if(m.toLowerCase()===c.toLowerCase())return{value:m,ref:p}}else if(d(m,c))return{value:m,ref:p}}}return!1}override(){this._override=!0}values(c){if(c&&c.display){const f=[];for(const w of[...this._values,...this._refs])w!==void 0&&f.push(w);return f}return Array.from([...this._values,...this._refs])}clone(){const c=new _.Values(this._values,this._refs);return c._override=this._override,c}concat(c){l(!c._override,"Cannot concat override set of values");const f=new _.Values([...this._values,...c._values],[...this._refs,...c._refs]);return f._override=this._override,f}describe(){const c=[];this._override&&c.push({override:!0});for(const f of this._values.values())c.push(f&&typeof f=="object"?{value:f}:f);for(const f of this._refs.values())c.push(f.describe());return c}},_.Values.prototype[y.symbols.values]=!0,_.Values.prototype.slice=_.Values.prototype.clone,_.lowercases=function(c){const f=new Map;if(c)for(const w of c)typeof w=="string"&&f.set(w.toLowerCase(),w);return f}},978:(i,s,a)=>{const l=a(375),d=a(8571),y=a(1687),_=a(9621),c={};i.exports=function(f,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(l(f&&typeof f=="object","Invalid defaults value: must be an object"),l(!w||w===!0||typeof w=="object","Invalid source value: must be true, falsy or an object"),l(typeof v=="object","Invalid options: must be an object"),!w)return null;if(v.shallow)return c.applyToDefaultsWithShallow(f,w,v);const p=d(f);if(w===!0)return p;const b=v.nullOverride!==void 0&&v.nullOverride;return y(p,w,{nullOverride:b,mergeArrays:!1})},c.applyToDefaultsWithShallow=function(f,w,v){const p=v.shallow;l(Array.isArray(p),"Invalid keys");const b=new Map,g=w===!0?null:new Set;for(let T of p){T=Array.isArray(T)?T:T.split(".");const x=_(f,T);x&&typeof x=="object"?b.set(x,g&&_(w,T)||x):g&&g.add(T)}const m=d(f,{},b);if(!g)return m;for(const T of g)c.reachCopy(m,w,T);const h=v.nullOverride!==void 0&&v.nullOverride;return y(m,w,{nullOverride:h,mergeArrays:!1})},c.reachCopy=function(f,w,v){for(const g of v){if(!(g in w))return;const m=w[g];if(typeof m!="object"||m===null)return;w=m}const p=w;let b=f;for(let g=0;g<v.length-1;++g){const m=v[g];typeof b[m]!="object"&&(b[m]={}),b=b[m]}b[v[v.length-1]]=p}},375:(i,s,a)=>{const l=a(7916);i.exports=function(d){if(!d){for(var y=arguments.length,_=new Array(y>1?y-1:0),c=1;c<y;c++)_[c-1]=arguments[c];throw _.length===1&&_[0]instanceof Error?_[0]:new l(_)}}},8571:(i,s,a)=>{const l=a(9621),d=a(4277),y=a(7043),_={needsProtoHack:new Set([d.set,d.map,d.weakSet,d.weakMap])};i.exports=_.clone=function(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof c!="object"||c===null)return c;let v=_.clone,p=w;if(f.shallow){if(f.shallow!==!0)return _.cloneWithShallow(c,f);v=h=>h}else if(p){const h=p.get(c);if(h)return h}else p=new Map;const b=d.getInternalProto(c);if(b===d.buffer)return!1;if(b===d.date)return new Date(c.getTime());if(b===d.regex)return new RegExp(c);const g=_.base(c,b,f);if(g===c)return c;if(p&&p.set(c,g),b===d.set)for(const h of c)g.add(v(h,f,p));else if(b===d.map)for(const[h,T]of c)g.set(h,v(T,f,p));const m=y.keys(c,f);for(const h of m){if(h==="__proto__")continue;if(b===d.array&&h==="length"){g.length=c.length;continue}const T=Object.getOwnPropertyDescriptor(c,h);T?T.get||T.set?Object.defineProperty(g,h,T):T.enumerable?g[h]=v(c[h],f,p):Object.defineProperty(g,h,{enumerable:!1,writable:!0,configurable:!0,value:v(c[h],f,p)}):Object.defineProperty(g,h,{enumerable:!0,writable:!0,configurable:!0,value:v(c[h],f,p)})}return g},_.cloneWithShallow=function(c,f){const w=f.shallow;(f=Object.assign({},f)).shallow=!1;const v=new Map;for(const p of w){const b=l(c,p);typeof b!="object"&&typeof b!="function"||v.set(b,b)}return _.clone(c,f,v)},_.base=function(c,f,w){if(w.prototype===!1)return _.needsProtoHack.has(f)?new f.constructor:f===d.array?[]:{};const v=Object.getPrototypeOf(c);if(v&&v.isImmutable)return c;if(f===d.array){const p=[];return v!==f&&Object.setPrototypeOf(p,v),p}if(_.needsProtoHack.has(f)){const p=new v.constructor;return v!==f&&Object.setPrototypeOf(p,v),p}return Object.create(v)}},9474:(i,s,a)=>{const l=a(4277),d={mismatched:null};i.exports=function(y,_,c){return c=Object.assign({prototype:!0},c),!!d.isDeepEqual(y,_,c,[])},d.isDeepEqual=function(y,_,c,f){if(y===_)return y!==0||1/y==1/_;const w=typeof y;if(w!==typeof _||y===null||_===null)return!1;if(w==="function"){if(!c.deepFunction||y.toString()!==_.toString())return!1}else if(w!=="object")return y!=y&&_!=_;const v=d.getSharedType(y,_,!!c.prototype);switch(v){case l.buffer:return!1;case l.promise:return y===_;case l.regex:return y.toString()===_.toString();case d.mismatched:return!1}for(let p=f.length-1;p>=0;--p)if(f[p].isSame(y,_))return!0;f.push(new d.SeenEntry(y,_));try{return!!d.isDeepEqualObj(v,y,_,c,f)}finally{f.pop()}},d.getSharedType=function(y,_,c){if(c)return Object.getPrototypeOf(y)!==Object.getPrototypeOf(_)?d.mismatched:l.getInternalProto(y);const f=l.getInternalProto(y);return f!==l.getInternalProto(_)?d.mismatched:f},d.valueOf=function(y){const _=y.valueOf;if(_===void 0)return y;try{return _.call(y)}catch(c){return c}},d.hasOwnEnumerableProperty=function(y,_){return Object.prototype.propertyIsEnumerable.call(y,_)},d.isSetSimpleEqual=function(y,_){for(const c of Set.prototype.values.call(y))if(!Set.prototype.has.call(_,c))return!1;return!0},d.isDeepEqualObj=function(y,_,c,f,w){const{isDeepEqual:v,valueOf:p,hasOwnEnumerableProperty:b}=d,{keys:g,getOwnPropertySymbols:m}=Object;if(y===l.array){if(!f.part){if(_.length!==c.length)return!1;for(let C=0;C<_.length;++C)if(!v(_[C],c[C],f,w))return!1;return!0}for(const C of _)for(const E of c)if(v(C,E,f,w))return!0}else if(y===l.set){if(_.size!==c.size)return!1;if(!d.isSetSimpleEqual(_,c)){const C=new Set(Set.prototype.values.call(c));for(const E of Set.prototype.values.call(_)){if(C.delete(E))continue;let A=!1;for(const P of C)if(v(E,P,f,w)){C.delete(P),A=!0;break}if(!A)return!1}}}else if(y===l.map){if(_.size!==c.size)return!1;for(const[C,E]of Map.prototype.entries.call(_))if(E===void 0&&!Map.prototype.has.call(c,C)||!v(E,Map.prototype.get.call(c,C),f,w))return!1}else if(y===l.error&&(_.name!==c.name||_.message!==c.message))return!1;const h=p(_),T=p(c);if((_!==h||c!==T)&&!v(h,T,f,w))return!1;const x=g(_);if(!f.part&&x.length!==g(c).length&&!f.skip)return!1;let k=0;for(const C of x)if(f.skip&&f.skip.includes(C))c[C]===void 0&&++k;else if(!b(c,C)||!v(_[C],c[C],f,w))return!1;if(!f.part&&x.length-k!==g(c).length)return!1;if(f.symbols!==!1){const C=m(_),E=new Set(m(c));for(const A of C){if(!f.skip||!f.skip.includes(A)){if(b(_,A)){if(!b(c,A)||!v(_[A],c[A],f,w))return!1}else if(b(c,A))return!1}E.delete(A)}for(const A of E)if(b(c,A))return!1}return!0},d.SeenEntry=class{constructor(y,_){this.obj=y,this.ref=_}isSame(y,_){return this.obj===y&&this.ref===_}}},7916:(i,s,a)=>{const l=a(8761);i.exports=class extends Error{constructor(d){super(d.filter(y=>y!=="").map(y=>typeof y=="string"?y:y instanceof Error?y.message:l(y)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s.assert)}}},5277:i=>{const s={};i.exports=function(a){if(!a)return"";let l="";for(let d=0;d<a.length;++d){const y=a.charCodeAt(d);s.isSafe(y)?l+=a[d]:l+=s.escapeHtmlChar(y)}return l},s.escapeHtmlChar=function(a){return s.namedHtml.get(a)||(a>=256?"&#"+a+";":`&#x${a.toString(16).padStart(2,"0")};`)},s.isSafe=function(a){return s.safeCharCodes.has(a)},s.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),s.safeCharCodes=function(){const a=new Set;for(let l=32;l<123;++l)(l>=97||l>=65&&l<=90||l>=48&&l<=57||l===32||l===46||l===44||l===45||l===58||l===95)&&a.add(l);return a}()},6064:i=>{i.exports=function(s){return s.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:i=>{i.exports=function(){}},1687:(i,s,a)=>{const l=a(375),d=a(8571),y=a(7043),_={};i.exports=_.merge=function(c,f,w){if(l(c&&typeof c=="object","Invalid target value: must be an object"),l(f==null||typeof f=="object","Invalid source value: must be null, undefined, or an object"),!f)return c;if(w=Object.assign({nullOverride:!0,mergeArrays:!0},w),Array.isArray(f)){l(Array.isArray(c),"Cannot merge array onto an object"),w.mergeArrays||(c.length=0);for(let p=0;p<f.length;++p)c.push(d(f[p],{symbols:w.symbols}));return c}const v=y.keys(f,w);for(let p=0;p<v.length;++p){const b=v[p];if(b==="__proto__"||!Object.prototype.propertyIsEnumerable.call(f,b))continue;const g=f[b];if(g&&typeof g=="object"){if(c[b]===g)continue;!c[b]||typeof c[b]!="object"||Array.isArray(c[b])!==Array.isArray(g)||g instanceof Date||g instanceof RegExp?c[b]=d(g,{symbols:w.symbols}):_.merge(c[b],g,w)}else(g!=null||w.nullOverride)&&(c[b]=g)}return c}},9621:(i,s,a)=>{const l=a(375),d={};i.exports=function(y,_,c){if(_===!1||_==null)return y;typeof(c=c||{})=="string"&&(c={separator:c});const f=Array.isArray(_);l(!f||!c.separator,"Separator option is not valid for array-based chain");const w=f?_:_.split(c.separator||".");let v=y;for(let p=0;p<w.length;++p){let b=w[p];const g=c.iterables&&d.iterables(v);if(Array.isArray(v)||g==="set"){const m=Number(b);Number.isInteger(m)&&(b=m<0?v.length+m:m)}if(!v||typeof v=="function"&&c.functions===!1||!g&&v[b]===void 0){l(!c.strict||p+1===w.length,"Missing segment",b,"in reach path ",_),l(typeof v=="object"||c.functions===!0||typeof v!="function","Invalid segment",b,"in reach path ",_),v=c.default;break}v=g?g==="set"?[...v][b]:v.get(b):v[b]}return v},d.iterables=function(y){return y instanceof Set?"set":y instanceof Map?"map":void 0}},8761:i=>{i.exports=function(){try{return JSON.stringify(...arguments)}catch(s){return"[Cannot display object: "+s.message+"]"}}},4277:(i,s)=>{const a={};s=i.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},a.typeMap=new Map([["[object Error]",s.error],["[object Map]",s.map],["[object Promise]",s.promise],["[object Set]",s.set],["[object WeakMap]",s.weakMap],["[object WeakSet]",s.weakSet]]),s.getInternalProto=function(l){if(Array.isArray(l))return s.array;if(l instanceof Date)return s.date;if(l instanceof RegExp)return s.regex;if(l instanceof Error)return s.error;const d=Object.prototype.toString.call(l);return a.typeMap.get(d)||s.generic}},7043:(i,s)=>{s.keys=function(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).symbols!==!1?Reflect.ownKeys(a):Object.getOwnPropertyNames(a)}},3652:(i,s,a)=>{const l=a(375),d={};s.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(y,_){const c=[].concat((_=_||{}).before||[]),f=[].concat(_.after||[]),w=_.group||"?",v=_.sort||0;l(!c.includes(w),`Item cannot come before itself: ${w}`),l(!c.includes("?"),"Item cannot come before unassociated items"),l(!f.includes(w),`Item cannot come after itself: ${w}`),l(!f.includes("?"),"Item cannot come after unassociated items"),Array.isArray(y)||(y=[y]);for(const p of y){const b={seq:this._items.length,sort:v,before:c,after:f,group:w,node:p};this._items.push(b)}if(!_.manual){const p=this._sort();l(p,"item",w!=="?"?`added into group ${w}`:"","created a dependencies error")}return this.nodes}merge(y){Array.isArray(y)||(y=[y]);for(const c of y)if(c)for(const f of c._items)this._items.push(Object.assign({},f));this._items.sort(d.mergeSort);for(let c=0;c<this._items.length;++c)this._items[c].seq=c;const _=this._sort();return l(_,"merge created a dependencies error"),this.nodes}sort(){const y=this._sort();return l(y,"sort created a dependencies error"),this.nodes}_sort(){const y={},_=Object.create(null),c=Object.create(null);for(const b of this._items){const g=b.seq,m=b.group;c[m]=c[m]||[],c[m].push(g),y[g]=b.before;for(const h of b.after)_[h]=_[h]||[],_[h].push(g)}for(const b in y){const g=[];for(const m in y[b]){const h=y[b][m];c[h]=c[h]||[],g.push(...c[h])}y[b]=g}for(const b in _)if(c[b])for(const g of c[b])y[g].push(..._[b]);const f={};for(const b in y){const g=y[b];for(const m of g)f[m]=f[m]||[],f[m].push(b)}const w={},v=[];for(let b=0;b<this._items.length;++b){let g=b;if(f[b]){g=null;for(let m=0;m<this._items.length;++m){if(w[m]===!0)continue;f[m]||(f[m]=[]);const h=f[m].length;let T=0;for(let x=0;x<h;++x)w[f[m][x]]&&++T;if(T===h){g=m;break}}}g!==null&&(w[g]=!0,v.push(g))}if(v.length!==this._items.length)return!1;const p={};for(const b of this._items)p[b.seq]=b;this._items=[],this.nodes=[];for(const b of v){const g=p[b];this.nodes.push(g.node),this._items.push(g)}return!0}},d.mergeSort=(y,_)=>y.sort===_.sort?0:y.sort<_.sort?-1:1},5380:(i,s,a)=>{const l=a(443),d=a(2178),y={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:l.URL||URL};s.analyze=function(_){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_)return d.code("DOMAIN_NON_EMPTY_STRING");if(typeof _!="string")throw new Error("Invalid input: domain must be a string");if(_.length>256)return d.code("DOMAIN_TOO_LONG");if(!!y.nonAsciiRx.test(_)){if(c.allowUnicode===!1)return d.code("DOMAIN_INVALID_UNICODE_CHARS");_=_.normalize("NFC")}if(y.domainControlRx.test(_))return d.code("DOMAIN_INVALID_CHARS");_=y.punycode(_),c.allowFullyQualified&&_[_.length-1]==="."&&(_=_.slice(0,-1));const w=c.minDomainSegments||y.minDomainSegments,v=_.split(".");if(v.length<w)return d.code("DOMAIN_SEGMENTS_COUNT");if(c.maxDomainSegments&&v.length>c.maxDomainSegments)return d.code("DOMAIN_SEGMENTS_COUNT_MAX");const p=c.tlds;if(p){const b=v[v.length-1].toLowerCase();if(p.deny&&p.deny.has(b)||p.allow&&!p.allow.has(b))return d.code("DOMAIN_FORBIDDEN_TLDS")}for(let b=0;b<v.length;++b){const g=v[b];if(!g.length)return d.code("DOMAIN_EMPTY_SEGMENT");if(g.length>63)return d.code("DOMAIN_LONG_SEGMENT");if(b<v.length-1){if(!y.domainSegmentRx.test(g))return d.code("DOMAIN_INVALID_CHARS")}else if(!y.tldSegmentRx.test(g))return d.code("DOMAIN_INVALID_TLDS_CHARS")}return null},s.isValid=function(_,c){return!s.analyze(_,c)},y.punycode=function(_){_.includes("%")&&(_=_.replace(/%/g,"%25"));try{return new y.URL(`http://${_}`).host}catch{return _}}},1745:(i,s,a)=>{const l=a(9848),d=a(5380),y=a(2178),_={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(l.TextEncoder||TextEncoder)};s.analyze=function(c,f){return _.email(c,f)},s.isValid=function(c,f){return!_.email(c,f)},_.email=function(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof c!="string")throw new Error("Invalid input: email must be a string");if(!c)return y.code("EMPTY_STRING");const w=!_.nonAsciiRx.test(c);if(!w){if(f.allowUnicode===!1)return y.code("FORBIDDEN_UNICODE");c=c.normalize("NFC")}const v=c.split("@");if(v.length!==2)return v.length>2?y.code("MULTIPLE_AT_CHAR"):y.code("MISSING_AT_CHAR");const[p,b]=v;if(!p)return y.code("EMPTY_LOCAL");if(!f.ignoreLength){if(c.length>254)return y.code("ADDRESS_TOO_LONG");if(_.encoder.encode(p).length>64)return y.code("LOCAL_TOO_LONG")}return _.local(p,w)||d.analyze(b,f)},_.local=function(c,f){const w=c.split(".");for(const v of w){if(!v.length)return y.code("EMPTY_LOCAL_SEGMENT");if(f){if(!_.atextRx.test(v))return y.code("INVALID_LOCAL_CHARS")}else for(const p of v){if(_.atextRx.test(p))continue;const b=_.binary(p);if(!_.atomRx.test(b))return y.code("INVALID_LOCAL_CHARS")}}},_.binary=function(c){return Array.from(_.encoder.encode(c)).map(f=>String.fromCharCode(f)).join("")},_.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,_.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(i,s)=>{s.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},s.code=function(a){return{code:a,error:s.codes[a]}}},9959:(i,s,a)=>{const l=a(375),d=a(5752);s.regex=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l(y.cidr===void 0||typeof y.cidr=="string","options.cidr must be a string");const _=y.cidr?y.cidr.toLowerCase():"optional";l(["required","optional","forbidden"].includes(_),"options.cidr must be one of required, optional, forbidden"),l(y.version===void 0||typeof y.version=="string"||Array.isArray(y.version),"options.version must be a string or an array of string");let c=y.version||["ipv4","ipv6","ipvfuture"];Array.isArray(c)||(c=[c]),l(c.length>=1,"options.version must have at least 1 version specified");for(let p=0;p<c.length;++p)l(typeof c[p]=="string","options.version must only contain strings"),c[p]=c[p].toLowerCase(),l(["ipv4","ipv6","ipvfuture"].includes(c[p]),"options.version contains unknown version "+c[p]+" - must be one of ipv4, ipv6, ipvfuture");c=Array.from(new Set(c));const f=c.map(p=>{if(_==="forbidden")return d.ip[p];const b=`\\/${p==="ipv4"?d.ip.v4Cidr:d.ip.v6Cidr}`;return _==="required"?`${d.ip[p]}${b}`:`${d.ip[p]}(?:${b})?`}),w=`(?:${f.join("|")})`,v=new RegExp(`^${w}$`);return{cidr:_,versions:c,regex:v,raw:w}}},5752:(i,s,a)=>{const l=a(375),d=a(6064),y={generate:function(){const _={},c="!\\$&'\\(\\)\\*\\+,;=",f="\\w-\\.~%\\dA-Fa-f"+c+":@",w="["+f+"]",v="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";_.ipv4address="(?:"+v+"\\.){3}"+v;const p="[\\dA-Fa-f]{1,4}",b="(?:"+p+":"+p+"|"+_.ipv4address+")",g="(?:"+p+":){6}"+b,m="::(?:"+p+":){5}"+b,h="(?:"+p+")?::(?:"+p+":){4}"+b,T="(?:(?:"+p+":){0,1}"+p+")?::(?:"+p+":){3}"+b,x="(?:(?:"+p+":){0,2}"+p+")?::(?:"+p+":){2}"+b,k="(?:(?:"+p+":){0,3}"+p+")?::"+p+":"+b,C="(?:(?:"+p+":){0,4}"+p+")?::"+b;_.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",_.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",_.ipv6address="(?:"+g+"|"+m+"|"+h+"|"+T+"|"+x+"|"+k+"|"+C+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",_.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+c+":]+",_.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",_.schemeRegex=new RegExp(_.scheme);const E="[\\w-\\.~%\\dA-Fa-f"+c+":]*",A="(?:\\[(?:"+_.ipv6address+"|"+_.ipvFuture+")\\]|"+_.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",P="(?:"+E+"@)?"+A+"(?::\\d*)?",N="(?:"+E+"@)?("+A+")(?::\\d*)?",$=w+"+",F="(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",j="\\/(?:"+$+F+")?",B=$+F,H="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+F;return _.hierPart="(?:(?:\\/\\/"+P+F+")|"+j+"|"+B+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",_.hierPartCapture="(?:(?:\\/\\/"+N+F+")|"+j+"|"+B+")",_.relativeRef="(?:(?:\\/\\/"+P+F+")|"+j+"|"+H+"|)",_.relativeRefCapture="(?:(?:\\/\\/"+N+F+")|"+j+"|"+H+"|)",_.query="["+f+"\\/\\?]*(?=#|$)",_.queryWithSquareBrackets="["+f+"\\[\\]\\/\\?]*(?=#|$)",_.fragment="["+f+"\\/\\?]*",_}};y.rfc3986=y.generate(),s.ip={v4Cidr:y.rfc3986.ipv4Cidr,v6Cidr:y.rfc3986.ipv6Cidr,ipv4:y.rfc3986.ipv4address,ipv6:y.rfc3986.ipv6address,ipvfuture:y.rfc3986.ipvFuture},y.createRegex=function(_){const c=y.rfc3986,f="(?:\\?"+(_.allowQuerySquareBrackets?c.queryWithSquareBrackets:c.query)+")?(?:#"+c.fragment+")?",w=_.domain?c.relativeRefCapture:c.relativeRef;if(_.relativeOnly)return y.wrap(w+f);let v="";if(_.scheme){l(_.scheme instanceof RegExp||typeof _.scheme=="string"||Array.isArray(_.scheme),"scheme must be a RegExp, String, or Array");const g=[].concat(_.scheme);l(g.length>=1,"scheme must have at least 1 scheme specified");const m=[];for(let h=0;h<g.length;++h){const T=g[h];l(T instanceof RegExp||typeof T=="string","scheme at position "+h+" must be a RegExp or String"),T instanceof RegExp?m.push(T.source.toString()):(l(c.schemeRegex.test(T),"scheme at position "+h+" must be a valid scheme"),m.push(d(T)))}v=m.join("|")}const p="(?:"+(v?"(?:"+v+")":c.scheme)+":"+(_.domain?c.hierPartCapture:c.hierPart)+")",b=_.allowRelative?"(?:"+p+"|"+w+")":p;return y.wrap(b+f,v)},y.wrap=function(_,c){return{raw:_=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${_}`,regex:new RegExp(`^${_}$`),scheme:c}},y.uriRegex=y.createRegex({}),s.regex=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _.scheme||_.allowRelative||_.relativeOnly||_.allowQuerySquareBrackets||_.domain?y.createRegex(_):y.uriRegex}},1447:(i,s)=>{const a={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};s.Parser=class{constructor(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!d[a.settings]&&d.constants)for(const y in d.constants){const _=d.constants[y];if(_!==null&&!["boolean","number","string"].includes(typeof _))throw new Error(`Formula constant ${y} contains invalid ${typeof _} value type`)}this.settings=d[a.settings]?d:Object.assign({[a.settings]:!0,constants:{},functions:{}},d),this.single=null,this._parts=null,this._parse(l)}_parse(l){let d=[],y="",_=0,c=!1;const f=v=>{if(_)throw new Error("Formula missing closing parenthesis");const p=d.length?d[d.length-1]:null;if(c||y||v){if(p&&p.type==="reference"&&v===")")return p.type="function",p.value=this._subFormula(y,p.value),void(y="");if(v===")"){const b=new s.Parser(y,this.settings);d.push({type:"segment",value:b})}else if(c){if(c==="]")return d.push({type:"reference",value:y}),void(y="");d.push({type:"literal",value:y})}else if(a.operatorCharacters.includes(y))p&&p.type==="operator"&&a.operators.includes(p.value+y)?p.value+=y:d.push({type:"operator",value:y});else if(y.match(a.numberRx))d.push({type:"constant",value:parseFloat(y)});else if(this.settings.constants[y]!==void 0)d.push({type:"constant",value:this.settings.constants[y]});else{if(!y.match(a.tokenRx))throw new Error(`Formula contains invalid token: ${y}`);d.push({type:"reference",value:y})}y=""}};for(const v of l)c?v===c?(f(),c=!1):y+=v:_?v==="("?(y+=v,++_):v===")"?(--_,_?y+=v:f(v)):y+=v:v in a.literals?c=a.literals[v]:v==="("?(f(),++_):a.operatorCharacters.includes(v)?(f(),y=v,f()):v!==" "?y+=v:f();f(),d=d.map((v,p)=>v.type!=="operator"||v.value!=="-"||p&&d[p-1].type!=="operator"?v:{type:"operator",value:"n"});let w=!1;for(const v of d){if(v.type==="operator"){if(a.operatorsPrefix.includes(v.value))continue;if(!w)throw new Error("Formula contains an operator in invalid position");if(!a.operators.includes(v.value))throw new Error(`Formula contains an unknown operator ${v.value}`)}else if(w)throw new Error("Formula missing expected operator");w=!w}if(!w)throw new Error("Formula contains invalid trailing operator");d.length===1&&["reference","literal","constant"].includes(d[0].type)&&(this.single={type:d[0].type==="reference"?"reference":"value",value:d[0].value}),this._parts=d.map(v=>{if(v.type==="operator")return a.operatorsPrefix.includes(v.value)?v:v.value;if(v.type!=="reference")return v.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(v.value))throw new Error(`Formula contains invalid reference ${v.value}`);return this.settings.reference?this.settings.reference(v.value):a.reference(v.value)})}_subFormula(l,d){const y=this.settings.functions[d];if(typeof y!="function")throw new Error(`Formula contains unknown function ${d}`);let _=[];if(l){let c="",f=0,w=!1;const v=()=>{if(!c)throw new Error(`Formula contains function ${d} with invalid arguments ${l}`);_.push(c),c=""};for(let p=0;p<l.length;++p){const b=l[p];w?(c+=b,b===w&&(w=!1)):b in a.literals&&!f?(c+=b,w=a.literals[b]):b!==","||f?(c+=b,b==="("?++f:b===")"&&--f):v()}v()}return _=_.map(c=>new s.Parser(c,this.settings)),function(c){const f=[];for(const w of _)f.push(w.evaluate(c));return y.call(c,...f)}}evaluate(l){const d=this._parts.slice();for(let y=d.length-2;y>=0;--y){const _=d[y];if(_&&_.type==="operator"){const c=d[y+1];d.splice(y+1,1);const f=a.evaluate(c,l);d[y]=a.single(_.value,f)}}return a.operatorsOrder.forEach(y=>{for(let _=1;_<d.length-1;)if(y.includes(d[_])){const c=d[_],f=a.evaluate(d[_-1],l),w=a.evaluate(d[_+1],l);d.splice(_,2);const v=a.calculate(c,f,w);d[_-1]=v===0?0:v}else _+=2}),a.evaluate(d[0],l)}},s.Parser.prototype[a.symbol]=!0,a.reference=function(l){return function(d){return d&&d[l]!==void 0?d[l]:null}},a.evaluate=function(l,d){return l===null?null:typeof l=="function"?l(d):l[a.symbol]?l.evaluate(d):l},a.single=function(l,d){if(l==="!")return!d;const y=-d;return y===0?0:y},a.calculate=function(l,d,y){if(l==="??")return a.exists(d)?d:y;if(typeof d=="string"||typeof y=="string"){if(l==="+")return(d=a.exists(d)?d:"")+(a.exists(y)?y:"")}else switch(l){case"^":return Math.pow(d,y);case"*":return d*y;case"/":return d/y;case"%":return d%y;case"+":return d+y;case"-":return d-y}switch(l){case"<":return d<y;case"<=":return d<=y;case">":return d>y;case">=":return d>=y;case"==":return d===y;case"!=":return d!==y;case"&&":return d&&y;case"||":return d||y}return null},a.exists=function(l){return l!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:i=>{i.exports={version:"17.7.0"}}},r={},function i(s){var a=r[s];if(a!==void 0)return a.exports;var l=r[s]={exports:{}};return n[s](l,l.exports,i),l.exports}(5107);var n,r})})(j$);const ye=jp;function U$(e){const t={};return e.forEach(n=>{(n.kind==="text"||n.kind==="link")&&(t[n.key]=ye.string().allow("")),n.kind==="list"&&(t[n.key]=ye.array().allow(""))}),t}function B$(e){return ye.object().keys({id:ye.string().allow(""),civId:ye.string().allow(""),description:ye.string().allow("").required(),graphic:ye.string().allow(""),date:ye.string().allow(""),time:ye.string().allow(""),time_precision:ye.string().allow(""),location:ye.string().allow(""),latitude:ye.string().allow(""),longitude:ye.string().allow(""),x:ye.string().allow(""),y:ye.string().allow(""),z:ye.string().allow(""),type:ye.string().allow(""),category:ye.string().allow(""),category_full:ye.string().allow(""),associations:ye.array().default([]),sources:ye.array(),comments:ye.string().allow(""),time_display:ye.string().allow(""),narrative___stepStyles:ye.array(),shape:ye.string().allow(""),colour:ye.string().allow(""),...U$(e)}).and("latitude","longitude").or("date","latitude")}const H$=ye.object().keys({id:ye.string().required(),description:ye.string().allow("").required(),site:ye.string().required(),latitude:ye.string().required(),longitude:ye.string().required(),enabled:ye.string().allow("")}),W$=ye.object().keys({id:ye.string().allow("").required(),title:ye.string().allow("").required(),desc:ye.string().allow(""),mode:ye.string().allow("").required(),filter_paths:ye.array()}),q$=ye.object().keys({id:ye.string().required(),title:ye.string().allow(""),thumbnail:ye.string().allow(""),paths:ye.array().required(),type:ye.string().allow(""),affil_s:ye.array().allow(""),url:ye.string().allow(""),description:ye.string().allow(""),parent:ye.string().allow(""),author:ye.string().allow(""),date:ye.string().allow(""),notes:ye.string().allow("")}),V$=ye.object().keys({name:ye.string().required(),items:ye.array().required()}),Z$=ye.object().keys({id:ye.string().allow(""),title:ye.string().allow(""),shape:ye.string().allow(""),colour:ye.string().allow("")});function js(e,t,n){return{type:"error",id:t,message:`${e} ${t}: ${n}`}}function G$(e){return e instanceof Date&&!isNaN(e)}function Y$(e){const t=new Set([]),n=[];return e.forEach(r=>{t.has(r.id)?n.push({id:r.id,error:js("Association",r.id,"association was found more than once. Ignoring duplicate.")}):t.add(r.id)}),n}function K$(e,t){const n={events:[],sites:[],associations:[],sources:{},regions:[],shapes:[],notifications:e?e.notifications:null};if(e===void 0)return n;const r={events:[],sites:[],associations:[],sources:[],regions:[],shapes:[]};function i(y,_,c){const f=c.validate(y);if(f.error!=null){const w=y.id||"-",v=P0(_),p=js(v,w,f.error.message);r[_].push(Object.assign(y,{error:p}))}else n[_].push(y)}function s(y,_,c){y.forEach(f=>{_==="events"&&f.date===""&&f.time===""||i(f,_,c)})}function a(y,_,c){Object.keys(y).forEach(f=>{if(f==="")return;const w=y[f],v=c.validate(w);if(v.error!=null){const p=w.id||"-",b=P0(_);r[_].push({...w,error:js(b,p,v.error.message)})}else n[_][f]=w})}Array.isArray(t.CUSTOM_EVENT_FIELDS)||(t.CUSTOM_EVENT_FIELDS=[]);const l=B$(t.CUSTOM_EVENT_FIELDS);s(e.events,"events",l),s(e.sites,"sites",H$),s(e.associations,"associations",W$),a(e.sources,"sources",q$),s(e.regions,"regions",V$),s(e.shapes,"shapes",Z$),n.regions=n.regions.map(y=>({name:y.name,points:y.items.map(_=>_.replace(/\s/g,"").split(","))})),n.shapes=n.shapes.reduce((y,_)=>(_.shape?y.push(_):r.shapes.push({..._,error:js("events",_.id,"Invalid event shape. Please specify a shape for this type of event.")}),y),[]);const d=Y$(e.associations);return d.length>0&&n.notifications.push({message:"Associations are required to be unique. Ignoring duplicates for now.",items:d,type:"error"}),n.associations=e.associations,n.events=n.events.filter((y,_)=>{let c="";if(y.civId=y.id,y.id=_,y.associations=y.associations.reduce((f,w)=>{const v=n.associations.find(p=>p.id===w);return v&&f.push(v),f},[]),y.shape){const f=n.shapes.find(w=>w.id===y.shape);f?y.shape=f:c="Failed to find related shape. Please verify shape type for event."}return y.latitude=y.latitude.replace(",","."),y.longitude=y.longitude.replace(",","."),y.datetime=oD(y.date,y.time),G$(y.datetime)||(c="Invalid date. It's been dropped, as otherwise timemap won't work as expected."),c?(r.events.push({...y,error:js("events",y.id,c)}),!1):!0}),n.events.sort((y,_)=>y.datetime-_.datetime),Object.keys(r).forEach(y=>{const _=r[y].length;_&&n.notifications.push({message:`${_} invalid ${y} not displayed.`,items:r[y],type:"error"})}),n}function X$(e,t){return{...e,...K$(t.payload.domain,t.payload.features)}}function Q$(e,t){return{...e,notifications:e.notifications.map(n=>({...n,isRead:!0}))}}function J$(e=sd.domain,t){switch(t.type){case bg:return X$(e,t);case Ug:return Q$(e);default:return e}}function e3(e,t){return Object.assign({},e,{highlighted:t.highlighted})}function t3(e,t){return{...e,timeline:{...e.timeline,dimensions:{...e.timeline.dimensions,ticks:t.ticks}}}}function n3(e,t){return Object.assign({},e,{selected:t.selected})}function r3(e,t){return{...e,associations:{...e.associations,coloringSet:t.coloringSet}}}function i3(e,t){let[n,r]=Jg(e);const i=[180,180],s=[-180,-180];if(t.narrative){[n,r]=fE(e),t.narrative.steps.forEach(l=>{const d=l.datetime;d<n&&(n=d),d>r&&(r=d),l.longitude&&l.latitude&&(+l.longitude<i[1]&&(i[1]=+l.longitude),+l.longitude>s[1]&&(s[1]=+l.longitude),+l.latitude<i[0]&&(i[0]=+l.latitude),+l.latitude>s[0]&&(s[0]=+l.latitude))});const a=t.narrative.steps[0];if(a.longitude&&a.latitude){const l=Math.abs(+a.longitude-i[1]),d=Math.abs(+a.longitude-s[1]),y=Math.abs(+a.latitude-i[0]),_=Math.abs(+a.latitude-s[0]);l>d&&(s[1]=+a.longitude+l),l<d&&(i[1]=+a.longitude-d),y>_&&(s[0]=+a.latitude+y),y<_&&(i[0]=+a.latitude-_)}n=n-Math.abs((r-n)/10),r=r+Math.abs((r-n)/10)}return{...e,associations:{...e.associations,narrative:t.narrative},map:{...e.map,bounds:t.narrative?[i,s]:null},timeline:{...e.timeline,range:{...e.timeline.range,current:[n,r]}}}}function o3(e,t){return{...e,narrativeState:{current:t.idx}}}function s3(e,t){t.value instanceof Array||(t.value=[t.value]);const{association:n}=t;let r=e.associations[n].slice(0);return t.value.forEach(i=>{r.includes(i)?r=r.filter(s=>s!==i):r.push(i)}),{...e,associations:{...e.associations,[n]:r}}}function a3(e,t){let n=[...e.shapes];if(n.includes(t.shape)){const r=n.indexOf(t.shape);n.splice(r,1)}else n.push(t.shape);return{...e,shapes:n}}function l3(e,t){return{...e,filters:{...e.filters,[t.filter]:[]}}}function u3(e,t){return{...e,timeline:{...e.timeline,range:{...e.timeline.range,current:[new Date(t.timerange[0]).toISOString(),new Date(t.timerange[1]).toISOString()]}}}}function c3(e,t){return{...e,timeline:{...e.timeline,dimensions:{...e.timeline.dimensions,...t.dims}}}}function d3(e,t){const n=e.language==="es-MX"?"en-US":"es-MX";return Object.assign({},e,{language:t.language||n})}function f3(e,t){return{...e,source:t.source}}function h3(e,t){return{...e,error:t.message,notifications:[{type:"error",message:t.message}]}}const p3=Qi("isShowingSites"),m3=Qi("isFetchingDomain"),g3=Qi("isFetchingSources"),v3=Qi("isInfopopup"),y3=Qi("isIntropopup"),_3=Qi("isNotification"),w3=Qi("isCover");function b3(e,t){return{...e,errors:{...e.errors,source:t.msg}}}function T3(e){return{...e,loading:!0}}function S3(e){return{...e,loading:!1}}function E3(e,t){const n=t.values.reduce((r,i)=>(i.mode===Yn.CATEGORY&&r.push(i.title),r),[]);return{...e,associations:{...e.associations,categories:n}}}function x3(e,t){const n=t.values.map(r=>r.id);return{...e,shapes:n}}function k3(e,t){return{...e,searchQuery:t.searchQuery}}function C3(e,t){return{...e,currentArtillery:t.currentArtillery}}function P3(e,t){return{...e,currentMilitaryPositions:t.currentMilitaryPositions}}function A3(e=sd.app,t){switch(t.type){case Tg:return e3(e,t);case td:return n3(e,t);case id:return r3(e,t);case Ng:return t3(e,t);case Sg:return l3(e,t);case nd:return s3(e,t);case Eg:return a3(e,t);case rd:return u3(e,t);case Ag:return c3(e,t);case Lg:return i3(e,t);case Ig:return o3(e,t);case Rg:return f3(e,t);case Zg:return C3(e,t);case Gg:return P3(e,t);case $g:return d3(e,t);case Og:return p3(e);case Mg:return m3(e);case Dg:return g3(e);case Fg:return v3(e);case zg:return y3(e);case jg:return _3(e);case Bg:return w3(e);case wg:return h3(e,t);case qg:return b3(e,t);case xg:return T3(e);case kg:return S3(e);case Cg:return E3(e,t);case Pg:return x3(e,t);case Wg:return k3(e,t);default:return e}}function L3(e=sd.ui,t){switch(t.type){case Hg:return{...e,tiles:{...e.tiles,current:e.tiles.current===e.tiles.satellite?e.tiles.default:e.tiles.satellite}};default:return e}}function I3(e=sd.features,t){return e}function R3(e,t){return(n,r)=>t({...e(n,r)},r)}const N3=R3(R$,nS({app:A3,domain:J$,ui:L3,features:I3})),O3=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qm,M3=Yc(N3,O3(Ep(P2),Ep(I$)));var Du={},D3={get exports(){return Du},set exports(e){Du=e}},Rf,F0;function $3(){if(F0)return Rf;F0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rf=e,Rf}var Nf,z0;function F3(){if(z0)return Nf;z0=1;var e=$3();function t(){}function n(){}return n.resetWarningCache=t,Nf=function(){function r(a,l,d,y,_,c){if(c!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Nf}var j0;function De(){return j0||(j0=1,D3.exports=F3()()),Du}var z3=De();const Tr=dc(z3);function ov(e){return t=>!!t.type&&t.type.tabsRole===e}const ad=ov("Tab"),sv=ov("TabList"),av=ov("TabPanel");function j3(e){return ad(e)||sv(e)||av(e)}function Up(e,t){return te.Children.map(e,n=>n===null?null:j3(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"?te.cloneElement(n,{...n.props,children:Up(n.props.children,t)}):n)}function wE(e,t){return te.Children.forEach(e,n=>{n!==null&&(ad(n)||av(n)?t(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(sv(n)&&t(n),wE(n.props.children,t)))})}function bE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=bE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function lv(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=bE(e))&&(r&&(r+=" "),r+=t);return r}function TE(e){let t=0;return wE(e,n=>{ad(n)&&t++}),t}function SE(e){return e&&"getAttribute"in e}function U0(e){return SE(e)&&e.getAttribute("data-rttab")}function Ci(e){return SE(e)&&e.getAttribute("aria-disabled")==="true"}let $u;function U3(e){const t=e||(typeof window<"u"?window:void 0);try{$u=!!(typeof t<"u"&&t.document&&t.document.activeElement)}catch{$u=!1}}const B3={className:"react-tabs",focus:!1},uv=e=>{let t=te.useRef([]),n=te.useRef([]);const r=te.useRef();function i(F,j){if(F<0||F>=y())return;const{onSelect:B,selectedIndex:H}=e;B(F,H,j)}function s(F){const j=y();for(let B=F+1;B<j;B++)if(!Ci(_(B)))return B;for(let B=0;B<F;B++)if(!Ci(_(B)))return B;return F}function a(F){let j=F;for(;j--;)if(!Ci(_(j)))return j;for(j=y();j-- >F;)if(!Ci(_(j)))return j;return F}function l(){const F=y();for(let j=0;j<F;j++)if(!Ci(_(j)))return j;return null}function d(){let F=y();for(;F--;)if(!Ci(_(F)))return F;return null}function y(){const{children:F}=e;return TE(F)}function _(F){return t.current[`tabs-${F}`]}function c(){let F=0;const{children:j,disabledTabClassName:B,focus:H,forceRenderTabPanel:U,selectedIndex:W,selectedTabClassName:Y,selectedTabPanelClassName:G,environment:J}=e;n.current=n.current||[];let oe=n.current.length-y();const ce=te.useId();for(;oe++<0;)n.current.push(`${ce}${n.current.length}`);return Up(j,fe=>{let de=fe;if(sv(fe)){let ue=0,be=!1;$u==null&&U3(J);const re=J||(typeof window<"u"?window:void 0);$u&&re&&(be=wt.Children.toArray(fe.props.children).filter(ad).some((M,z)=>re.document.activeElement===_(z))),de=te.cloneElement(fe,{children:Up(fe.props.children,M=>{const z=`tabs-${ue}`,q=W===ue,Z={tabRef:Q=>{t.current[z]=Q},id:n.current[ue],selected:q,focus:q&&(H||be)};return Y&&(Z.selectedClassName=Y),B&&(Z.disabledClassName=B),ue++,te.cloneElement(M,Z)})})}else if(av(fe)){const ue={id:n.current[F],selected:W===F};U&&(ue.forceRender=U),G&&(ue.selectedClassName=G),F++,de=te.cloneElement(fe,ue)}return de})}function f(F){const{direction:j,disableUpDownKeys:B,disableLeftRightKeys:H}=e;if(v(F.target)){let{selectedIndex:U}=e,W=!1,Y=!1;(F.code==="Space"||F.keyCode===32||F.code==="Enter"||F.keyCode===13)&&(W=!0,Y=!1,w(F)),!H&&(F.keyCode===37||F.code==="ArrowLeft")||!B&&(F.keyCode===38||F.code==="ArrowUp")?(j==="rtl"?U=s(U):U=a(U),W=!0,Y=!0):!H&&(F.keyCode===39||F.code==="ArrowRight")||!B&&(F.keyCode===40||F.code==="ArrowDown")?(j==="rtl"?U=a(U):U=s(U),W=!0,Y=!0):F.keyCode===35||F.code==="End"?(U=d(),W=!0,Y=!0):(F.keyCode===36||F.code==="Home")&&(U=l(),W=!0,Y=!0),W&&F.preventDefault(),Y&&i(U,F)}}function w(F){let j=F.target;do if(v(j)){if(Ci(j))return;const B=[].slice.call(j.parentNode.children).filter(U0).indexOf(j);i(B,F);return}while((j=j.parentNode)!=null)}function v(F){if(!U0(F))return!1;let j=F.parentElement;do{if(j===r.current)return!0;if(j.getAttribute("data-rttabs"))break;j=j.parentElement}while(j);return!1}const{children:p,className:b,disabledTabClassName:g,domRef:m,focus:h,forceRenderTabPanel:T,onSelect:x,selectedIndex:k,selectedTabClassName:C,selectedTabPanelClassName:E,environment:A,disableUpDownKeys:P,disableLeftRightKeys:N,...$}=e;return wt.createElement("div",Object.assign({},$,{className:lv(b),onClick:w,onKeyDown:f,ref:F=>{r.current=F,m&&m(F)},"data-rttabs":!0}),c())};uv.defaultProps=B3;uv.propTypes={};const H3=0,Vl=1,W3={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},q3=e=>e.selectedIndex===null?Vl:H3,ld=e=>{const{children:t,defaultFocus:n,defaultIndex:r,focusTabOnClick:i,onSelect:s}=e,[a,l]=te.useState(n),[d]=te.useState(q3(e)),[y,_]=te.useState(d===Vl?r||0:null);if(te.useEffect(()=>{l(!1)},[]),d===Vl){const w=TE(t);te.useEffect(()=>{if(y!=null){const v=Math.max(0,w-1);_(Math.min(y,v))}},[w])}const c=(w,v,p)=>{typeof s=="function"&&s(w,v,p)===!1||(i&&l(!0),d===Vl&&_(w))};let f={...e};return f.focus=a,f.onSelect=c,y!=null&&(f.selectedIndex=y),delete f.defaultFocus,delete f.defaultIndex,delete f.focusTabOnClick,wt.createElement(uv,f,t)};ld.propTypes={};ld.defaultProps=W3;ld.tabsRole="Tabs";const V3={className:"react-tabs__tab-list"},ud=e=>{const{children:t,className:n,...r}=e;return wt.createElement("ul",Object.assign({},r,{className:lv(n),role:"tablist"}),t)};ud.tabsRole="TabList";ud.propTypes={};ud.defaultProps=V3;const B0="react-tabs__tab-panel",Z3={className:B0,forceRender:!1,selectedClassName:`${B0}--selected`},Sr=e=>{const{children:t,className:n,forceRender:r,id:i,selected:s,selectedClassName:a,...l}=e;return wt.createElement("div",Object.assign({},l,{className:lv(n,{[a]:s}),role:"tabpanel",id:`panel${i}`,"aria-labelledby":`tab${i}`}),r||s?t:null)};Sr.tabsRole="TabPanel";Sr.propTypes={};Sr.defaultProps=Z3;const EE=({label:e,isActive:t,onClickCheckbox:n,color:r,styleProps:i})=>{const s=r||nD,a={checkboxStyles:{background:t?s:"none",border:`1px solid ${s}`}},l=i?i.containerStyles:{},d=i?i.checkboxStyles:a.checkboxStyles,y=e.toLowerCase().replaceAll(" ","-"),_=c=>{c.stopPropagation(),n(c)};return ee("div",{className:t?"item active":"item",onClick:_,children:[O("button",{id:y,onClick:_,children:O("div",{className:"border",style:l,children:O("div",{className:"checkbox",style:d})})}),O("label",{htmlFor:y,style:{color:r},children:e})]})};function xE(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ts=xE();function G3(e){ts=e}const kE=/[&<>"']/,Y3=new RegExp(kE.source,"g"),CE=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,K3=new RegExp(CE.source,"g"),X3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},H0=e=>X3[e];function Ft(e,t){if(t){if(kE.test(e))return e.replace(Y3,H0)}else if(CE.test(e))return e.replace(K3,H0);return e}const Q3=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function PE(e){return e.replace(Q3,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const J3=/(^|[^\[])\^/g;function Ye(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(J3,"$1"),e=e.replace(r,i),n),getRegex:()=>new RegExp(e,t)};return n}const eF=/[^\w:]/g,tF=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function W0(e,t,n){if(e){let r;try{r=decodeURIComponent(PE(n)).replace(eF,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!tF.test(n)&&(n=oF(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const kl={},nF=/^[^:]+:\/*[^/]*$/,rF=/^([^:]+:)[\s\S]*$/,iF=/^([^:]+:\/*[^/]*)[\s\S]*$/;function oF(e,t){kl[" "+e]||(nF.test(e)?kl[" "+e]=e+"/":kl[" "+e]=Zl(e,"/",!0)),e=kl[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(rF,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(iF,"$1")+t:e+t}const Fu={exec:function(){}};function Xn(e){let t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function q0(e,t){const n=e.replace(/\|/g,(s,a,l)=>{let d=!1,y=a;for(;--y>=0&&l[y]==="\\";)d=!d;return d?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Zl(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r;){const s=e.charAt(r-i-1);if(s===t&&!n)i++;else if(s!==t&&n)i++;else break}return e.slice(0,r-i)}function sF(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function AE(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function V0(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Z0(e,t,n,r){const i=t.href,s=t.title?Ft(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:s,text:Ft(a)}}function aF(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}class cv{constructor(t){this.options=t||ts}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Zl(r,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],i=aF(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Zl(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:s,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r,i,s,a,l,d,y,_,c,f,w,v,p=n[1].trim();const b=p.length>1,g={type:"list",raw:"",ordered:b,start:b?+p.slice(0,-1):"",loose:!1,items:[]};p=b?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=b?p:"[*+-]");const m=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(v=!1,!(!(n=m.exec(t))||this.rules.block.hr.test(t)));){if(r=n[0],t=t.substring(r.length),_=n[2].split(`
`,1)[0].replace(/^\t+/,T=>" ".repeat(3*T.length)),c=t.split(`
`,1)[0],this.options.pedantic?(a=2,w=_.trimLeft()):(a=n[2].search(/[^ ]/),a=a>4?1:a,w=_.slice(a),a+=n[1].length),d=!1,!_&&/^ *$/.test(c)&&(r+=c+`
`,t=t.substring(c.length+1),v=!0),!v){const T=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),k=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;t&&(f=t.split(`
`,1)[0],c=f,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(k.test(c)||C.test(c)||T.test(c)||x.test(t)));){if(c.search(/[^ ]/)>=a||!c.trim())w+=`
`+c.slice(a);else{if(d||_.search(/[^ ]/)>=4||k.test(_)||C.test(_)||x.test(_))break;w+=`
`+c}!d&&!c.trim()&&(d=!0),r+=f+`
`,t=t.substring(f.length+1),_=c.slice(a)}}g.loose||(y?g.loose=!0:/\n *\n *$/.test(r)&&(y=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(w),i&&(s=i[0]!=="[ ] ",w=w.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:r,task:!!i,checked:s,loose:!1,text:w}),g.raw+=r}g.items[g.items.length-1].raw=r.trimRight(),g.items[g.items.length-1].text=w.trimRight(),g.raw=g.raw.trimRight();const h=g.items.length;for(l=0;l<h;l++)if(this.lexer.state.top=!1,g.items[l].tokens=this.lexer.blockTokens(g.items[l].text,[]),!g.loose){const T=g.items[l].tokens.filter(k=>k.type==="space"),x=T.length>0&&T.some(k=>/\n.*\n/.test(k.raw));g.loose=x}if(g.loose)for(l=0;l<h;l++)g.items[l].loose=!0;return g}}html(t){const n=this.rules.block.html.exec(t);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):Ft(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(t){const n=this.rules.block.table.exec(t);if(n){const r={type:"table",header:q0(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,s,a,l,d;for(s=0;s<i;s++)/^ *-+: *$/.test(r.align[s])?r.align[s]="right":/^ *:-+: *$/.test(r.align[s])?r.align[s]="center":/^ *:-+ *$/.test(r.align[s])?r.align[s]="left":r.align[s]=null;for(i=r.rows.length,s=0;s<i;s++)r.rows[s]=q0(r.rows[s],r.header.length).map(y=>({text:y}));for(i=r.header.length,a=0;a<i;a++)r.header[a].tokens=this.lexer.inline(r.header[a].text);for(i=r.rows.length,a=0;a<i;a++)for(d=r.rows[a],l=0;l<d.length;l++)d[l].tokens=this.lexer.inline(d[l].text);return r}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Ft(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ft(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const a=Zl(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=sF(n[2],"()");if(a>-1){const d=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,d).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Z0(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Z0(r,i,r[0],this.lexer)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(t);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(r===""||this.rules.inline.punctuation.exec(r))){const a=i[0].length-1;let l,d,y=a,_=0;const c=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,n=n.slice(-1*t.length+a);(i=c.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(d=l.length,i[3]||i[4]){y+=d;continue}else if((i[5]||i[6])&&a%3&&!((a+d)%3)){_+=d;continue}if(y-=d,y>0)continue;d=Math.min(d,d+y+_);const f=t.slice(0,a+i.index+(i[0].length-l.length)+d);if(Math.min(a,d)%2){const v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}const w=f.slice(2,-2);return{type:"strong",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Ft(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const r=this.rules.inline.autolink.exec(t);if(r){let i,s;return r[2]==="@"?(i=Ft(this.options.mangle?n(r[1]):r[1]),s="mailto:"+i):(i=Ft(r[1]),s=i),{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(t,n){let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=Ft(this.options.mangle?n(r[0]):r[0]),s="mailto:"+i;else{let a;do a=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(a!==r[0]);i=Ft(r[0]),r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t,n){const r=this.rules.inline.text.exec(t);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ft(r[0]):r[0]:i=Ft(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const Te={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Fu,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Te._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Te._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Te.def=Ye(Te.def).replace("label",Te._label).replace("title",Te._title).getRegex();Te.bullet=/(?:[*+-]|\d{1,9}[.)])/;Te.listItemStart=Ye(/^( *)(bull) */).replace("bull",Te.bullet).getRegex();Te.list=Ye(Te.list).replace(/bull/g,Te.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Te.def.source+")").getRegex();Te._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Te._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Te.html=Ye(Te.html,"i").replace("comment",Te._comment).replace("tag",Te._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Te.paragraph=Ye(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.blockquote=Ye(Te.blockquote).replace("paragraph",Te.paragraph).getRegex();Te.normal=Xn({},Te);Te.gfm=Xn({},Te.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Te.gfm.table=Ye(Te.gfm.table).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.gfm.paragraph=Ye(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Te.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.pedantic=Xn({},Te.normal,{html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Te._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ye(Te.normal._paragraph).replace("hr",Te.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Te.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const me={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Fu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Fu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};me._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";me.punctuation=Ye(me.punctuation).replace(/punctuation/g,me._punctuation).getRegex();me.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;me.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;me._comment=Ye(Te._comment).replace("(?:-->|$)","-->").getRegex();me.emStrong.lDelim=Ye(me.emStrong.lDelim).replace(/punct/g,me._punctuation).getRegex();me.emStrong.rDelimAst=Ye(me.emStrong.rDelimAst,"g").replace(/punct/g,me._punctuation).getRegex();me.emStrong.rDelimUnd=Ye(me.emStrong.rDelimUnd,"g").replace(/punct/g,me._punctuation).getRegex();me._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;me._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;me._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;me.autolink=Ye(me.autolink).replace("scheme",me._scheme).replace("email",me._email).getRegex();me._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;me.tag=Ye(me.tag).replace("comment",me._comment).replace("attribute",me._attribute).getRegex();me._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;me._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;me._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;me.link=Ye(me.link).replace("label",me._label).replace("href",me._href).replace("title",me._title).getRegex();me.reflink=Ye(me.reflink).replace("label",me._label).replace("ref",Te._label).getRegex();me.nolink=Ye(me.nolink).replace("ref",Te._label).getRegex();me.reflinkSearch=Ye(me.reflinkSearch,"g").replace("reflink",me.reflink).replace("nolink",me.nolink).getRegex();me.normal=Xn({},me);me.pedantic=Xn({},me.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",me._label).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",me._label).getRegex()});me.gfm=Xn({},me.normal,{escape:Ye(me.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});me.gfm.url=Ye(me.gfm.url,"i").replace("email",me.gfm._extended_email).getRegex();me.breaks=Xn({},me.gfm,{br:Ye(me.br).replace("{2,}","*").getRegex(),text:Ye(me.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function lF(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function G0(e){let t="",n,r;const i=e.length;for(n=0;n<i;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}class Fr{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ts,this.options.tokenizer=this.options.tokenizer||new cv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Te.normal,inline:me.normal};this.options.pedantic?(n.block=Te.pedantic,n.inline=me.pedantic):this.options.gfm&&(n.block=Te.gfm,this.options.breaks?n.inline=me.breaks:n.inline=me.gfm),this.tokenizer.rules=n}static get rules(){return{block:Te,inline:me}}static lex(t,n){return new Fr(n).lex(t)}static lexInline(t,n){return new Fr(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,d,y)=>d+"    ".repeat(y.length));let r,i,s,a;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const d=t.slice(1);let y;this.options.extensions.startBlock.forEach(function(_){y=_.call({lexer:this},d),typeof y=="number"&&y>=0&&(l=Math.min(l,y))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=n[n.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),a=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,i,s,a=t,l,d,y;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)_.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+V0("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+V0("a",l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(a))!=null;)a=a.slice(0,l.index+l[0].length-2)+"++"+a.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(d||(y=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(r=_.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,a,y)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t,G0)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,G0))){t=t.substring(r.raw.length),n.push(r);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const c=t.slice(1);let f;this.options.extensions.startInline.forEach(function(w){f=w.call({lexer:this},c),typeof f=="number"&&f>=0&&(_=Math.min(_,f))}),_<1/0&&_>=0&&(s=t.substring(0,_+1))}if(r=this.tokenizer.inlineText(s,lF)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(y=r.raw.slice(-1)),d=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(t){const _="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return n}}class dv{constructor(t){this.options=t||ts}code(t,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(t,i);s!=null&&s!==t&&(r=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ft(i)+'">'+(r?t:Ft(t,!0))+`</code></pre>
`:"<pre><code>"+(r?t:Ft(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,r,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(r);return`<h${n} id="${s}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,r){const i=n?"ol":"ul",s=n&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+t+"</"+i+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+t+`</${r}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,r){if(t=W0(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let i='<a href="'+t+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(t,n,r){if(t=W0(this.options.sanitize,this.options.baseUrl,t),t===null)return r;let i=`<img src="${t}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(t){return t}}class LE{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class IE{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let r=t,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[t];do i++,r=t+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[t]=i,this.seen[r]=0),r}slug(t,n={}){const r=this.serialize(t);return this.getNextSafeSlug(r,n.dryrun)}}class cr{constructor(t){this.options=t||ts,this.options.renderer=this.options.renderer||new dv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new LE,this.slugger=new IE}static parse(t,n){return new cr(n).parse(t)}static parseInline(t,n){return new cr(n).parseInline(t)}parse(t,n=!0){let r="",i,s,a,l,d,y,_,c,f,w,v,p,b,g,m,h,T,x,k;const C=t.length;for(i=0;i<C;i++){if(w=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[w.type]&&(k=this.options.extensions.renderers[w.type].call({parser:this},w),k!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(w.type))){r+=k||"";continue}switch(w.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(w.tokens),w.depth,PE(this.parseInline(w.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(w.text,w.lang,w.escaped);continue}case"table":{for(c="",_="",l=w.header.length,s=0;s<l;s++)_+=this.renderer.tablecell(this.parseInline(w.header[s].tokens),{header:!0,align:w.align[s]});for(c+=this.renderer.tablerow(_),f="",l=w.rows.length,s=0;s<l;s++){for(y=w.rows[s],_="",d=y.length,a=0;a<d;a++)_+=this.renderer.tablecell(this.parseInline(y[a].tokens),{header:!1,align:w.align[a]});f+=this.renderer.tablerow(_)}r+=this.renderer.table(c,f);continue}case"blockquote":{f=this.parse(w.tokens),r+=this.renderer.blockquote(f);continue}case"list":{for(v=w.ordered,p=w.start,b=w.loose,l=w.items.length,f="",s=0;s<l;s++)m=w.items[s],h=m.checked,T=m.task,g="",m.task&&(x=this.renderer.checkbox(h),b?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x}):g+=x),g+=this.parse(m.tokens,b),f+=this.renderer.listitem(g,T,h);r+=this.renderer.list(f,v,p);continue}case"html":{r+=this.renderer.html(w.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(w.tokens));continue}case"text":{for(f=w.tokens?this.parseInline(w.tokens):w.text;i+1<C&&t[i+1].type==="text";)w=t[++i],f+=`
`+(w.tokens?this.parseInline(w.tokens):w.text);r+=n?this.renderer.paragraph(f):f;continue}default:{const E='Token with "'+w.type+'" type was not found.';if(this.options.silent){console.error(E);return}else throw new Error(E)}}}return r}parseInline(t,n){n=n||this.renderer;let r="",i,s,a;const l=t.length;for(i=0;i<l;i++){if(s=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){r+=a||"";continue}switch(s.type){case"escape":{r+=n.text(s.text);break}case"html":{r+=n.html(s.text);break}case"link":{r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{r+=n.image(s.href,s.title,s.text);break}case"strong":{r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(s.tokens,n));break}case"text":{r+=n.text(s.text);break}default:{const d='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return r}}function _e(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=Xn({},_e.defaults,t||{}),AE(t),n){const i=t.highlight;let s;try{s=Fr.lex(e,t)}catch(d){return n(d)}const a=function(d){let y;if(!d)try{t.walkTokens&&_e.walkTokens(s,t.walkTokens),y=cr.parse(s,t)}catch(_){d=_}return t.highlight=i,d?n(d):n(null,y)};if(!i||i.length<3||(delete t.highlight,!s.length))return a();let l=0;_e.walkTokens(s,function(d){d.type==="code"&&(l++,setTimeout(()=>{i(d.text,d.lang,function(y,_){if(y)return a(y);_!=null&&_!==d.text&&(d.text=_,d.escaped=!0),l--,l===0&&a()})},0))}),l===0&&a();return}function r(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ft(i.message+"",!0)+"</pre>";throw i}try{const i=Fr.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(_e.walkTokens(i,t.walkTokens)).then(()=>cr.parse(i,t)).catch(r);_e.walkTokens(i,t.walkTokens)}return cr.parse(i,t)}catch(i){r(i)}}_e.options=_e.setOptions=function(e){return Xn(_e.defaults,e),G3(_e.defaults),_e};_e.getDefaults=xE;_e.defaults=ts;_e.use=function(...e){const t=_e.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const r=Xn({},n);if(r.async=_e.defaults.async||r.async,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:t.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[i.level]?t[i.level].unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){const i=_e.defaults.renderer||new dv;for(const s in n.renderer){const a=i[s];i[s]=(...l)=>{let d=n.renderer[s].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}r.renderer=i}if(n.tokenizer){const i=_e.defaults.tokenizer||new cv;for(const s in n.tokenizer){const a=i[s];i[s]=(...l)=>{let d=n.tokenizer[s].apply(i,l);return d===!1&&(d=a.apply(i,l)),d}}r.tokenizer=i}if(n.walkTokens){const i=_e.defaults.walkTokens;r.walkTokens=function(s){let a=[];return a.push(n.walkTokens.call(this,s)),i&&(a=a.concat(i.call(this,s))),a}}_e.setOptions(r)})};_e.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(_e,r)),r.type){case"table":{for(const i of r.header)n=n.concat(_e.walkTokens(i.tokens,t));for(const i of r.rows)for(const s of i)n=n.concat(_e.walkTokens(s.tokens,t));break}case"list":{n=n.concat(_e.walkTokens(r.items,t));break}default:_e.defaults.extensions&&_e.defaults.extensions.childTokens&&_e.defaults.extensions.childTokens[r.type]?_e.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(_e.walkTokens(r[i],t))}):r.tokens&&(n=n.concat(_e.walkTokens(r.tokens,t)))}return n};_e.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Xn({},_e.defaults,t||{}),AE(t);try{const n=Fr.lexInline(e,t);return t.walkTokens&&_e.walkTokens(n,t.walkTokens),cr.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ft(n.message+"",!0)+"</pre>";throw n}};_e.Parser=cr;_e.parser=cr.parse;_e.Renderer=dv;_e.TextRenderer=LE;_e.Lexer=Fr;_e.lexer=Fr.lex;_e.Tokenizer=cv;_e.Slugger=IE;_e.parse=_e;_e.options;_e.setOptions;_e.use;_e.walkTokens;_e.parseInline;cr.parse;Fr.lex;function RE(e,t){const[n,r]=e,i=t.includes(n),s=Object.entries(r).flatMap(a=>RE(a,t)).filter(a=>t.includes(a)===i);return s.push(n),s}function uF({filters:e,activeFilters:t,onSelectFilter:n,language:r,coloringSet:i,filterColors:s,title:a,description:l}){function d(_,c){const[f,w]=_,v=BS(f),p=RE(_,t),b=GS(f,i),g=b!==-1&&t.includes(f)?s[b]:"",m={color:g,marginLeft:`${c*20}px`};return ee("li",{className:"filter-filter",style:{...m},children:[O(EE,{label:v,isActive:t.includes(f),onClickCheckbox:h=>{h.preventDefault(),n(f,p)},color:g}),Object.keys(w).length>0?O("ul",{children:Object.entries(w).map(h=>d(h,c+1))}):null]},v.replace(/ /g,"_"))}function y(_){const c=HS(_);return O("div",{className:"scrolled-area",children:Object.entries(c).map(f=>d(f,0))})}return ee("div",{children:[O("div",{className:"sticky-header",children:O("h2",{children:a})}),O("div",{className:"panel-description",dangerouslySetInnerHTML:{__html:_e(l)}}),y(e)]})}const NE=({data:e,activeValues:t,onSelect:n,type:r})=>{const i=r===Yn.CATEGORY?"title":"id";return O("div",{children:e.map(s=>O("li",{className:"filter-filter active",children:O(EE,{label:s.title,isActive:t.includes(s[i]),onClickCheckbox:()=>n(s[i]),styleProps:s.styles})},s.title.replace(/ /g,"_")))})},cF=({categories:e,activeCategories:t,onCategoryFilter:n,language:r,title:i,description:s})=>ee("div",{className:"react-innertabpanel",children:[O("h2",{children:i}),O("p",{dangerouslySetInnerHTML:{__html:_e(s)}}),O(NE,{data:e,activeValues:t,onSelect:n,type:Yn.CATEGORY})]}),dF=({shapes:e,activeShapes:t,onShapeFilter:n,language:r,title:i,description:s})=>{const a=yD(e,t);return ee("div",{className:"react-innertabpanel",children:[O("h2",{children:i}),O("p",{dangerouslySetInnerHTML:{__html:_e(s)}}),O(NE,{data:a,activeValues:t,onSelect:n,type:US})]})},fF=({isActive:e,isDisabled:t,onClickHandler:n})=>{let r=e?"action-button enabled":"action-button";return t&&(r="action-button disabled"),O("button",{className:r,onClick:n,children:O("i",{className:"material-icons",children:"location_on"})})},hF=({isActive:e,isDisabled:t,onClickHandler:n})=>{let r=e?"action-button enabled":"action-button";return t&&(r="action-button disabled"),O("button",{className:r,onClick:n,children:O("i",{className:"material-icons",children:"home"})})};function pF(e){function t(){return ee(gn,{children:[O("div",{className:"bottom-action-block",children:e.features.USE_SITES?O(fF,{isActive:e.sites.enabled,onClickHandler:e.sites.toggle}):null}),O("div",{className:"botttom-action-block",children:e.features.USE_COVER?O(hF,{onClickHandler:e.cover.toggle}):null}),ee("div",{style:{fontSize:9,paddingTop:10},children:["Made with"," ",O("a",{href:"https://github.com/bellingcat/ukraine-timemap",children:" TimeMap "}),O("br",{}),"Free software made by ",O("br",{})," ",O("a",{href:"https://forensic-architecture.org",children:" Forensic Architecture "}),O("br",{}),"and",O("a",{href:"https://www.bellingcat.com/",children:" Bellingcat "})]})]})}return O("div",{className:"bottom-actions",children:t()})}function zu({isActive:e,iconKey:t,onClick:n,label:r,children:i}){return O("div",{className:e?"toolbar-tab active":"toolbar-tab",onClick:n,children:i||ee(gn,{children:[O("i",{className:"material-icons",children:t}),O("div",{className:"tab-caption",children:r})]})},t)}zu.tabsRole="Tab";const Y0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ar=(()=>{if(typeof document>"u")return!1;const e=Y0[0],t={};for(const n of Y0)if((n==null?void 0:n[1])in document){for(const[i,s]of n.entries())t[e[i]]=s;return t}return!1})(),K0={change:Ar.fullscreenchange,error:Ar.fullscreenerror};let fn={request(e=document.documentElement,t){return new Promise((n,r)=>{const i=()=>{fn.off("change",i),n()};fn.on("change",i);const s=e[Ar.requestFullscreen](t);s instanceof Promise&&s.then(i).catch(r)})},exit(){return new Promise((e,t)=>{if(!fn.isFullscreen){e();return}const n=()=>{fn.off("change",n),e()};fn.on("change",n);const r=document[Ar.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},toggle(e,t){return fn.isFullscreen?fn.exit():fn.request(e,t)},onchange(e){fn.on("change",e)},onerror(e){fn.on("error",e)},on(e,t){const n=K0[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=K0[e];n&&document.removeEventListener(n,t,!1)},raw:Ar};Object.defineProperties(fn,{isFullscreen:{get:()=>Boolean(document[Ar.fullscreenElement])},element:{enumerable:!0,get:()=>document[Ar.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[Ar.fullscreenEnabled])}});Ar||(fn={isEnabled:!1});const Vr=fn;let mF=class extends te.Component{constructor(t){super(t),this.onFullscreenStateChange=this.onFullscreenStateChange.bind(this),this.state={isFullscreen:Vr.isFullscreen}}componentDidMount(){Vr.on&&Vr.on("change",this.onFullscreenStateChange)}componentWillUnmount(){Vr.off&&Vr.off("change",this.onFullscreenStateChange)}onFullscreenStateChange(t){this.setState({isFullscreen:Vr.isFullscreen})}onToggleFullscreen(){Vr.toggle().catch(console.warn)}render(){if(!Vr.isEnabled)return null;const{language:t}=this.props,{isFullscreen:n}=this.state;return O(zu,{isActive:n,label:n?ze[t].toolbar.fullscreen_exit:ze[t].toolbar.fullscreen_enter,iconKey:n?"fullscreen_exit":"fullscreen",onClick:this.onToggleFullscreen})}};var gF="Expected a function",OE="__lodash_hash_undefined__",ME=1/0,vF="[object Function]",yF="[object GeneratorFunction]",_F="[object Symbol]",wF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bF=/^\w*$/,TF=/^\./,SF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EF=/[\\^$.*+?()[\]{}|]/g,xF=/\\(\\)?/g,kF=/^\[object .+?Constructor\]$/,CF=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,PF=typeof self=="object"&&self&&self.Object===Object&&self,fv=CF||PF||Function("return this")();function AF(e,t){return e==null?void 0:e[t]}function LF(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var IF=Array.prototype,RF=Function.prototype,DE=Object.prototype,Of=fv["__core-js_shared__"],X0=function(){var e=/[^.]+$/.exec(Of&&Of.keys&&Of.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$E=RF.toString,hv=DE.hasOwnProperty,FE=DE.toString,NF=RegExp("^"+$E.call(hv).replace(EF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q0=fv.Symbol,OF=IF.splice,MF=zE(fv,"Map"),Ta=zE(Object,"create"),J0=Q0?Q0.prototype:void 0,ew=J0?J0.toString:void 0;function Zi(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function DF(){this.__data__=Ta?Ta(null):{}}function $F(e){return this.has(e)&&delete this.__data__[e]}function FF(e){var t=this.__data__;if(Ta){var n=t[e];return n===OE?void 0:n}return hv.call(t,e)?t[e]:void 0}function zF(e){var t=this.__data__;return Ta?t[e]!==void 0:hv.call(t,e)}function jF(e,t){var n=this.__data__;return n[e]=Ta&&t===void 0?OE:t,this}Zi.prototype.clear=DF;Zi.prototype.delete=$F;Zi.prototype.get=FF;Zi.prototype.has=zF;Zi.prototype.set=jF;function ns(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function UF(){this.__data__=[]}function BF(e){var t=this.__data__,n=cd(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():OF.call(t,n,1),!0}function HF(e){var t=this.__data__,n=cd(t,e);return n<0?void 0:t[n][1]}function WF(e){return cd(this.__data__,e)>-1}function qF(e,t){var n=this.__data__,r=cd(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}ns.prototype.clear=UF;ns.prototype.delete=BF;ns.prototype.get=HF;ns.prototype.has=WF;ns.prototype.set=qF;function Ji(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function VF(){this.__data__={hash:new Zi,map:new(MF||ns),string:new Zi}}function ZF(e){return dd(this,e).delete(e)}function GF(e){return dd(this,e).get(e)}function YF(e){return dd(this,e).has(e)}function KF(e,t){return dd(this,e).set(e,t),this}Ji.prototype.clear=VF;Ji.prototype.delete=ZF;Ji.prototype.get=GF;Ji.prototype.has=YF;Ji.prototype.set=KF;function cd(e,t){for(var n=e.length;n--;)if(a4(e[n][0],t))return n;return-1}function XF(e,t){t=t4(t,e)?[t]:e4(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[o4(t[n++])];return n&&n==r?e:void 0}function QF(e){if(!UE(e)||r4(e))return!1;var t=l4(e)||LF(e)?NF:kF;return t.test(s4(e))}function JF(e){if(typeof e=="string")return e;if(mv(e))return ew?ew.call(e):"";var t=e+"";return t=="0"&&1/e==-ME?"-0":t}function e4(e){return jE(e)?e:i4(e)}function dd(e,t){var n=e.__data__;return n4(t)?n[typeof t=="string"?"string":"hash"]:n.map}function zE(e,t){var n=AF(e,t);return QF(n)?n:void 0}function t4(e,t){if(jE(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||mv(e)?!0:bF.test(e)||!wF.test(e)||t!=null&&e in Object(t)}function n4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function r4(e){return!!X0&&X0 in e}var i4=pv(function(e){e=c4(e);var t=[];return TF.test(e)&&t.push(""),e.replace(SF,function(n,r,i,s){t.push(i?s.replace(xF,"$1"):r||n)}),t});function o4(e){if(typeof e=="string"||mv(e))return e;var t=e+"";return t=="0"&&1/e==-ME?"-0":t}function s4(e){if(e!=null){try{return $E.call(e)}catch{}try{return e+""}catch{}}return""}function pv(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(gF);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a),a};return n.cache=new(pv.Cache||Ji),n}pv.Cache=Ji;function a4(e,t){return e===t||e!==e&&t!==t}var jE=Array.isArray;function l4(e){var t=UE(e)?FE.call(e):"";return t==vF||t==yF}function UE(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function u4(e){return!!e&&typeof e=="object"}function mv(e){return typeof e=="symbol"||u4(e)&&FE.call(e)==_F}function c4(e){return e==null?"":JF(e)}function d4(e,t,n){var r=e==null?void 0:XF(e,t);return r===void 0?n:r}var tw=d4;function Mf(e){return e==null?"":`${e}`}function f4(e={}){return e.separator?e.decimals?t=>t.toFixed(e.decimals).replace(".",e.separator):t=>`${t}`.replace(".",e.separator):e.decimals?t=>t.toFixed(e.decimals):t=>`${t}`}function gv(e={}){const t=typeof e.quote=="string"?e.quote:'"',n=typeof e.escapedQuote=="string"?e.escapedQuote:`${t}${t}`;return!t||t===n?r=>r:r=>(r.includes(t)&&(r=r.replace(new RegExp(t,"g"),n)),`${t}${r}${t}`)}function h4(e={stringFormatter:gv()}){return t=>e.stringFormatter(t.toString().slice(7,-1))}function p4(e={stringFormatter:gv()}){return t=>t===null||(t=JSON.stringify(t),t===void 0)?"":(t[0]==='"'&&(t=t.replace(/^"(.+)"$/,"$1")),e.stringFormatter(t))}function nw(e,t,n){const r=e[t];return r===void 0?n:r}function BE(e,t){try{return Array.isArray(t)?e.push(...t):e.push(t),e}catch{return e.concat(t)}}function Bp(e,t){let n=!0;return e.reduce((r,i)=>(i==null&&(i=""),n?(n=!1,`${i}`):`${r}${t}${i}`),"")}class m4{constructor(t){this.opts=this.preprocessOpts(t)}preprocessOpts(t){const n=Object.assign({},t);n.fields&&(n.fields=this.preprocessFieldsInfo(n.fields,n.defaultValue)),n.transforms=n.transforms||[];const r=n.formatters&&n.formatters.string||gv(),i=p4({stringFormatter:r}),s={header:r,undefined:Mf,boolean:Mf,number:f4(),bigint:Mf,string:r,symbol:h4({stringFormatter:r}),function:i,object:i};return n.formatters={...s,...n.formatters},n.delimiter=n.delimiter||",",n.eol=n.eol||`
`,n.header=n.header!==!1,n.includeEmptyRows=n.includeEmptyRows||!1,n.withBOM=n.withBOM||!1,n}preprocessFieldsInfo(t,n){return t.map(r=>{if(typeof r=="string")return{label:r,value:r.includes(".")||r.includes("[")?i=>tw(i,r,n):i=>nw(i,r,n)};if(typeof r=="object"){const i="default"in r?r.default:n;if(typeof r.value=="string")return{label:r.label||r.value,value:r.value.includes(".")||r.value.includes("[")?s=>tw(s,r.value,i):s=>nw(s,r.value,i)};if(typeof r.value=="function"){const s=r.label||r.value.name||"",a={label:s,default:i};return{label:s,value(l){const d=r.value(l,a);return d??i}}}}throw new Error("Invalid field info option. "+JSON.stringify(r))})}getHeader(){return Bp(this.opts.fields.map(t=>this.opts.formatters.header(t.label)),this.opts.delimiter)}preprocessRow(t){return this.opts.transforms.reduce((n,r)=>n.map(i=>r(i)).reduce(BE,[]),[t])}processRow(t){if(!t)return;const n=this.opts.fields.map(r=>this.processCell(t,r));if(!(!this.opts.includeEmptyRows&&n.every(r=>r==="")))return Bp(n,this.opts.delimiter)}processCell(t,n){return this.processValue(n.value(t))}processValue(t){return this.opts.formatters[typeof t](t)}}class g4 extends m4{constructor(t){super(t)}parse(t){const n=this.preprocessData(t);this.opts.fields=this.opts.fields||this.preprocessFieldsInfo(n.reduce((a,l)=>(Object.keys(l).forEach(d=>{a.includes(d)||a.push(d)}),a),[]));const r=this.opts.header?this.getHeader():"",i=this.processData(n);return(this.opts.withBOM?"\uFEFF":"")+r+(r&&i?this.opts.eol:"")+i}preprocessData(t){const n=Array.isArray(t)?t:[t];if(!this.opts.fields&&(n.length===0||typeof n[0]!="object"))throw new Error('Data should not be empty or the "fields" option should be included');return this.opts.transforms.length===0?n:n.map(r=>this.preprocessRow(r)).reduce(BE,[])}processData(t){return Bp(t.map(n=>this.processRow(n)).filter(n=>n),this.opts.eol)}}var Lt;(function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.FORM_FEED=12]="FORM_FEED",e[e.NEWLINE=10]="NEWLINE",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.TAB=9]="TAB",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.DOLLAR_SIGN=36]="DOLLAR_SIGN",e[e.PERCENT_SIGN=37]="PERCENT_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.LEFT_PARENTHESIS=40]="LEFT_PARENTHESIS",e[e.RIGHT_PARENTHESIS=41]="RIGHT_PARENTHESIS",e[e.ASTERISK=42]="ASTERISK",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.COMMA=44]="COMMA",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.FULL_STOP=46]="FULL_STOP",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_ZERO=48]="DIGIT_ZERO",e[e.DIGIT_ONE=49]="DIGIT_ONE",e[e.DIGIT_TWO=50]="DIGIT_TWO",e[e.DIGIT_THREE=51]="DIGIT_THREE",e[e.DIGIT_FOUR=52]="DIGIT_FOUR",e[e.DIGIT_FIVE=53]="DIGIT_FIVE",e[e.DIGIT_SIX=54]="DIGIT_SIX",e[e.DIGIT_SEVEN=55]="DIGIT_SEVEN",e[e.DIGIT_EIGHT=56]="DIGIT_EIGHT",e[e.DIGIT_NINE=57]="DIGIT_NINE",e[e.COLON=58]="COLON",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.COMMERCIAL_AT=64]="COMMERCIAL_AT",e[e.LATIN_CAPITAL_LETTER_A=65]="LATIN_CAPITAL_LETTER_A",e[e.LATIN_CAPITAL_LETTER_B=66]="LATIN_CAPITAL_LETTER_B",e[e.LATIN_CAPITAL_LETTER_C=67]="LATIN_CAPITAL_LETTER_C",e[e.LATIN_CAPITAL_LETTER_D=68]="LATIN_CAPITAL_LETTER_D",e[e.LATIN_CAPITAL_LETTER_E=69]="LATIN_CAPITAL_LETTER_E",e[e.LATIN_CAPITAL_LETTER_F=70]="LATIN_CAPITAL_LETTER_F",e[e.LATIN_CAPITAL_LETTER_G=71]="LATIN_CAPITAL_LETTER_G",e[e.LATIN_CAPITAL_LETTER_H=72]="LATIN_CAPITAL_LETTER_H",e[e.LATIN_CAPITAL_LETTER_I=73]="LATIN_CAPITAL_LETTER_I",e[e.LATIN_CAPITAL_LETTER_J=74]="LATIN_CAPITAL_LETTER_J",e[e.LATIN_CAPITAL_LETTER_K=75]="LATIN_CAPITAL_LETTER_K",e[e.LATIN_CAPITAL_LETTER_L=76]="LATIN_CAPITAL_LETTER_L",e[e.LATIN_CAPITAL_LETTER_M=77]="LATIN_CAPITAL_LETTER_M",e[e.LATIN_CAPITAL_LETTER_N=78]="LATIN_CAPITAL_LETTER_N",e[e.LATIN_CAPITAL_LETTER_O=79]="LATIN_CAPITAL_LETTER_O",e[e.LATIN_CAPITAL_LETTER_P=80]="LATIN_CAPITAL_LETTER_P",e[e.LATIN_CAPITAL_LETTER_Q=81]="LATIN_CAPITAL_LETTER_Q",e[e.LATIN_CAPITAL_LETTER_R=82]="LATIN_CAPITAL_LETTER_R",e[e.LATIN_CAPITAL_LETTER_S=83]="LATIN_CAPITAL_LETTER_S",e[e.LATIN_CAPITAL_LETTER_T=84]="LATIN_CAPITAL_LETTER_T",e[e.LATIN_CAPITAL_LETTER_U=85]="LATIN_CAPITAL_LETTER_U",e[e.LATIN_CAPITAL_LETTER_V=86]="LATIN_CAPITAL_LETTER_V",e[e.LATIN_CAPITAL_LETTER_W=87]="LATIN_CAPITAL_LETTER_W",e[e.LATIN_CAPITAL_LETTER_X=88]="LATIN_CAPITAL_LETTER_X",e[e.LATIN_CAPITAL_LETTER_Y=89]="LATIN_CAPITAL_LETTER_Y",e[e.LATIN_CAPITAL_LETTER_Z=90]="LATIN_CAPITAL_LETTER_Z",e[e.LEFT_SQUARE_BRACKET=91]="LEFT_SQUARE_BRACKET",e[e.REVERSE_SOLIDUS=92]="REVERSE_SOLIDUS",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.CIRCUMFLEX_ACCENT=94]="CIRCUMFLEX_ACCENT",e[e.LOW_LINE=95]="LOW_LINE",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_LETTER_A=97]="LATIN_SMALL_LETTER_A",e[e.LATIN_SMALL_LETTER_B=98]="LATIN_SMALL_LETTER_B",e[e.LATIN_SMALL_LETTER_C=99]="LATIN_SMALL_LETTER_C",e[e.LATIN_SMALL_LETTER_D=100]="LATIN_SMALL_LETTER_D",e[e.LATIN_SMALL_LETTER_E=101]="LATIN_SMALL_LETTER_E",e[e.LATIN_SMALL_LETTER_F=102]="LATIN_SMALL_LETTER_F",e[e.LATIN_SMALL_LETTER_G=103]="LATIN_SMALL_LETTER_G",e[e.LATIN_SMALL_LETTER_H=104]="LATIN_SMALL_LETTER_H",e[e.LATIN_SMALL_LETTER_I=105]="LATIN_SMALL_LETTER_I",e[e.LATIN_SMALL_LETTER_J=106]="LATIN_SMALL_LETTER_J",e[e.LATIN_SMALL_LETTER_K=107]="LATIN_SMALL_LETTER_K",e[e.LATIN_SMALL_LETTER_L=108]="LATIN_SMALL_LETTER_L",e[e.LATIN_SMALL_LETTER_M=109]="LATIN_SMALL_LETTER_M",e[e.LATIN_SMALL_LETTER_N=110]="LATIN_SMALL_LETTER_N",e[e.LATIN_SMALL_LETTER_O=111]="LATIN_SMALL_LETTER_O",e[e.LATIN_SMALL_LETTER_P=112]="LATIN_SMALL_LETTER_P",e[e.LATIN_SMALL_LETTER_Q=113]="LATIN_SMALL_LETTER_Q",e[e.LATIN_SMALL_LETTER_R=114]="LATIN_SMALL_LETTER_R",e[e.LATIN_SMALL_LETTER_S=115]="LATIN_SMALL_LETTER_S",e[e.LATIN_SMALL_LETTER_T=116]="LATIN_SMALL_LETTER_T",e[e.LATIN_SMALL_LETTER_U=117]="LATIN_SMALL_LETTER_U",e[e.LATIN_SMALL_LETTER_V=118]="LATIN_SMALL_LETTER_V",e[e.LATIN_SMALL_LETTER_W=119]="LATIN_SMALL_LETTER_W",e[e.LATIN_SMALL_LETTER_X=120]="LATIN_SMALL_LETTER_X",e[e.LATIN_SMALL_LETTER_Y=121]="LATIN_SMALL_LETTER_Y",e[e.LATIN_SMALL_LETTER_Z=122]="LATIN_SMALL_LETTER_Z",e[e.LEFT_CURLY_BRACKET=123]="LEFT_CURLY_BRACKET",e[e.VERTICAL_LINE=124]="VERTICAL_LINE",e[e.RIGHT_CURLY_BRACKET=125]="RIGHT_CURLY_BRACKET",e[e.TILDE=126]="TILDE"})(Lt||(Lt={}));Lt.QUOTATION_MARK+"",Lt.QUOTATION_MARK,Lt.REVERSE_SOLIDUS+"",Lt.REVERSE_SOLIDUS,Lt.SOLIDUS+"",Lt.SOLIDUS,Lt.LATIN_SMALL_LETTER_B+"",Lt.BACKSPACE,Lt.LATIN_SMALL_LETTER_F+"",Lt.FORM_FEED,Lt.LATIN_SMALL_LETTER_N+"",Lt.NEWLINE,Lt.LATIN_SMALL_LETTER_R+"",Lt.CARRIAGE_RETURN,Lt.LATIN_SMALL_LETTER_T+"",Lt.TAB;var rw;(function(e){e[e.LEFT_BRACE=1]="LEFT_BRACE",e[e.RIGHT_BRACE=2]="RIGHT_BRACE",e[e.LEFT_BRACKET=3]="LEFT_BRACKET",e[e.RIGHT_BRACKET=4]="RIGHT_BRACKET",e[e.COLON=5]="COLON",e[e.COMMA=6]="COMMA",e[e.TRUE=7]="TRUE",e[e.FALSE=8]="FALSE",e[e.NULL=9]="NULL",e[e.STRING=10]="STRING",e[e.NUMBER=11]="NUMBER",e[e.SEPARATOR=12]="SEPARATOR"})(rw||(rw={}));var iw;(function(e){e[e.START=0]="START",e[e.ENDED=1]="ENDED",e[e.ERROR=2]="ERROR",e[e.TRUE1=3]="TRUE1",e[e.TRUE2=4]="TRUE2",e[e.TRUE3=5]="TRUE3",e[e.FALSE1=6]="FALSE1",e[e.FALSE2=7]="FALSE2",e[e.FALSE3=8]="FALSE3",e[e.FALSE4=9]="FALSE4",e[e.NULL1=10]="NULL1",e[e.NULL2=11]="NULL2",e[e.NULL3=12]="NULL3",e[e.STRING_DEFAULT=13]="STRING_DEFAULT",e[e.STRING_AFTER_BACKSLASH=14]="STRING_AFTER_BACKSLASH",e[e.STRING_UNICODE_DIGIT_1=15]="STRING_UNICODE_DIGIT_1",e[e.STRING_UNICODE_DIGIT_2=16]="STRING_UNICODE_DIGIT_2",e[e.STRING_UNICODE_DIGIT_3=17]="STRING_UNICODE_DIGIT_3",e[e.STRING_UNICODE_DIGIT_4=18]="STRING_UNICODE_DIGIT_4",e[e.STRING_INCOMPLETE_CHAR=19]="STRING_INCOMPLETE_CHAR",e[e.NUMBER_AFTER_INITIAL_MINUS=20]="NUMBER_AFTER_INITIAL_MINUS",e[e.NUMBER_AFTER_INITIAL_ZERO=21]="NUMBER_AFTER_INITIAL_ZERO",e[e.NUMBER_AFTER_INITIAL_NON_ZERO=22]="NUMBER_AFTER_INITIAL_NON_ZERO",e[e.NUMBER_AFTER_FULL_STOP=23]="NUMBER_AFTER_FULL_STOP",e[e.NUMBER_AFTER_DECIMAL=24]="NUMBER_AFTER_DECIMAL",e[e.NUMBER_AFTER_E=25]="NUMBER_AFTER_E",e[e.NUMBER_AFTER_E_AND_SIGN=26]="NUMBER_AFTER_E_AND_SIGN",e[e.NUMBER_AFTER_E_AND_DIGIT=27]="NUMBER_AFTER_E_AND_DIGIT",e[e.SEPARATOR=28]="SEPARATOR"})(iw||(iw={}));var ow;(function(e){e[e.VALUE=0]="VALUE",e[e.KEY=1]="KEY",e[e.COLON=2]="COLON",e[e.COMMA=3]="COMMA",e[e.ENDED=4]="ENDED",e[e.ERROR=5]="ERROR",e[e.SEPARATOR=6]="SEPARATOR"})(ow||(ow={}));var sw;(function(e){e[e.OBJECT=0]="OBJECT",e[e.ARRAY=1]="ARRAY"})(sw||(sw={}));class Df extends te.Component{onDownload(t,n){let r=`ukr-civharm-${qo().format("YYYY-MM-DD")}`;if(t==="api")window.open(Gt.API_DATA,"_blank");else if(t==="csv"){let i=this.getCsvData(n);I0(`${r}.csv`,i)}else if(t==="json"){let i=this.getJsonData(n);I0(`${r}.json`,i)}}getCsvData(t){const{events:n,sources:r}=t,i=n.map(a=>({id:a.civId,date:a.date,latitude:a.latitude,longitude:a.longitude,location:a.location,description:a.description,sources:a.sources.map(l=>r[l].paths[0]).join(","),associations:a.associations.map(l=>l.filter_paths.join("=")).join(",")}));return new g4().parse(i,{flatten:!0})}getJsonData(t){const{events:n,sources:r}=t,i=n.map(s=>({id:s.civId,date:s.date,latitude:s.latitude,longitude:s.longitude,location:s.location,description:s.description,sources:s.sources.map(a=>{const l=r[a];return{id:a,path:l.paths[0],description:l.description}}),filters:s.associations.map(a=>({key:a.filter_paths[0],value:a.filter_paths[1]}))}));return JSON.stringify(i)}render(){const{language:t,domain:n,format:r}=this.props,i=ze[t].toolbar.download.panel.formats[r];return ee("div",{className:"download-row",children:[ee("span",{className:"download-button",onClick:()=>this.onDownload(r,n),children:[O("i",{className:"material-icons",children:"download"}),O("span",{className:"tab-caption",children:i.label})]},`download-${r}`),O("span",{className:"download-description",children:i.description})]})}}const v4=({language:e,title:t,description:n,domain:r})=>ee("div",{className:"react-innertabpanel",children:[O("div",{className:"sticky-header",children:O("h2",{children:t})}),O("div",{className:"panel-description",dangerouslySetInnerHTML:{__html:n}}),O("hr",{}),O(Df,{language:e,domain:r,format:"api"}),O(Df,{language:e,domain:r,format:"csv"}),O(Df,{language:e,domain:r,format:"json"})]});class y4 extends te.Component{constructor(t){super(t),this.onSelectFilter=this.onSelectFilter.bind(this),this.state={_selected:0,_active:!1}}selectTab(t){let n=!0;this.state._selected===t&&this.state._active===!0&&(n=!1),this.setState({_selected:t,_active:n})}onSelectFilter(t,n){const{filters:r,activeFilters:i,coloringSet:s,maxNumOfColors:a}=this.props,l=lD(t);if(i.includes(t)){if(l&&i.includes(l)){const _=uD(r,l,t);let c=!0;for(const f of _)if(i.includes(f)){c=!1;break}if(c){const f=mg(t).filter(w=>i.includes(w));n=n.concat(f)}}const y=dD(s,n);this.props.actions.updateColoringSet(y)}else{const y=cD(s,n);y.length<=a&&this.props.actions.updateColoringSet(y)}this.props.methods.onSelectFilter(n),this.props.actions.updateSelected([])}renderClosePanel(){return O("div",{className:"panel-header",onClick:()=>this.selectTab(this.state._selected),children:O("div",{className:"caret"})})}goToNarrative(t){this.props.methods.onSelectNarrative(t)}renderToolbarNarrativePanel(){const{panels:t}=this.props.toolbarCopy;return ee(Sr,{children:[O("h2",{children:t.narratives.label}),O("p",{children:t.narratives.description}),this.props.narratives.map(n=>O("div",{className:"panel-action action",children:ee("button",{onClick:()=>{this.goToNarrative(n)},children:[O("p",{children:n.id}),O("p",{children:O("small",{children:aD(n.desc,120)})})]})},n.id))]})}renderToolbarCategoriesPanel(){const{categories:t}=this.props.toolbarCopy.panels,n=_D(this.props.categories,Object.keys(t));return O("div",{children:Object.keys(n).map(r=>{const i=n[r];return O(Sr,{children:O(cF,{categories:i,activeCategories:this.props.activeCategories,onCategoryFilter:this.props.methods.onCategoryFilter,language:this.props.language,title:t[r].label,description:t[r].description})},r)})})}renderToolbarFilterPanel(){const{panels:t}=this.props.toolbarCopy;return O(Sr,{children:O(uF,{filters:this.props.filters,activeFilters:this.props.activeFilters,onSelectFilter:this.onSelectFilter,language:this.props.language,coloringSet:this.props.coloringSet,filterColors:this.props.filterColors,title:t.filters.label,description:t.filters.description})})}renderToolbarShapePanel(){const{panels:t}=this.props.toolbarCopy;if(this.props.features.USE_SHAPES)return O(Sr,{children:O(dF,{shapes:this.props.shapes,activeShapes:this.props.activeShapes,onShapeFilter:this.props.methods.onShapeFilter,language:this.props.language,title:t.shapes.label,description:t.shapes.description})})}renderToolbarDownloadPanel(){const{panels:t}=this.props.toolbarCopy;return O(Sr,{children:O(v4,{language:this.props.language,title:t.download.label,description:t.download.description,domain:this.props.domain})})}renderToolbarArtilleryPanel(){const{panels:t}=this.props.toolbarCopy;return ee(Sr,{children:[ee("hgroup",{children:[ee("h3",{children:[" ",t.artillery.label," "]}),ee("p",{children:[" ",t.artillery.description," "]})]}),O("ul",{children:this.props.artilleries.map(n=>{var r,i;return O("li",{onClick:()=>{this.props.actions.updateCurrentArtillery(n)},children:ee("div",{className:"artillery-item",children:[ee("p",{className:"title",children:[" ",n.title," "]}),ee("p",{className:"range",children:[" ",YS(n.range)]}),((i=(r=this.props)==null?void 0:r.currentArtillery)==null?void 0:i.id)===n.id?O("div",{children:O("span",{className:"selected",children:"selected"})}):null]})},n.id)})})]})}renderToolbarTab(t,n,r,i){return O(zu,{label:n,iconKey:r,isActive:this.state._selected===t&&this.state._active===!0,onClick:()=>{this.selectTab(t)}},i)}renderToolbarCategoryTabs(t){const{categories:n}=this.props.toolbarCopy.panels;return O("div",{children:Object.keys(t).map(r=>this.renderToolbarTab(t[r],n[r].label,n[r].icon,r))})}renderToolbarArtilleryTab(t,n){return ee(zu,{isActive:this.state._selected===t&&this.state._active===!0,iconKey:"Artillery",onClick:()=>{this.selectTab(t)},label:n,children:[O("div",{className:"artillery-icon",role:"img"}),O("div",{className:"tab-caption",children:"Artillery"})]})}renderToolbarPanels(){const{features:t,narratives:n}=this.props,r=this.state._active===!0?"toolbar-panels":"toolbar-panels folded";return ee("div",{className:r,children:[this.renderClosePanel(),n&&n.length!==0?this.renderToolbarNarrativePanel():null,t.USE_CATEGORIES?this.renderToolbarCategoriesPanel():null,t.USE_ASSOCIATIONS?this.renderToolbarFilterPanel():null,t.USE_SHAPES?this.renderToolbarShapePanel():null,t.USE_DOWNLOAD?this.renderToolbarDownloadPanel():null,this.renderToolbarArtilleryPanel()]})}renderToolbarNavs(){return this.props.narratives?this.props.narratives.map((t,n)=>{const i=n===this.state._selected&&this.state._active===!0?"toolbar-tab active":"toolbar-tab";return O("div",{className:i,onClick:()=>{this.selectTab(n)},children:O("div",{className:"tab-caption",children:t.label})},n)}):null}renderToolbarTabs(){const{features:t,narratives:n,toolbarCopy:r}=this.props,i=n&&n.length!==0;let s=ze[this.props.language].toolbar.title;s=Gt.display_title;const{panels:a}=r,l=0,d=wD(Object.keys(a.categories),i?1:0),y=Object.keys(d).length,_=bD(i,t.USE_CATEGORIES,y||0),c=_+t.USE_SHAPES,f=c+t.USE_DOWNLOAD;return ee("div",{className:"toolbar",children:[O("div",{className:"toolbar-header",onClick:this.props.methods.onTitle,children:O("p",{children:s})}),O("div",{className:"toolbar-tabs",children:ee(ud,{children:[i?this.renderToolbarTab(l,a.narratives.label,a.narratives.icon):null,t.USE_CATEGORIES?this.renderToolbarCategoryTabs(d):null,t.USE_ASSOCIATIONS?this.renderToolbarTab(_,a.filters.label,a.filters.icon):null,t.USE_SHAPES?this.renderToolbarTab(c,a.shapes.label,a.shapes.icon):null,t.USE_DOWNLOAD?this.renderToolbarTab(f,a.download.label,a.download.icon):null,this.renderToolbarArtilleryTab(_+1,a.artillery.label),t.USE_FULLSCREEN&&O(mF,{language:this.props.language})]})}),O(pF,{info:{enabled:this.props.infoShowing,toggle:this.props.actions.toggleInfoPopup},sites:{enabled:this.props.sitesShowing,toggle:this.props.actions.toggleSites},cover:{toggle:this.props.actions.toggleCover},features:this.props.features}),ee("div",{id:"made-with",children:["Made with"," ",O("a",{href:"https://github.com/bellingcat/ukraine-timemap",children:"TimeMap"}),O("br",{}),"Free software made by ",O("br",{})," ",O("a",{href:"https://forensic-architecture.org",children:"Forensic Architecture "}),O("br",{}),"and",O("a",{href:"https://www.bellingcat.com/",children:" Bellingcat"})]})]})}render(){const{isNarrative:t}=this.props;return O("div",{id:"toolbar-wrapper",className:`toolbar-wrapper ${t?"narrative-mode":""}`,children:ee(ld,{onSelect:()=>null,selectedIndex:this.state._selected,children:[this.renderToolbarTabs(),this.renderToolbarPanels()]})})}}function _4(e){return{filters:uE(e),artilleries:e.domain.artilleries,currentArtillery:e.app.currentArtillery,categories:aE(e),narratives:tv(e),shapes:h$(e),language:e.app.language,toolbarCopy:e.app.toolbar,activeFilters:Xg(e),activeCategories:Qg(e),activeShapes:cE(e),viewFilters:e.app.associations.views,narrative:e.app.associations.narrative,sitesShowing:e.app.flags.isShowingSites,infoShowing:e.app.flags.isInfopopup,coloringSet:e.app.associations.coloringSet,maxNumOfColors:e.ui.coloring.maxNumOfColors,filterColors:e.ui.coloring.colors,eventRadius:e.ui.eventRadius,features:fr(e)}}function w4(e){return{actions:es(od,e)}}const b4=gi(_4,w4)(y4),T4=window.innerWidth>1e3?14:18,HE=({content:e=[],styles:t={},isOpen:n=!0,onClose:r,title:i,theme:s="light",children:a})=>ee("div",{children:[O("div",{className:`infopopup__bg ${n?"":"hidden"}`,onClick:r}),ee("div",{className:`infopopup ${n?"":"hidden"} ${s==="dark"?"dark":"light"}`,style:{...t,fontSize:T4},children:[ee("div",{className:"legend-header",children:[O("button",{onClick:r,className:"side-menu-burg over-white is-active",children:O("span",{})}),O("h2",{children:i})]}),e.map((l,d)=>O("div",{dangerouslySetInnerHTML:{__html:_e(l)}},d)),a]})]}),S4=({isOpen:e,onClose:t,language:n,styles:r})=>O(HE,{title:ze[n].legend.default.header,content:ze[n].legend.default.intro,onClose:t,isOpen:e,styles:r});class E4 extends te.Component{constructor(t){super(),this.state={isExtended:!1}}toggleDetails(){this.setState({isExtended:!this.state.isExtended})}renderItems(t){return t?O("div",{children:t.map((n,r)=>n.error?O("p",{children:n.error.message},r):null)}):""}renderNotificationContent(t){const{type:n,message:r,items:i}=t;return ee("div",{children:[O("div",{className:`message ${n}`,children:r}),O("div",{className:`details ${this.state.isExtended}`,children:i!==null?this.renderItems(i):""})]})}render(){return this.props.notifications?this.props.notifications.filter(n=>!("isRead"in n&&n.isRead)).length>0?O("div",{className:"notification-wrapper",children:this.props.notifications.map((n,r)=>ee("div",{className:"notification",onClick:()=>this.toggleDetails(),children:[O("button",{onClick:this.props.onToggle,className:"side-menu-burg over-white is-active",children:O("span",{})}),this.renderNotificationContent(n)]},r))}):O("div",{}):null}}var vv={},rt={},x4={get exports(){return rt},set exports(e){rt=e}},Ko={},k4={get exports(){return Ko},set exports(e){Ko=e}};(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(k4);(function(e){var t=Ko.default;function n(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,a=new WeakMap;return(n=function(d){return d?a:s})(i)}function r(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var a=n(s);if(a&&a.has(i))return a.get(i);var l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in i)if(y!=="default"&&Object.prototype.hasOwnProperty.call(i,y)){var _=d?Object.getOwnPropertyDescriptor(i,y):null;_&&(_.get||_.set)?Object.defineProperty(l,y,_):l[y]=i[y]}return l.default=i,a&&a.set(i,l),l}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(x4);var ke={},C4={get exports(){return ke},set exports(e){ke=e}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(C4);var $f={},ju={},P4={get exports(){return ju},set exports(e){ju=e}},Uu={},A4={get exports(){return Uu},set exports(e){Uu=e}},Bu={},L4={get exports(){return Bu},set exports(e){Bu=e}},Hu={},I4={get exports(){return Hu},set exports(e){Hu=e}},aw;function R4(){return aw||(aw=1,function(e){var t=Ko.default;function n(r,i){if(t(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,i||"default");if(t(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(I4)),Hu}var lw;function WE(){return lw||(lw=1,function(e){var t=Ko.default,n=R4();function r(i){var s=n(i,"string");return t(s)==="symbol"?s:String(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(L4)),Bu}var uw;function fd(){return uw||(uw=1,function(e){var t=WE();function n(r,i,s){return i=t(i),i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(A4)),Uu}var cw;function vi(){return cw||(cw=1,function(e){var t=fd();function n(r){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?Object(arguments[i]):{},a=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&a.push.apply(a,Object.getOwnPropertySymbols(s).filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),a.forEach(function(l){t(r,l,s[l])})}return r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(P4)),ju}var Wu={},N4={get exports(){return Wu},set exports(e){Wu=e}},qu={},O4={get exports(){return qu},set exports(e){qu=e}},dw;function M4(){return dw||(dw=1,function(e){function t(n,r){if(n==null)return{};var i={},s=Object.keys(n),a,l;for(l=0;l<s.length;l++)a=s[l],!(r.indexOf(a)>=0)&&(i[a]=n[a]);return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(O4)),qu}var fw;function yv(){return fw||(fw=1,function(e){var t=M4();function n(r,i){if(r==null)return{};var s=t(r,i),a,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(l=0;l<d.length;l++)a=d[l],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(N4)),Wu}var Vu={},D4={get exports(){return Vu},set exports(e){Vu=e}},hw;function st(){return hw||(hw=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(D4)),Vu}var Zu={},$4={get exports(){return Zu},set exports(e){Zu=e}},pw;function at(){return pw||(pw=1,function(e){var t=WE();function n(i,s){for(var a=0;a<s.length;a++){var l=s[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,t(l.key),l)}}function r(i,s,a){return s&&n(i.prototype,s),a&&n(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}($4)),Zu}var Gu={},F4={get exports(){return Gu},set exports(e){Gu=e}},Yu={},z4={get exports(){return Yu},set exports(e){Yu=e}},mw;function mt(){return mw||(mw=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(z4)),Yu}var gw;function gt(){return gw||(gw=1,function(e){var t=Ko.default,n=mt();function r(i,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(F4)),Gu}var Ku={},j4={get exports(){return Ku},set exports(e){Ku=e}},vw;function vt(){return vw||(vw=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(j4)),Ku}var Xu={},U4={get exports(){return Xu},set exports(e){Xu=e}},Qu={},B4={get exports(){return Qu},set exports(e){Qu=e}},yw;function H4(){return yw||(yw=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(B4)),Qu}var _w;function yt(){return _w||(_w=1,function(e){var t=H4();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&t(r,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(U4)),Xu}var Ju={},W4={get exports(){return Ju},set exports(e){Ju=e}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ww;function Ze(){return ww||(ww=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var a=typeof s;if(a==="string"||a==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var l=n.apply(null,s);l&&r.push(l)}}else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var d in s)t.call(s,d)&&s[d]&&r.push(d)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(W4)),Ju}var Ff={};const q4=BC(C2);var zf={},jf={},le={},bw;function _v(){if(bw)return le;bw=1,Object.defineProperty(le,"__esModule",{value:!0}),le.handleLoadStart=P,le.handleCanPlay=N,le.handleWaiting=$,le.handleCanPlayThrough=F,le.handlePlaying=j,le.handlePlay=B,le.handlePause=H,le.handleEnd=U,le.handleSeeking=W,le.handleSeeked=Y,le.handleDurationChange=G,le.handleTimeUpdate=J,le.handleVolumeChange=oe,le.handleProgressChange=ce,le.handleRateChange=fe,le.handleSuspend=de,le.handleAbort=ue,le.handleEmptied=be,le.handleStalled=re,le.handleLoadedMetaData=M,le.handleLoadedData=z,le.handleResize=q,le.handleError=Z,le.handleSeekingTime=Q,le.handleEndSeeking=ne,le.activateTextTrack=ve,le.ACTIVATE_TEXT_TRACK=le.ERROR=le.RESIZE=le.LOADED_DATA=le.LOADED_META_DATA=le.STALLED=le.EMPTIED=le.ABORT=le.SUSPEND=le.RATE_CHANGE=le.PROGRESS_CHANGE=le.VOLUME_CHANGE=le.TIME_UPDATE=le.DURATION_CHANGE=le.END_SEEKING=le.SEEKING_TIME=le.SEEKED=le.SEEKING=le.END=le.PAUSE=le.PLAY=le.PLAYING=le.CAN_PLAY_THROUGH=le.WAITING=le.CAN_PLAY=le.LOAD_START=void 0;var e="video-react/LOAD_START";le.LOAD_START=e;var t="video-react/CAN_PLAY";le.CAN_PLAY=t;var n="video-react/WAITING";le.WAITING=n;var r="video-react/CAN_PLAY_THROUGH";le.CAN_PLAY_THROUGH=r;var i="video-react/PLAYING";le.PLAYING=i;var s="video-react/PLAY";le.PLAY=s;var a="video-react/PAUSE";le.PAUSE=a;var l="video-react/END";le.END=l;var d="video-react/SEEKING";le.SEEKING=d;var y="video-react/SEEKED";le.SEEKED=y;var _="video-react/SEEKING_TIME";le.SEEKING_TIME=_;var c="video-react/END_SEEKING";le.END_SEEKING=c;var f="video-react/DURATION_CHANGE";le.DURATION_CHANGE=f;var w="video-react/TIME_UPDATE";le.TIME_UPDATE=w;var v="video-react/VOLUME_CHANGE";le.VOLUME_CHANGE=v;var p="video-react/PROGRESS_CHANGE";le.PROGRESS_CHANGE=p;var b="video-react/RATE_CHANGE";le.RATE_CHANGE=b;var g="video-react/SUSPEND";le.SUSPEND=g;var m="video-react/ABORT";le.ABORT=m;var h="video-react/EMPTIED";le.EMPTIED=h;var T="video-react/STALLED";le.STALLED=T;var x="video-react/LOADED_META_DATA";le.LOADED_META_DATA=x;var k="video-react/LOADED_DATA";le.LOADED_DATA=k;var C="video-react/RESIZE";le.RESIZE=C;var E="video-react/ERROR";le.ERROR=E;var A="video-react/ACTIVATE_TEXT_TRACK";le.ACTIVATE_TEXT_TRACK=A;function P(se){return{type:e,videoProps:se}}function N(se){return{type:t,videoProps:se}}function $(se){return{type:n,videoProps:se}}function F(se){return{type:r,videoProps:se}}function j(se){return{type:i,videoProps:se}}function B(se){return{type:s,videoProps:se}}function H(se){return{type:a,videoProps:se}}function U(se){return{type:l,videoProps:se}}function W(se){return{type:d,videoProps:se}}function Y(se){return{type:y,videoProps:se}}function G(se){return{type:f,videoProps:se}}function J(se){return{type:w,videoProps:se}}function oe(se){return{type:v,videoProps:se}}function ce(se){return{type:p,videoProps:se}}function fe(se){return{type:b,videoProps:se}}function de(se){return{type:g,videoProps:se}}function ue(se){return{type:m,videoProps:se}}function be(se){return{type:h,videoProps:se}}function re(se){return{type:T,videoProps:se}}function M(se){return{type:x,videoProps:se}}function z(se){return{type:k,videoProps:se}}function q(se){return{type:C,videoProps:se}}function Z(se){return{type:E,videoProps:se}}function Q(se){return{type:_,time:se}}function ne(se){return{type:c,time:se}}function ve(se){return{type:A,textTrack:se}}return le}var it={},Uf={},Tw;function qE(){return Tw||(Tw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(st()),r=t(at()),i=function(){function a(){(0,n.default)(this,a)}return(0,r.default)(a,[{key:"request",value:function(d){d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()}},{key:"exit",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"addEventListener",value:function(d){document.addEventListener("fullscreenchange",d),document.addEventListener("webkitfullscreenchange",d),document.addEventListener("mozfullscreenchange",d),document.addEventListener("MSFullscreenChange",d)}},{key:"removeEventListener",value:function(d){document.removeEventListener("fullscreenchange",d),document.removeEventListener("webkitfullscreenchange",d),document.removeEventListener("mozfullscreenchange",d),document.removeEventListener("MSFullscreenChange",d)}},{key:"isFullscreen",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:"enabled",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),a}(),s=new i;e.default=s}(Uf)),Uf}var Sw;function hd(){if(Sw)return it;Sw=1;var e=ke;Object.defineProperty(it,"__esModule",{value:!0}),it.handleFullscreenChange=a,it.activate=l,it.userActivate=d,it.play=y,it.pause=_,it.togglePlay=c,it.seek=f,it.forward=w,it.replay=v,it.changeRate=p,it.changeVolume=b,it.mute=g,it.toggleFullscreen=m,it.USER_ACTIVATE=it.PLAYER_ACTIVATE=it.FULLSCREEN_CHANGE=it.OPERATE=void 0;var t=e(qE()),n="video-react/OPERATE";it.OPERATE=n;var r="video-react/FULLSCREEN_CHANGE";it.FULLSCREEN_CHANGE=r;var i="video-react/PLAYER_ACTIVATE";it.PLAYER_ACTIVATE=i;var s="video-react/USER_ACTIVATE";it.USER_ACTIVATE=s;function a(h){return{type:r,isFullscreen:h}}function l(h){return{type:i,activity:h}}function d(h){return{type:s,activity:h}}function y(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"play",source:""};return this.video.play(),{type:n,operation:h}}function _(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"pause",source:""};return this.video.pause(),{type:n,operation:h}}function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{action:"toggle-play",source:""};return this.video.togglePlay(),{type:n,operation:h}}function f(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"seek",source:""};return this.video.seek(h),{type:n,operation:T}}function w(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"forward-".concat(h),source:""};return this.video.forward(h),{type:n,operation:T}}function v(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"replay-".concat(h),source:""};return this.video.replay(h),{type:n,operation:T}}function p(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"change-rate",source:""};return this.video.playbackRate=h,{type:n,operation:T}}function b(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:"change-volume",source:""},x=h;return h<0&&(x=0),h>1&&(x=1),this.video.volume=x,{type:n,operation:T}}function g(h){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{action:h?"muted":"unmuted",source:""};return this.video.muted=h,{type:n,operation:T}}function m(h){return t.default.enabled?(t.default.isFullscreen?t.default.exit():t.default.request(this.rootElement),{type:n,operation:{action:"toggle-fullscreen",source:""}}):{type:r,isFullscreen:!h.isFullscreen}}return it}var Ew;function V4(){return Ew||(Ew=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(vi()),r=_v(),i=hd(),s={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null};function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s,d=arguments.length>1?arguments[1]:void 0;switch(d.type){case i.USER_ACTIVATE:return(0,n.default)({},l,{userActivity:d.activity});case i.PLAYER_ACTIVATE:return(0,n.default)({},l,{isActive:d.activity});case i.FULLSCREEN_CHANGE:return(0,n.default)({},l,{isFullscreen:!!d.isFullscreen});case r.SEEKING_TIME:return(0,n.default)({},l,{seekingTime:d.time});case r.END_SEEKING:return(0,n.default)({},l,{seekingTime:0});case r.LOAD_START:return(0,n.default)({},l,d.videoProps,{hasStarted:!1,ended:!1});case r.CAN_PLAY:return(0,n.default)({},l,d.videoProps,{waiting:!1});case r.WAITING:return(0,n.default)({},l,d.videoProps,{waiting:!0});case r.CAN_PLAY_THROUGH:case r.PLAYING:return(0,n.default)({},l,d.videoProps,{waiting:!1});case r.PLAY:return(0,n.default)({},l,d.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case r.PAUSE:return(0,n.default)({},l,d.videoProps,{paused:!0});case r.END:return(0,n.default)({},l,d.videoProps,{ended:!0});case r.SEEKING:return(0,n.default)({},l,d.videoProps,{seeking:!0});case r.SEEKED:return(0,n.default)({},l,d.videoProps,{seeking:!1});case r.ERROR:return(0,n.default)({},l,d.videoProps,{error:"UNKNOWN ERROR",ended:!0});case r.DURATION_CHANGE:case r.TIME_UPDATE:case r.VOLUME_CHANGE:case r.PROGRESS_CHANGE:case r.RATE_CHANGE:case r.SUSPEND:case r.ABORT:case r.EMPTIED:case r.STALLED:case r.LOADED_META_DATA:case r.LOADED_DATA:case r.RESIZE:return(0,n.default)({},l,d.videoProps);case r.ACTIVATE_TEXT_TRACK:return(0,n.default)({},l,{activeTextTrack:d.textTrack});default:return l}}}(jf)),jf}var Bf={},xw;function Z4(){return xw||(xw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t(vi()),r=hd(),i={count:0,operation:{action:"",source:""}};function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case r.OPERATE:return(0,n.default)({},a,{count:a.count+1,operation:(0,n.default)({},a.operation,l.operation)});default:return a}}}(Bf)),Bf}var kw;function VE(){return kw||(kw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,e.operationReducer=e.playerReducer=void 0;var n=t(V4()),r=t(Z4());function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;return{player:(0,n.default)(l.player,d),operation:(0,r.default)(l.operation,d)}}var s=n.default;e.playerReducer=s;var a=r.default;e.operationReducer=a}(zf)),zf}var Cw;function G4(){return Cw||(Cw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(vi()),i=n(st()),s=n(at()),a=q4,l=n(VE()),d=t(hd()),y=t(_v()),_=function(){function c(f){(0,i.default)(this,c),this.store=f||(0,a.createStore)(l.default),this.video=null,this.rootElement=null}return(0,s.default)(c,[{key:"getActions",value:function(){var w=this,v=this.store.dispatch,p=(0,r.default)({},d,y);function b(g){return function(){var h=g.apply(w,arguments);typeof h<"u"&&v(h)}}return Object.keys(p).filter(function(g){return typeof p[g]=="function"}).reduce(function(g,m){return g[m]=b(p[m]),g},{})}},{key:"getState",value:function(){return this.store.getState()}},{key:"subscribeToStateChange",value:function(w,v){v||(v=this.getState.bind(this));var p=v(),b=function(){var m=v();if(m!==p){var h=p;p=m,w(m,h)}};return this.store.subscribe(b)}},{key:"subscribeToOperationStateChange",value:function(w){var v=this;return this.subscribeToStateChange(w,function(){return v.getState().operation})}},{key:"subscribeToPlayerStateChange",value:function(w){var v=this;return this.subscribeToStateChange(w,function(){return v.getState().player})}}]),c}();e.default=_}(Ff)),Ff}var Hf={},Pw;function ZE(){return Pw||(Pw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f={actions:y.default.object,player:y.default.object,position:y.default.string,className:y.default.string},w={position:"left"},v=function(p){(0,d.default)(b,p);function b(g,m){var h;return(0,r.default)(this,b),h=(0,s.default)(this,(0,a.default)(b).call(this,g,m)),h.handleClick=h.handleClick.bind((0,l.default)(h)),h}return(0,i.default)(b,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(){var m=this.props.actions;m.play()}},{key:"render",value:function(){var m=this.props,h=m.player,T=m.position;return _.default.createElement("button",{className:(0,c.default)("video-react-button","video-react-big-play-button","video-react-big-play-button-".concat(T),this.props.className,{"big-play-button-hide":h.hasStarted||!h.currentSrc}),type:"button","aria-live":"polite",tabIndex:"0",onClick:this.handleClick},_.default.createElement("span",{className:"video-react-control-text"},"Play Video"))}}]),b}(_.Component);e.default=v,v.propTypes=f,v.defaultProps=w,v.displayName="BigPlayButton"}(Hf)),Hf}var Wf={},Aw;function GE(){return Aw||(Aw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(De()),r=t(te),i=t(Ze()),s={player:n.default.object,className:n.default.string};function a(l){var d=l.player,y=l.className;return d.error?null:r.default.createElement("div",{className:(0,i.default)("video-react-loading-spinner",y)})}a.propTypes=s,a.displayName="LoadingSpinner"}(Wf)),Wf}var qf={},Lw;function YE(){return Lw||(Lw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s={poster:n.default.string,player:n.default.object,actions:n.default.object,className:n.default.string};function a(d){var y=d.poster,_=d.player,c=d.actions,f=d.className;return!y||_.hasStarted?null:r.default.createElement("div",{className:(0,i.default)("video-react-poster",f),style:{backgroundImage:'url("'.concat(y,'")')},onClick:function(){_.paused&&c.play()}})}a.propTypes=s,a.displayName="PosterImage";var l=a;e.default=l}(qf)),qf}var Vf={},rr={},ec={},Y4={get exports(){return ec},set exports(e){ec=e}},tc={},K4={get exports(){return tc},set exports(e){tc=e}},nc={},X4={get exports(){return nc},set exports(e){nc=e}},Iw;function KE(){return Iw||(Iw=1,function(e){function t(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,s=new Array(r);i<r;i++)s[i]=n[i];return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(X4)),nc}var Rw;function Q4(){return Rw||(Rw=1,function(e){var t=KE();function n(r){if(Array.isArray(r))return t(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(K4)),tc}var rc={},J4={get exports(){return rc},set exports(e){rc=e}},Nw;function ez(){return Nw||(Nw=1,function(e){function t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(J4)),rc}var ic={},tz={get exports(){return ic},set exports(e){ic=e}},Ow;function nz(){return Ow||(Ow=1,function(e){var t=KE();function n(r,i){if(r){if(typeof r=="string")return t(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return t(r,i)}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(tz)),ic}var oc={},rz={get exports(){return oc},set exports(e){oc=e}},Mw;function iz(){return Mw||(Mw=1,function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(rz)),oc}var Dw;function XE(){return Dw||(Dw=1,function(e){var t=Q4(),n=ez(),r=nz(),i=iz();function s(a){return t(a)||n(a)||r(a)||i()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}(Y4)),ec}var $w;function hr(){if($w)return rr;$w=1;var e=ke;Object.defineProperty(rr,"__esModule",{value:!0}),rr.formatTime=a,rr.isVideoChild=l,rr.mergeAndSortChildren=_,rr.deprecatedWarning=c,rr.throttle=f,rr.mediaProperties=void 0;var t=e(XE()),n=e(vi()),r=e(yv()),i=e(te),s=Number.isNaN||function(v){return v!==v};function a(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,b=Math.floor(v%60),g=Math.floor(v/60%60),m=Math.floor(v/3600),h=Math.floor(p/60%60),T=Math.floor(p/3600);return(s(v)||v===1/0)&&(m="-",g="-",b="-"),m=m>0||T>0?"".concat(m,":"):"",g="".concat((m||h>=10)&&g<10?"0".concat(g):g,":"),b=b<10?"0".concat(b):b,m+g+b}function l(v){return v.props&&v.props.isVideoChild?!0:v.type==="source"||v.type==="track"}var d=function(p,b){return p.filter(b)[0]},y=function(p,b){var g=p.type,m=b.type;return typeof g=="string"||typeof m=="string"?g===m:typeof g=="function"&&typeof m=="function"?g.displayName===m.displayName:!1};function _(v,p,b){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,m=i.default.Children.toArray(p);b.order;var h=(0,r.default)(b,["order"]);return m.filter(function(T){return!T.props.disabled}).concat(v.filter(function(T){return!d(m,function(x){return y(x,T)})})).map(function(T){var x=d(v,function(A){return y(A,T)}),k=x?x.props:{},C=(0,n.default)({},h,k,T.props),E=i.default.cloneElement(T,C,T.props.children);return E}).sort(function(T,x){return(T.props.order||g)-(x.props.order||g)})}function c(v,p){console.warn("WARNING: ".concat(v," will be deprecated soon! Please use ").concat(p," instead."))}function f(v,p){var b=arguments,g=!1;return function(){g||(v.apply(void 0,(0,t.default)(b)),g=!0,setTimeout(function(){g=!1},p))}}var w=["error","src","srcObject","currentSrc","crossOrigin","networkState","preload","buffered","readyState","seeking","currentTime","duration","paused","defaultPlaybackRate","playbackRate","played","seekable","ended","autoplay","loop","mediaGroup","controller","controls","volume","muted","defaultMuted","audioTracks","videoTracks","textTracks","width","height","videoWidth","videoHeight","poster"];return rr.mediaProperties=w,rr}var Fw;function QE(){return Fw||(Fw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(vi()),i=n(st()),s=n(at()),a=n(gt()),l=n(vt()),d=n(mt()),y=n(yt()),_=n(De()),c=t(te),f=n(Ze()),w=hr(),v={actions:_.default.object,player:_.default.object,children:_.default.any,startTime:_.default.number,loop:_.default.bool,muted:_.default.bool,autoPlay:_.default.bool,playsInline:_.default.bool,src:_.default.string,poster:_.default.string,className:_.default.string,preload:_.default.oneOf(["auto","metadata","none"]),crossOrigin:_.default.string,onLoadStart:_.default.func,onWaiting:_.default.func,onCanPlay:_.default.func,onCanPlayThrough:_.default.func,onPlaying:_.default.func,onEnded:_.default.func,onSeeking:_.default.func,onSeeked:_.default.func,onPlay:_.default.func,onPause:_.default.func,onProgress:_.default.func,onDurationChange:_.default.func,onError:_.default.func,onSuspend:_.default.func,onAbort:_.default.func,onEmptied:_.default.func,onStalled:_.default.func,onLoadedMetadata:_.default.func,onLoadedData:_.default.func,onTimeUpdate:_.default.func,onRateChange:_.default.func,onVolumeChange:_.default.func,onResize:_.default.func},p=function(b){(0,y.default)(g,b);function g(m){var h;return(0,i.default)(this,g),h=(0,a.default)(this,(0,l.default)(g).call(this,m)),h.video=null,h.play=h.play.bind((0,d.default)(h)),h.pause=h.pause.bind((0,d.default)(h)),h.seek=h.seek.bind((0,d.default)(h)),h.forward=h.forward.bind((0,d.default)(h)),h.replay=h.replay.bind((0,d.default)(h)),h.toggleFullscreen=h.toggleFullscreen.bind((0,d.default)(h)),h.getProperties=h.getProperties.bind((0,d.default)(h)),h.renderChildren=h.renderChildren.bind((0,d.default)(h)),h.handleLoadStart=h.handleLoadStart.bind((0,d.default)(h)),h.handleCanPlay=h.handleCanPlay.bind((0,d.default)(h)),h.handleCanPlayThrough=h.handleCanPlayThrough.bind((0,d.default)(h)),h.handlePlay=h.handlePlay.bind((0,d.default)(h)),h.handlePlaying=h.handlePlaying.bind((0,d.default)(h)),h.handlePause=h.handlePause.bind((0,d.default)(h)),h.handleEnded=h.handleEnded.bind((0,d.default)(h)),h.handleWaiting=h.handleWaiting.bind((0,d.default)(h)),h.handleSeeking=h.handleSeeking.bind((0,d.default)(h)),h.handleSeeked=h.handleSeeked.bind((0,d.default)(h)),h.handleFullscreenChange=h.handleFullscreenChange.bind((0,d.default)(h)),h.handleError=h.handleError.bind((0,d.default)(h)),h.handleSuspend=h.handleSuspend.bind((0,d.default)(h)),h.handleAbort=h.handleAbort.bind((0,d.default)(h)),h.handleEmptied=h.handleEmptied.bind((0,d.default)(h)),h.handleStalled=h.handleStalled.bind((0,d.default)(h)),h.handleLoadedMetaData=h.handleLoadedMetaData.bind((0,d.default)(h)),h.handleLoadedData=h.handleLoadedData.bind((0,d.default)(h)),h.handleTimeUpdate=h.handleTimeUpdate.bind((0,d.default)(h)),h.handleRateChange=h.handleRateChange.bind((0,d.default)(h)),h.handleVolumeChange=h.handleVolumeChange.bind((0,d.default)(h)),h.handleDurationChange=h.handleDurationChange.bind((0,d.default)(h)),h.handleProgress=(0,w.throttle)(h.handleProgress.bind((0,d.default)(h)),250),h.handleKeypress=h.handleKeypress.bind((0,d.default)(h)),h.handleTextTrackChange=h.handleTextTrackChange.bind((0,d.default)(h)),h}return(0,s.default)(g,[{key:"componentDidMount",value:function(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:"getProperties",value:function(){var h=this;return this.video?w.mediaProperties.reduce(function(T,x){return T[x]=h.video[x],T},{}):null}},{key:"handleTextTrackChange",value:function(){var h=this.props,T=h.actions,x=h.player;if(this.video&&this.video.textTracks){var k=Array.from(this.video.textTracks).find(function(C){return C.mode==="showing"});k!==x.activeTextTrack&&T.activateTextTrack(k)}}},{key:"play",value:function(){var h=this.video.play();h!==void 0&&h.catch(function(){}).then(function(){})}},{key:"pause",value:function(){var h=this.video.pause();h!==void 0&&h.catch(function(){}).then(function(){})}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var h;(h=this.video).addTextTrack.apply(h,arguments)}},{key:"canPlayType",value:function(){var h;(h=this.video).canPlayType.apply(h,arguments)}},{key:"togglePlay",value:function(){this.video.paused?this.play():this.pause()}},{key:"seek",value:function(h){try{this.video.currentTime=h}catch{}}},{key:"forward",value:function(h){this.seek(this.video.currentTime+h)}},{key:"replay",value:function(h){this.forward(-h)}},{key:"toggleFullscreen",value:function(){var h=this.props,T=h.player,x=h.actions;x.toggleFullscreen(T)}},{key:"handleLoadStart",value:function(){var h=this.props,T=h.actions,x=h.onLoadStart;T.handleLoadStart(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleCanPlay",value:function(){var h=this.props,T=h.actions,x=h.onCanPlay;T.handleCanPlay(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleCanPlayThrough",value:function(){var h=this.props,T=h.actions,x=h.onCanPlayThrough;T.handleCanPlayThrough(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handlePlaying",value:function(){var h=this.props,T=h.actions,x=h.onPlaying;T.handlePlaying(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handlePlay",value:function(){var h=this.props,T=h.actions,x=h.onPlay;T.handlePlay(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handlePause",value:function(){var h=this.props,T=h.actions,x=h.onPause;T.handlePause(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleDurationChange",value:function(){var h=this.props,T=h.actions,x=h.onDurationChange;T.handleDurationChange(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleProgress",value:function(){var h=this.props,T=h.actions,x=h.onProgress;this.video&&T.handleProgressChange(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleEnded",value:function(){var h=this.props,T=h.loop,x=h.player,k=h.actions,C=h.onEnded;T?(this.seek(0),this.play()):x.paused||this.pause(),k.handleEnd(this.getProperties()),C&&C.apply(void 0,arguments)}},{key:"handleWaiting",value:function(){var h=this.props,T=h.actions,x=h.onWaiting;T.handleWaiting(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleSeeking",value:function(){var h=this.props,T=h.actions,x=h.onSeeking;T.handleSeeking(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleSeeked",value:function(){var h=this.props,T=h.actions,x=h.onSeeked;T.handleSeeked(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleFullscreenChange",value:function(){}},{key:"handleSuspend",value:function(){var h=this.props,T=h.actions,x=h.onSuspend;T.handleSuspend(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleAbort",value:function(){var h=this.props,T=h.actions,x=h.onAbort;T.handleAbort(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleEmptied",value:function(){var h=this.props,T=h.actions,x=h.onEmptied;T.handleEmptied(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleStalled",value:function(){var h=this.props,T=h.actions,x=h.onStalled;T.handleStalled(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleLoadedMetaData",value:function(){var h=this.props,T=h.actions,x=h.onLoadedMetadata,k=h.startTime;k&&k>0&&(this.video.currentTime=k),T.handleLoadedMetaData(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleLoadedData",value:function(){var h=this.props,T=h.actions,x=h.onLoadedData;T.handleLoadedData(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleTimeUpdate",value:function(){var h=this.props,T=h.actions,x=h.onTimeUpdate;T.handleTimeUpdate(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleRateChange",value:function(){var h=this.props,T=h.actions,x=h.onRateChange;T.handleRateChange(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleVolumeChange",value:function(){var h=this.props,T=h.actions,x=h.onVolumeChange;T.handleVolumeChange(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleError",value:function(){var h=this.props,T=h.actions,x=h.onError;T.handleError(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleResize",value:function(){var h=this.props,T=h.actions,x=h.onResize;T.handleResize(this.getProperties()),x&&x.apply(void 0,arguments)}},{key:"handleKeypress",value:function(){}},{key:"renderChildren",value:function(){var h=this,T=(0,r.default)({},this.props,{video:this.video});return this.video?c.default.Children.toArray(this.props.children).filter(w.isVideoChild).map(function(x){var k;if(typeof x.type=="string"){if(x.type==="source"){k=(0,r.default)({},x.props);var C=k.onError;k.onError=function(){C&&C.apply(void 0,arguments),h.handleError.apply(h,arguments)}}}else k=T;return c.default.cloneElement(x,k)}):null}},{key:"render",value:function(){var h=this,T=this.props,x=T.loop,k=T.poster,C=T.preload,E=T.src,A=T.autoPlay,P=T.playsInline,N=T.muted,$=T.crossOrigin,F=T.videoId;return c.default.createElement("video",{className:(0,f.default)("video-react-video",this.props.className),id:F,crossOrigin:$,ref:function(B){h.video=B},muted:N,preload:C,loop:x,playsInline:P,autoPlay:A,poster:k,src:E,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:"-1"},this.renderChildren())}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(h){this.video.playbackRate=h}},{key:"muted",get:function(){return this.video.muted},set:function(h){this.video.muted=h}},{key:"volume",get:function(){return this.video.volume},set:function(h){h>1&&(h=1),h<0&&(h=0),this.video.volume=h}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),g}(c.Component);e.default=p,p.propTypes=v,p.displayName="Video"}(Vf)),Vf}var Zf={},zw;function JE(){return zw||(zw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f={manager:y.default.object,className:y.default.string},w=function(v){(0,d.default)(p,v);function p(b,g){var m;return(0,r.default)(this,p),m=(0,s.default)(this,(0,a.default)(p).call(this,b,g)),m.timer=null,b.manager.subscribeToOperationStateChange(m.handleStateChange.bind((0,l.default)(m))),m.state={hidden:!0,operation:{}},m}return(0,i.default)(p,[{key:"handleStateChange",value:function(g,m){var h=this;g.count!==m.count&&g.operation.source==="shortcut"&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:g.count,operation:g.operation}),this.timer=setTimeout(function(){h.setState({hidden:!0}),h.timer=null},500))}},{key:"render",value:function(){if(this.state.operation.source!=="shortcut")return null;var g=this.state.hidden?{display:"none"}:null;return _.default.createElement("div",{className:(0,c.default)({"video-react-bezel":!0,"video-react-bezel-animation":this.state.count%2===0,"video-react-bezel-animation-alt":this.state.count%2===1},this.props.className),style:g,role:"status","aria-label":this.state.operation.action},_.default.createElement("div",{className:(0,c.default)("video-react-bezel-icon","video-react-bezel-icon-".concat(this.state.operation.action))}))}}]),p}(_.Component);e.default=w,w.propTypes=f,w.displayName="Bezel"}(Zf)),Zf}var Gf={},Zr={},jw;function pd(){if(jw)return Zr;jw=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.findElPosition=e,Zr.getPointerPosition=t,Zr.blurNode=n,Zr.focusNode=r,Zr.hasClass=i;function e(s){var a;if(s.getBoundingClientRect&&s.parentNode&&(a=s.getBoundingClientRect()),!a)return{left:0,top:0};var l=document,d=l.body,y=l.documentElement,_=y.clientLeft||d.clientLeft||0,c=window.pageXOffset||d.scrollLeft,f=a.left+c-_,w=y.clientTop||d.clientTop||0,v=window.pageYOffset||d.scrollTop,p=a.top+v-w;return{left:Math.round(f),top:Math.round(p)}}function t(s,a){var l={},d=e(s),y=s.offsetWidth,_=s.offsetHeight,c=d.top,f=d.left,w=a.pageY,v=a.pageX;return a.changedTouches&&(v=a.changedTouches[0].pageX,w=a.changedTouches[0].pageY),l.y=Math.max(0,Math.min(1,(c-w+_)/_)),l.x=Math.max(0,Math.min(1,(v-f)/y)),l}function n(s){s&&s.blur&&s.blur()}function r(s){s&&s.focus&&s.focus()}function i(s,a){for(var l=s.className.split(" "),d=0;d<l.length;d++)if(l[d].toLowerCase()===a.toLowerCase())return!0;return!1}return Zr}var Uw;function ex(){return Uw||(Uw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(fd()),r=t(XE()),i=t(st()),s=t(at()),a=t(gt()),l=t(vt()),d=t(mt()),y=t(yt()),_=te,c=t(De()),f=pd(),w={clickable:c.default.bool,dblclickable:c.default.bool,manager:c.default.object,actions:c.default.object,player:c.default.object,shortcuts:c.default.array},v={clickable:!0,dblclickable:!0},p=function(b){(0,y.default)(g,b);function g(m,h){var T;return(0,i.default)(this,g),T=(0,a.default)(this,(0,l.default)(g).call(this,m,h)),T.defaultShortcuts=[{keyCode:32,handle:T.togglePlay},{keyCode:75,handle:T.togglePlay},{keyCode:70,handle:T.toggleFullscreen},{keyCode:37,handle:function(k,C){k.hasStarted&&C.replay(5,{action:"replay-5",source:"shortcut"})}},{keyCode:74,handle:function(k,C){k.hasStarted&&C.replay(10,{action:"replay-10",source:"shortcut"})}},{keyCode:39,handle:function(k,C){k.hasStarted&&C.forward(5,{action:"forward-5",source:"shortcut"})}},{keyCode:76,handle:function(k,C){k.hasStarted&&C.forward(10,{action:"forward-10",source:"shortcut"})}},{keyCode:36,handle:function(k,C){k.hasStarted&&C.seek(0)}},{keyCode:35,handle:function(k,C){k.hasStarted&&C.seek(k.duration)}},{keyCode:38,handle:function(k,C){var E=k.volume+.05;E>1&&(E=1),C.changeVolume(E,{action:"volume-up",source:"shortcut"})}},{keyCode:40,handle:function(k,C){var E=k.volume-.05;E<0&&(E=0);var A=E>0?"volume-down":"volume-off";C.changeVolume(E,{action:A,source:"shortcut"})}},{keyCode:190,shift:!0,handle:function(k,C){var E=k.playbackRate;E>=1.5?E=2:E>=1.25?E=1.5:E>=1?E=1.25:E>=.5?E=1:E>=.25?E=.5:E>=0&&(E=.25),C.changeRate(E,{action:"fast-forward",source:"shortcut"})}},{keyCode:188,shift:!0,handle:function(k,C){var E=k.playbackRate;E<=.5?E=.25:E<=1?E=.5:E<=1.25?E=1:E<=1.5?E=1.25:E<=2&&(E=1.5),C.changeRate(E,{action:"fast-rewind",source:"shortcut"})}}],T.shortcuts=(0,r.default)(T.defaultShortcuts),T.mergeShortcuts=T.mergeShortcuts.bind((0,d.default)(T)),T.handleKeyPress=T.handleKeyPress.bind((0,d.default)(T)),T.handleClick=T.handleClick.bind((0,d.default)(T)),T.handleDoubleClick=T.handleDoubleClick.bind((0,d.default)(T)),T}return(0,s.default)(g,[{key:"componentDidMount",value:function(){this.mergeShortcuts(),document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick),document.addEventListener("dblclick",this.handleDoubleClick)}},{key:"componentDidUpdate",value:function(h){h.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick),document.removeEventListener("dblclick",this.handleDoubleClick)}},{key:"mergeShortcuts",value:function(){var h=function(E){var A=E.keyCode,P=A===void 0?0:A,N=E.ctrl,$=N===void 0?!1:N,F=E.shift,j=F===void 0?!1:F,B=E.alt,H=B===void 0?!1:B;return"".concat(P,":").concat($,":").concat(j,":").concat(H)},T=this.defaultShortcuts.reduce(function(C,E){return Object.assign(C,(0,n.default)({},h(E),E))},{}),x=(this.props.shortcuts||[]).reduce(function(C,E){var A=E.keyCode,P=E.handle;return A&&typeof P=="function"?Object.assign(C,(0,n.default)({},h(E),E)):C},T),k=function(E){var A=0,P=["ctrl","shift","alt"];return P.forEach(function(N){E[N]&&A++}),A};this.shortcuts=Object.keys(x).map(function(C){return x[C]}).sort(function(C,E){return k(E)-k(C)})}},{key:"togglePlay",value:function(h,T){h.paused?T.play({action:"play",source:"shortcut"}):T.pause({action:"pause",source:"shortcut"})}},{key:"toggleFullscreen",value:function(h,T){T.toggleFullscreen(h)}},{key:"handleKeyPress",value:function(h){var T=this.props,x=T.player,k=T.actions;if(x.isActive&&!(document.activeElement&&((0,f.hasClass)(document.activeElement,"video-react-control")||(0,f.hasClass)(document.activeElement,"video-react-menu-button-active")||(0,f.hasClass)(document.activeElement,"video-react-big-play-button")))){var C=h.keyCode||h.which,E=h.ctrlKey||h.metaKey,A=h.shiftKey,P=h.altKey,N=this.shortcuts.filter(function($){return!(!$.keyCode||$.keyCode-C!==0||$.ctrl!==void 0&&$.ctrl!==E||$.shift!==void 0&&$.shift!==A||$.alt!==void 0&&$.alt!==P)})[0];N&&(N.handle(x,k),h.preventDefault())}}},{key:"canBeClicked",value:function(h,T){return!(!h.isActive||T.target.nodeName!=="VIDEO"||h.readyState!==4)}},{key:"handleClick",value:function(h){var T=this.props,x=T.player,k=T.actions,C=T.clickable;!this.canBeClicked(x,h)||!C||this.togglePlay(x,k)}},{key:"handleDoubleClick",value:function(h){var T=this.props,x=T.player,k=T.actions,C=T.dblclickable;!this.canBeClicked(x,h)||!C||this.toggleFullscreen(x,k)}},{key:"render",value:function(){return null}}]),g}(_.Component);e.default=p,p.propTypes=w,p.defaultProps=v,p.displayName="Shortcut"}(Gf)),Gf}var Yf={},Kf={},sc={},oz={get exports(){return sc},set exports(e){sc=e}},Bw;function Na(){return Bw||(Bw=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(oz)),sc}var Xf={},Qf={},Hw;function wv(){return Hw||(Hw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f=t(pd()),w={className:y.default.string,onMouseDown:y.default.func,onMouseMove:y.default.func,stepForward:y.default.func,stepBack:y.default.func,sliderActive:y.default.func,sliderInactive:y.default.func,onMouseUp:y.default.func,onFocus:y.default.func,onBlur:y.default.func,onClick:y.default.func,getPercent:y.default.func,vertical:y.default.bool,children:y.default.node,label:y.default.string,valuenow:y.default.string,valuetext:y.default.string},v=function(p){(0,d.default)(b,p);function b(g,m){var h;return(0,r.default)(this,b),h=(0,s.default)(this,(0,a.default)(b).call(this,g,m)),h.handleMouseDown=h.handleMouseDown.bind((0,l.default)(h)),h.handleMouseMove=h.handleMouseMove.bind((0,l.default)(h)),h.handleMouseUp=h.handleMouseUp.bind((0,l.default)(h)),h.handleFocus=h.handleFocus.bind((0,l.default)(h)),h.handleBlur=h.handleBlur.bind((0,l.default)(h)),h.handleClick=h.handleClick.bind((0,l.default)(h)),h.handleKeyPress=h.handleKeyPress.bind((0,l.default)(h)),h.stepForward=h.stepForward.bind((0,l.default)(h)),h.stepBack=h.stepBack.bind((0,l.default)(h)),h.calculateDistance=h.calculateDistance.bind((0,l.default)(h)),h.getProgress=h.getProgress.bind((0,l.default)(h)),h.renderChildren=h.renderChildren.bind((0,l.default)(h)),h.state={active:!1},h}return(0,i.default)(b,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"getProgress",value:function(){var m=this.props.getPercent;if(!m)return 0;var h=m();return(typeof h!="number"||h<0||h===1/0)&&(h=0),h}},{key:"handleMouseDown",value:function(m){var h=this.props.onMouseDown;document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0),document.addEventListener("touchmove",this.handleMouseMove,!0),document.addEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(m),this.handleMouseMove(m),h&&h(m)}},{key:"handleMouseMove",value:function(m){var h=this.props.onMouseMove;h&&h(m)}},{key:"handleMouseUp",value:function(m){m.preventDefault();var h=this.props.onMouseUp;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),document.removeEventListener("touchmove",this.handleMouseMove,!0),document.removeEventListener("touchend",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(m),h&&h(m)}},{key:"handleFocus",value:function(m){document.addEventListener("keydown",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(m)}},{key:"handleBlur",value:function(m){document.removeEventListener("keydown",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(m)}},{key:"handleClick",value:function(m){m.preventDefault(),this.props.onClick&&this.props.onClick(m)}},{key:"handleKeyPress",value:function(m){m.which===37||m.which===40?(m.preventDefault(),m.stopPropagation(),this.stepBack()):(m.which===38||m.which===39)&&(m.preventDefault(),m.stopPropagation(),this.stepForward())}},{key:"stepForward",value:function(){this.props.stepForward&&this.props.stepForward()}},{key:"stepBack",value:function(){this.props.stepBack&&this.props.stepBack()}},{key:"calculateDistance",value:function(m){var h=this.slider,T=f.getPointerPosition(h,m);return this.props.vertical?T.y:T.x}},{key:"renderChildren",value:function(){var m=this.getProgress(),h="".concat((m*100).toFixed(2),"%");return _.default.Children.map(this.props.children,function(T){return _.default.cloneElement(T,{progress:m,percentage:h})})}},{key:"render",value:function(){var m=this,h=this.props,T=h.vertical,x=h.label,k=h.valuenow,C=h.valuetext;return _.default.createElement("div",{className:(0,c.default)(this.props.className,{"video-react-slider-vertical":T,"video-react-slider-horizontal":!T,"video-react-sliding":this.state.active},"video-react-slider"),ref:function(A){m.slider=A},tabIndex:"0",role:"slider",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":x||"","aria-valuenow":k||"","aria-valuetext":C||"","aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),b}(_.Component);e.default=v,v.propTypes=w,v.displayName="Slider"}(Qf)),Qf}var Jf={},Ww;function tx(){return Ww||(Ww=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=t(De()),r=t(te),i=t(Ze()),s=hr(),a={currentTime:n.default.number,duration:n.default.number,percentage:n.default.string,className:n.default.string};function l(d){var y=d.currentTime,_=d.duration,c=d.percentage,f=d.className;return r.default.createElement("div",{"data-current-time":(0,s.formatTime)(y,_),className:(0,i.default)("video-react-play-progress video-react-slider-bar",f),style:{width:c}},r.default.createElement("span",{className:"video-react-control-text"},"Progress: ".concat(c)))}l.propTypes=a,l.displayName="PlayProgressBar"}(Jf)),Jf}var eh={},qw;function nx(){return qw||(qw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(De()),r=t(te),i=t(Ze()),s={duration:n.default.number,buffered:n.default.object,className:n.default.string};function a(l){var d=l.buffered,y=l.duration,_=l.className;if(!d||!d.length)return null;var c=d.end(d.length-1),f={};c>y&&(c=y);function w(h,T){var x=h/T||0;return"".concat((x>=1?1:x)*100,"%")}f.width=w(c,y);for(var v=[],p=0;p<d.length;p++){var b=d.start(p),g=d.end(p),m=r.default.createElement("div",{style:{left:w(b,c),width:w(g-b,c)},key:"part-".concat(p)});v.push(m)}return v.length===0&&(v=null),r.default.createElement("div",{style:f,className:(0,i.default)("video-react-load-progress",_)},r.default.createElement("span",{className:"video-react-control-text"},"Loaded: 0%"),v)}a.propTypes=s,a.displayName="LoadProgressBar"}(eh)),eh}var th={},Vw;function rx(){return Vw||(Vw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s=hr();function a(d){var y=d.duration,_=d.mouseTime,c=d.className,f=d.text;if(!_.time)return null;var w=f||(0,s.formatTime)(_.time,y);return r.default.createElement("div",{className:(0,i.default)("video-react-mouse-display",c),style:{left:"".concat(_.position,"px")},"data-current-time":w})}a.propTypes={duration:n.default.number,mouseTime:n.default.object,className:n.default.string},a.displayName="MouseTimeDisplay";var l=a;e.default=l}(th)),th}var Zw;function ix(){return Zw||(Zw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f=n(wv()),w=n(tx()),v=n(nx()),p=n(rx()),b=hr(),g={player:y.default.object,mouseTime:y.default.object,actions:y.default.object,className:y.default.string},m=function(h){(0,d.default)(T,h);function T(x,k){var C;return(0,r.default)(this,T),C=(0,s.default)(this,(0,a.default)(T).call(this,x,k)),C.getPercent=C.getPercent.bind((0,l.default)(C)),C.getNewTime=C.getNewTime.bind((0,l.default)(C)),C.stepForward=C.stepForward.bind((0,l.default)(C)),C.stepBack=C.stepBack.bind((0,l.default)(C)),C.handleMouseDown=C.handleMouseDown.bind((0,l.default)(C)),C.handleMouseMove=C.handleMouseMove.bind((0,l.default)(C)),C.handleMouseUp=C.handleMouseUp.bind((0,l.default)(C)),C}return(0,i.default)(T,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"getPercent",value:function(){var k=this.props.player,C=k.currentTime,E=k.seekingTime,A=k.duration,P=E||C,N=P/A;return N>=1?1:N}},{key:"getNewTime",value:function(k){var C=this.props.player.duration,E=this.slider.calculateDistance(k),A=E*C;return A===C?A-.1:A}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(k){var C=this.props.actions,E=this.getNewTime(k);C.seek(E),C.handleEndSeeking(E)}},{key:"handleMouseMove",value:function(k){var C=this.props.actions,E=this.getNewTime(k);C.handleSeekingTime(E)}},{key:"stepForward",value:function(){var k=this.props.actions;k.forward(5)}},{key:"stepBack",value:function(){var k=this.props.actions;k.replay(5)}},{key:"render",value:function(){var k=this,C=this.props,E=C.player,A=E.currentTime,P=E.seekingTime,N=E.duration,$=E.buffered,F=C.mouseTime,j=P||A;return _.default.createElement(f.default,{ref:function(H){k.slider=H},label:"video progress bar",className:(0,c.default)("video-react-progress-holder",this.props.className),valuenow:(this.getPercent()*100).toFixed(2),valuetext:(0,b.formatTime)(j,N),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},_.default.createElement(v.default,{buffered:$,currentTime:j,duration:N}),_.default.createElement(p.default,{duration:N,mouseTime:F}),_.default.createElement(w.default,{currentTime:j,duration:N}))}}]),T}(_.Component);e.default=m,m.propTypes=g,m.displayName="SeekBar"}(Xf)),Xf}var Gw;function ox(){return Gw||(Gw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Na()),i=n(st()),s=n(at()),a=n(gt()),l=n(vt()),d=n(mt()),y=n(yt()),_=n(De()),c=t(te),f=n(Ze()),w=t(pd()),v=n(ix()),p={player:_.default.object,className:_.default.string},b=function(g){(0,y.default)(m,g);function m(h,T){var x;return(0,i.default)(this,m),x=(0,a.default)(this,(0,l.default)(m).call(this,h,T)),x.state={mouseTime:{time:null,position:0}},x.handleMouseMoveThrottle=x.handleMouseMove.bind((0,d.default)(x)),x}return(0,s.default)(m,[{key:"handleMouseMove",value:function(T){if(T.pageX){var x=this.props.player.duration,k=this.seekBar,C=w.getPointerPosition(k,T).x*x,E=T.pageX-w.findElPosition(k).left;this.setState({mouseTime:{time:C,position:E}})}}},{key:"render",value:function(){var T=this,x=this.props.className;return c.default.createElement("div",{onMouseMove:this.handleMouseMoveThrottle,className:(0,f.default)("video-react-progress-control video-react-control",x)},c.default.createElement(v.default,(0,r.default)({mouseTime:this.state.mouseTime,ref:function(C){T.seekBar=C}},this.props)))}}]),m}(c.Component);e.default=b,b.propTypes=p,b.displayName="ProgressControl"}(Kf)),Kf}var nh={},Yw;function sx(){return Yw||(Yw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f={actions:y.default.object,player:y.default.object,className:y.default.string},w=function(v){(0,d.default)(p,v);function p(b,g){var m;return(0,r.default)(this,p),m=(0,s.default)(this,(0,a.default)(p).call(this,b,g)),m.handleClick=m.handleClick.bind((0,l.default)(m)),m}return(0,i.default)(p,[{key:"handleClick",value:function(){var g=this.props,m=g.actions,h=g.player;h.paused?m.play():m.pause()}},{key:"render",value:function(){var g=this,m=this.props,h=m.player,T=m.className,x=h.paused?"Play":"Pause";return _.default.createElement("button",{ref:function(C){g.button=C},className:(0,c.default)(T,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":h.paused,"video-react-playing":!h.paused}),type:"button",tabIndex:"0",onClick:this.handleClick},_.default.createElement("span",{className:"video-react-control-text"},x))}}]),p}(_.Component);e.default=w,w.propTypes=f,w.displayName="PlayToggle"}(nh)),nh}var rh={},ih={},Kw;function ax(){return Kw||(Kw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c={actions:y.default.object,className:y.default.string,seconds:y.default.oneOf([5,10,30])},f={seconds:10},w=function(p){var b=function(g){(0,d.default)(m,g);function m(h,T){var x;return(0,r.default)(this,m),x=(0,s.default)(this,(0,a.default)(m).call(this,h,T)),x.handleClick=x.handleClick.bind((0,l.default)(x)),x}return(0,i.default)(m,[{key:"handleClick",value:function(){var T=this.props,x=T.actions,k=T.seconds;p==="forward"?x.forward(k):x.replay(k)}},{key:"render",value:function(){var T=this,x=this.props,k=x.seconds,C=x.className,E=["video-react-control","video-react-button","video-react-icon"];return E.push("video-react-icon-".concat(p,"-").concat(k),"video-react-".concat(p,"-control")),C&&E.push(C),_.default.createElement("button",{ref:function(P){T.button=P},className:E.join(" "),type:"button",onClick:this.handleClick},_.default.createElement("span",{className:"video-react-control-text"},"".concat(p," ").concat(k," seconds")))}}]),m}(_.Component);return b.propTypes=c,b.defaultProps=f,b};e.default=w}(ih)),ih}var Xw;function lx(){return Xw||(Xw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(ax()),r=(0,n.default)("forward");r.displayName="ForwardControl";var i=r;e.default=i}(rh)),rh}var oh={},Qw;function ux(){return Qw||(Qw=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(ax()),r=(0,n.default)("replay");r.displayName="ReplayControl";var i=r;e.default=i}(oh)),oh}var sh={},Jw;function cx(){return Jw||(Jw=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f={actions:y.default.object,player:y.default.object,className:y.default.string},w=function(v){(0,d.default)(p,v);function p(b,g){var m;return(0,r.default)(this,p),m=(0,s.default)(this,(0,a.default)(p).call(this,b,g)),m.handleClick=m.handleClick.bind((0,l.default)(m)),m}return(0,i.default)(p,[{key:"handleClick",value:function(){var g=this.props,m=g.player,h=g.actions;h.toggleFullscreen(m)}},{key:"render",value:function(){var g=this,m=this.props,h=m.player,T=m.className;return _.default.createElement("button",{className:(0,c.default)(T,{"video-react-icon-fullscreen-exit":h.isFullscreen,"video-react-icon-fullscreen":!h.isFullscreen},"video-react-fullscreen-control video-react-control video-react-button video-react-icon"),ref:function(k){g.button=k},type:"button",tabIndex:"0",onClick:this.handleClick},_.default.createElement("span",{className:"video-react-control-text"},"Non-Fullscreen"))}}]),p}(_.Component);e.default=w,w.propTypes=f,w.displayName="FullscreenToggle"}(sh)),sh}var ah={},eb;function dx(){return eb||(eb=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s=hr(),a={player:n.default.object,className:n.default.string};function l(y){var _=y.player,c=_.currentTime,f=_.duration,w=y.className,v=f-c,p=(0,s.formatTime)(v);return r.default.createElement("div",{className:(0,i.default)("video-react-remaining-time video-react-time-control video-react-control",w)},r.default.createElement("div",{className:"video-react-remaining-time-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Remaining Time "),"-".concat(p)))}l.propTypes=a,l.displayName="RemainingTimeDisplay";var d=l;e.default=d}(ah)),ah}var lh={},tb;function fx(){return tb||(tb=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s=hr(),a={player:n.default.object,className:n.default.string};function l(y){var _=y.player,c=_.currentTime,f=_.duration,w=y.className,v=(0,s.formatTime)(c,f);return r.default.createElement("div",{className:(0,i.default)("video-react-current-time video-react-time-control video-react-control",w)},r.default.createElement("div",{className:"video-react-current-time-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Current Time "),v))}l.propTypes=a,l.displayName="CurrentTimeDisplay";var d=l;e.default=d}(lh)),lh}var uh={},nb;function hx(){return nb||(nb=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s=hr(),a={player:n.default.object,className:n.default.string};function l(y){var _=y.player.duration,c=y.className,f=(0,s.formatTime)(_);return r.default.createElement("div",{className:(0,i.default)(c,"video-react-duration video-react-time-control video-react-control")},r.default.createElement("div",{className:"video-react-duration-display","aria-live":"off"},r.default.createElement("span",{className:"video-react-control-text"},"Duration Time "),f))}l.propTypes=a,l.displayName="DurationDisplay";var d=l;e.default=d}(uh)),uh}var ch={},rb;function px(){return rb||(rb=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(De()),r=t(te),i=t(Ze()),s={separator:n.default.string,className:n.default.string};function a(l){var d=l.separator,y=l.className,_=d||"/";return r.default.createElement("div",{className:(0,i.default)("video-react-time-control video-react-time-divider",y),dir:"ltr"},r.default.createElement("div",null,r.default.createElement("span",null,_)))}a.propTypes=s,a.displayName="TimeDivider"}(ch)),ch}var dh={},fh={},hh={},ib;function mx(){return ib||(ib=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Na()),i=n(vi()),s=n(st()),a=n(at()),l=n(gt()),d=n(vt()),y=n(mt()),_=n(yt()),c=n(De()),f=t(te),w=n(Ze()),v={tagName:c.default.string,onClick:c.default.func.isRequired,onFocus:c.default.func,onBlur:c.default.func,className:c.default.string},p={tagName:"div"},b=function(g){(0,_.default)(m,g);function m(h,T){var x;return(0,s.default)(this,m),x=(0,l.default)(this,(0,d.default)(m).call(this,h,T)),x.handleClick=x.handleClick.bind((0,y.default)(x)),x.handleFocus=x.handleFocus.bind((0,y.default)(x)),x.handleBlur=x.handleBlur.bind((0,y.default)(x)),x.handleKeypress=x.handleKeypress.bind((0,y.default)(x)),x}return(0,a.default)(m,[{key:"componentWillUnmount",value:function(T){this.handleBlur(T)}},{key:"handleKeypress",value:function(T){(T.which===32||T.which===13)&&(T.preventDefault(),this.handleClick(T))}},{key:"handleClick",value:function(T){var x=this.props.onClick;x(T)}},{key:"handleFocus",value:function(T){document.addEventListener("keydown",this.handleKeypress),this.props.onFocus&&this.props.onFocus(T)}},{key:"handleBlur",value:function(T){document.removeEventListener("keydown",this.handleKeypress),this.props.onBlur&&this.props.onBlur(T)}},{key:"render",value:function(){var T=this.props.tagName,x=(0,i.default)({},this.props);return delete x.tagName,delete x.className,f.default.createElement(T,(0,r.default)({className:(0,w.default)(this.props.className),role:"button",tabIndex:"0",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},x))}}]),m}(f.Component);e.default=b,b.propTypes=v,b.defaultProps=p,b.displayName="ClickableComponent"}(hh)),hh}var ph={},ob;function sz(){return ob||(ob=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c={player:y.default.object,children:y.default.any},f=function(w){(0,d.default)(v,w);function v(p,b){var g;return(0,r.default)(this,v),g=(0,s.default)(this,(0,a.default)(v).call(this,p,b)),g.handleClick=g.handleClick.bind((0,l.default)(g)),g}return(0,i.default)(v,[{key:"handleClick",value:function(b){b.preventDefault()}},{key:"render",value:function(){var b=this.props.children;return _.default.createElement("div",{className:"video-react-menu",onClick:this.handleClick},_.default.createElement("div",{className:"video-react-menu-content"},b))}}]),v}(_.Component);e.default=f,f.propTypes=c,f.displayName="Popup"}(ph)),ph}var sb;function az(){return sb||(sb=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=t(Na()),r=t(vi()),i=t(De()),s=t(te),a=t(Ze()),l=t(mx()),d=t(sz()),y={inline:i.default.bool,onClick:i.default.func.isRequired,onFocus:i.default.func,onBlur:i.default.func,className:i.default.string},_={inline:!0};function c(f){var w=f.inline,v=f.className,p=(0,r.default)({},f);return delete p.children,delete p.inline,delete p.className,s.default.createElement(l.default,(0,n.default)({className:(0,a.default)(v,{"video-react-menu-button-inline":!!w,"video-react-menu-button-popup":!w},"video-react-control video-react-button video-react-menu-button")},p),s.default.createElement(d.default,f))}c.propTypes=y,c.defaultProps=_,c.displayName="PopupButton"}(fh)),fh}var mh={},gh={},ab;function lz(){return ab||(ab=1,function(e){var t=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(De()),r=t(te),i=t(Ze()),s={percentage:n.default.string,vertical:n.default.bool,className:n.default.string},a={percentage:"100%",vertical:!1};function l(y){var _=y.percentage,c=y.vertical,f=y.className,w={};return c?w.height=_:w.width=_,r.default.createElement("div",{className:(0,i.default)(f,"video-react-volume-level"),style:w},r.default.createElement("span",{className:"video-react-control-text"}))}l.propTypes=s,l.defaultProps=a,l.displayName="VolumeLevel";var d=l;e.default=d}(gh)),gh}var lb;function uz(){return lb||(lb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Na()),i=n(st()),s=n(at()),a=n(gt()),l=n(vt()),d=n(mt()),y=n(yt()),_=n(De()),c=t(te),f=n(Ze()),w=n(wv()),v=n(lz()),p={actions:_.default.object,player:_.default.object,className:_.default.string,onFocus:_.default.func,onBlur:_.default.func},b=function(m){(0,y.default)(h,m);function h(T,x){var k;return(0,i.default)(this,h),k=(0,a.default)(this,(0,l.default)(h).call(this,T,x)),k.state={percentage:"0%"},k.handleMouseMove=k.handleMouseMove.bind((0,d.default)(k)),k.handlePercentageChange=k.handlePercentageChange.bind((0,d.default)(k)),k.checkMuted=k.checkMuted.bind((0,d.default)(k)),k.getPercent=k.getPercent.bind((0,d.default)(k)),k.stepForward=k.stepForward.bind((0,d.default)(k)),k.stepBack=k.stepBack.bind((0,d.default)(k)),k.handleFocus=k.handleFocus.bind((0,d.default)(k)),k.handleBlur=k.handleBlur.bind((0,d.default)(k)),k.handleClick=k.handleClick.bind((0,d.default)(k)),k}return(0,s.default)(h,[{key:"componentDidMount",value:function(){}},{key:"getPercent",value:function(){var x=this.props.player;return x.muted?0:x.volume}},{key:"checkMuted",value:function(){var x=this.props,k=x.player,C=x.actions;k.muted&&C.mute(!1)}},{key:"handleMouseMove",value:function(x){var k=this.props.actions;this.checkMuted();var C=this.slider.calculateDistance(x);k.changeVolume(C)}},{key:"stepForward",value:function(){var x=this.props,k=x.player,C=x.actions;this.checkMuted(),C.changeVolume(k.volume+.1)}},{key:"stepBack",value:function(){var x=this.props,k=x.player,C=x.actions;this.checkMuted(),C.changeVolume(k.volume-.1)}},{key:"handleFocus",value:function(x){this.props.onFocus&&this.props.onFocus(x)}},{key:"handleBlur",value:function(x){this.props.onBlur&&this.props.onBlur(x)}},{key:"handlePercentageChange",value:function(x){x!==this.state.percentage&&this.setState({percentage:x})}},{key:"handleClick",value:function(x){x.stopPropagation()}},{key:"render",value:function(){var x=this,k=this.props,C=k.player,E=k.className,A=(C.volume*100).toFixed(2);return c.default.createElement(w.default,(0,r.default)({ref:function(N){x.slider=N},label:"volume level",valuenow:A,valuetext:"".concat(A,"%"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,f.default)(E,"video-react-volume-bar video-react-slider-bar")}),c.default.createElement(v.default,this.props))}}]),h}(c.Component);b.propTypes=p,b.displayName="VolumeBar";var g=b;e.default=g}(mh)),mh}var ub;function gx(){return ub||(ub=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(Na()),i=n(st()),s=n(at()),a=n(gt()),l=n(vt()),d=n(mt()),y=n(yt()),_=n(De()),c=t(te),f=n(Ze()),w=n(az()),v=n(uz()),p={player:_.default.object,actions:_.default.object,vertical:_.default.bool,className:_.default.string,alwaysShowVolume:_.default.bool},b={vertical:!1},g=function(h){(0,y.default)(T,h);function T(x,k){var C;return(0,i.default)(this,T),C=(0,a.default)(this,(0,l.default)(T).call(this,x,k)),C.state={active:!1},C.handleClick=C.handleClick.bind((0,d.default)(C)),C.handleFocus=C.handleFocus.bind((0,d.default)(C)),C.handleBlur=C.handleBlur.bind((0,d.default)(C)),C}return(0,s.default)(T,[{key:"handleClick",value:function(){var k=this.props,C=k.player,E=k.actions;E.mute(!C.muted)}},{key:"handleFocus",value:function(){this.setState({active:!0})}},{key:"handleBlur",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var k=this.props,C=k.vertical,E=k.player,A=k.className,P=!C,N=this.volumeLevel;return c.default.createElement(w.default,{className:(0,f.default)(A,{"video-react-volume-menu-button-vertical":C,"video-react-volume-menu-button-horizontal":!C,"video-react-vol-muted":E.muted,"video-react-vol-0":N===0&&!E.muted,"video-react-vol-1":N===1,"video-react-vol-2":N===2,"video-react-vol-3":N===3,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},"video-react-volume-menu-button"),onClick:this.handleClick,inline:P},c.default.createElement(v.default,(0,r.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:"volumeLevel",get:function(){var k=this.props.player,C=k.volume,E=k.muted,A=3;return C===0||E?A=0:C<.33?A=1:C<.67&&(A=2),A}}]),T}(c.Component);g.propTypes=p,g.defaultProps=b,g.displayName="VolumeMenuButton";var m=g;e.default=m}(dh)),dh}var vh={},yh={},_h={},cb;function cz(){return cb||(cb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c={children:y.default.any},f=function(w){(0,d.default)(v,w);function v(p,b){var g;return(0,r.default)(this,v),g=(0,s.default)(this,(0,a.default)(v).call(this,p,b)),g.handleClick=g.handleClick.bind((0,l.default)(g)),g}return(0,i.default)(v,[{key:"handleClick",value:function(b){b.preventDefault()}},{key:"render",value:function(){return _.default.createElement("div",{className:"video-react-menu video-react-lock-showing",role:"presentation",onClick:this.handleClick},_.default.createElement("ul",{className:"video-react-menu-content"},this.props.children))}}]),v}(_.Component);e.default=f,f.propTypes=c,f.displayName="Menu"}(_h)),_h}var wh={},db;function dz(){return db||(db=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f={item:y.default.object,index:y.default.number,activateIndex:y.default.number,onSelectItem:y.default.func},w=function(v){(0,d.default)(p,v);function p(b,g){var m;return(0,r.default)(this,p),m=(0,s.default)(this,(0,a.default)(p).call(this,b,g)),m.handleClick=m.handleClick.bind((0,l.default)(m)),m}return(0,i.default)(p,[{key:"handleClick",value:function(){var g=this.props,m=g.index,h=g.onSelectItem;h(m)}},{key:"render",value:function(){var g=this.props,m=g.item,h=g.index,T=g.activateIndex;return _.default.createElement("li",{className:(0,c.default)({"video-react-menu-item":!0,"video-react-selected":h===T}),role:"menuitem",onClick:this.handleClick},m.label,_.default.createElement("span",{className:"video-react-control-text"}))}}]),p}(_.Component);e.default=w,w.propTypes=f,w.displayName="MenuItem"}(wh)),wh}var fb;function bv(){return fb||(fb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f=n(cz()),w=n(dz()),v=n(mx()),p={inline:y.default.bool,items:y.default.array,className:y.default.string,onSelectItem:y.default.func,children:y.default.any,selectedIndex:y.default.number},b=function(g){(0,d.default)(m,g);function m(h,T){var x;return(0,r.default)(this,m),x=(0,s.default)(this,(0,a.default)(m).call(this,h,T)),x.state={active:!1,activateIndex:h.selectedIndex||0},x.commitSelection=x.commitSelection.bind((0,l.default)(x)),x.activateMenuItem=x.activateMenuItem.bind((0,l.default)(x)),x.handleClick=x.handleClick.bind((0,l.default)(x)),x.renderMenu=x.renderMenu.bind((0,l.default)(x)),x.handleFocus=x.handleFocus.bind((0,l.default)(x)),x.handleBlur=x.handleBlur.bind((0,l.default)(x)),x.handleUpArrow=x.handleUpArrow.bind((0,l.default)(x)),x.handleDownArrow=x.handleDownArrow.bind((0,l.default)(x)),x.handleEscape=x.handleEscape.bind((0,l.default)(x)),x.handleReturn=x.handleReturn.bind((0,l.default)(x)),x.handleTab=x.handleTab.bind((0,l.default)(x)),x.handleKeyPress=x.handleKeyPress.bind((0,l.default)(x)),x.handleSelectItem=x.handleSelectItem.bind((0,l.default)(x)),x.handleIndexChange=x.handleIndexChange.bind((0,l.default)(x)),x}return(0,i.default)(m,[{key:"componentDidUpdate",value:function(T){T.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:"commitSelection",value:function(T){this.setState({activateIndex:T}),this.handleIndexChange(T)}},{key:"activateMenuItem",value:function(T){this.setState({activateIndex:T}),this.handleIndexChange(T)}},{key:"handleIndexChange",value:function(T){var x=this.props.onSelectItem;x(T)}},{key:"handleClick",value:function(){this.setState(function(T){return{active:!T.active}})}},{key:"handleFocus",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleBlur",value:function(){this.setState({active:!1}),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleUpArrow",value:function(T){var x=this.props.items;if(this.state.active){T.preventDefault();var k=this.state.activateIndex-1;k<0&&(k=x.length?x.length-1:0),this.activateMenuItem(k)}}},{key:"handleDownArrow",value:function(T){var x=this.props.items;if(this.state.active){T.preventDefault();var k=this.state.activateIndex+1;k>=x.length&&(k=0),this.activateMenuItem(k)}}},{key:"handleTab",value:function(T){this.state.active&&(T.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:"handleReturn",value:function(T){T.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:"handleEscape",value:function(){this.setState({active:!1,activateIndex:0})}},{key:"handleKeyPress",value:function(T){T.which===27?this.handleEscape(T):T.which===9?this.handleTab(T):T.which===13?this.handleReturn(T):T.which===38?this.handleUpArrow(T):T.which===40&&this.handleDownArrow(T)}},{key:"handleSelectItem",value:function(T){this.commitSelection(T)}},{key:"renderMenu",value:function(){var T=this;if(!this.state.active)return null;var x=this.props.items;return _.default.createElement(f.default,null,x.map(function(k,C){return _.default.createElement(w.default,{item:k,index:C,onSelectItem:T.handleSelectItem,activateIndex:T.state.activateIndex,key:"item-".concat(C++)})}))}},{key:"render",value:function(){var T=this,x=this.props,k=x.inline,C=x.className;return _.default.createElement(v.default,{className:(0,c.default)(C,{"video-react-menu-button-inline":!!k,"video-react-menu-button-popup":!k,"video-react-menu-button-active":this.state.active},"video-react-control video-react-button video-react-menu-button"),role:"button",tabIndex:"0",ref:function(A){T.menuButton=A},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),m}(_.Component);e.default=b,b.propTypes=p,b.displayName="MenuButton"}(yh)),yh}var hb;function Tv(){return hb||(hb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f=n(bv()),w={player:y.default.object,actions:y.default.object,rates:y.default.array,className:y.default.string},v={rates:[2,1.5,1.25,1,.5,.25]},p=function(g){(0,d.default)(m,g);function m(h,T){var x;return(0,r.default)(this,m),x=(0,s.default)(this,(0,a.default)(m).call(this,h,T)),x.handleSelectItem=x.handleSelectItem.bind((0,l.default)(x)),x}return(0,i.default)(m,[{key:"handleSelectItem",value:function(T){var x=this.props,k=x.rates,C=x.actions;T>=0&&T<k.length&&C.changeRate(k[T])}},{key:"render",value:function(){var T=this.props,x=T.rates,k=T.player,C=x.map(function(A){return{label:"".concat(A,"x"),value:A}}),E=x.indexOf(k.playbackRate)||0;return _.default.createElement(f.default,{className:(0,c.default)("video-react-playback-rate",this.props.className),onSelectItem:this.handleSelectItem,items:C,selectedIndex:E},_.default.createElement("span",{className:"video-react-control-text"},"Playback Rate"),_.default.createElement("div",{className:"video-react-playback-rate-value"},"".concat(k.playbackRate.toFixed(2),"x")))}}]),m}(_.Component);p.propTypes=w,p.defaultProps=v,p.displayName="PlaybackRateMenuButton";var b=p;e.default=b}(vh)),vh}var pb;function vx(){return pb||(pb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(yv()),i=n(st()),s=n(at()),a=n(gt()),l=n(vt()),d=n(mt()),y=n(yt()),_=n(De()),c=t(te),f=n(Ze()),w=n(ox()),v=n(sx()),p=n(lx()),b=n(ux()),g=n(cx()),m=n(dx()),h=n(fx()),T=n(hx()),x=n(px()),k=n(gx()),C=n(Tv()),E=hr(),A={children:_.default.any,autoHide:_.default.bool,autoHideTime:_.default.number,disableDefaultControls:_.default.bool,disableCompletely:_.default.bool,className:_.default.string},P={autoHide:!0,disableCompletely:!1},N=function($){(0,y.default)(F,$);function F(j){var B;return(0,i.default)(this,F),B=(0,a.default)(this,(0,l.default)(F).call(this,j)),B.getDefaultChildren=B.getDefaultChildren.bind((0,d.default)(B)),B.getFullChildren=B.getFullChildren.bind((0,d.default)(B)),B}return(0,s.default)(F,[{key:"getDefaultChildren",value:function(){return[c.default.createElement(v.default,{key:"play-toggle",order:1}),c.default.createElement(k.default,{key:"volume-menu-button",order:4}),c.default.createElement(h.default,{key:"current-time-display",order:5.1}),c.default.createElement(x.default,{key:"time-divider",order:5.2}),c.default.createElement(T.default,{key:"duration-display",order:5.3}),c.default.createElement(w.default,{key:"progress-control",order:6}),c.default.createElement(g.default,{key:"fullscreen-toggle",order:8})]}},{key:"getFullChildren",value:function(){return[c.default.createElement(v.default,{key:"play-toggle",order:1}),c.default.createElement(b.default,{key:"replay-control",order:2}),c.default.createElement(p.default,{key:"forward-control",order:3}),c.default.createElement(k.default,{key:"volume-menu-button",order:4}),c.default.createElement(h.default,{key:"current-time-display",order:5}),c.default.createElement(x.default,{key:"time-divider",order:6}),c.default.createElement(T.default,{key:"duration-display",order:7}),c.default.createElement(w.default,{key:"progress-control",order:8}),c.default.createElement(m.default,{key:"remaining-time-display",order:9}),c.default.createElement(C.default,{rates:[1,1.25,1.5,2],key:"playback-rate",order:10}),c.default.createElement(g.default,{key:"fullscreen-toggle",order:11})]}},{key:"getChildren",value:function(){var B=c.default.Children.toArray(this.props.children),H=this.props.disableDefaultControls?[]:this.getDefaultChildren(),U=this.props;U.className;var W=(0,r.default)(U,["className"]);return(0,E.mergeAndSortChildren)(H,B,W)}},{key:"render",value:function(){var B=this.props,H=B.autoHide,U=B.className,W=B.disableCompletely,Y=this.getChildren();return W?null:c.default.createElement("div",{className:(0,f.default)("video-react-control-bar",{"video-react-control-bar-auto-hide":H},U)},Y)}}]),F}(c.Component);e.default=N,N.propTypes=A,N.defaultProps=P,N.displayName="ControlBar"}(Yf)),Yf}var zn={},mb;function fz(){if(mb)return zn;mb=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.IS_IOS=zn.IS_IPOD=zn.IS_IPHONE=zn.IS_IPAD=void 0;var e=typeof window<"u"&&window.navigator?window.navigator.userAgent:"",t=/iPad/i.test(e);zn.IS_IPAD=t;var n=/iPhone/i.test(e)&&!t;zn.IS_IPHONE=n;var r=/iPod/i.test(e);zn.IS_IPOD=r;var i=n||t||r;return zn.IS_IOS=i,zn}var gb;function hz(){return gb||(gb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(vi()),i=n(fd()),s=n(yv()),a=n(st()),l=n(at()),d=n(gt()),y=n(vt()),_=n(mt()),c=n(yt()),f=n(De()),w=t(te),v=n(Ze()),p=n(G4()),b=n(ZE()),g=n(GE()),m=n(YE()),h=n(QE()),T=n(JE()),x=n(ex()),k=n(vx()),C=t(fz()),E=pd(),A=hr(),P=n(qE()),N={children:f.default.any,width:f.default.oneOfType([f.default.string,f.default.number]),height:f.default.oneOfType([f.default.string,f.default.number]),fluid:f.default.bool,muted:f.default.bool,playsInline:f.default.bool,aspectRatio:f.default.string,className:f.default.string,videoId:f.default.string,startTime:f.default.number,loop:f.default.bool,autoPlay:f.default.bool,src:f.default.string,poster:f.default.string,preload:f.default.oneOf(["auto","metadata","none"]),onLoadStart:f.default.func,onWaiting:f.default.func,onCanPlay:f.default.func,onCanPlayThrough:f.default.func,onPlaying:f.default.func,onEnded:f.default.func,onSeeking:f.default.func,onSeeked:f.default.func,onPlay:f.default.func,onPause:f.default.func,onProgress:f.default.func,onDurationChange:f.default.func,onError:f.default.func,onSuspend:f.default.func,onAbort:f.default.func,onEmptied:f.default.func,onStalled:f.default.func,onLoadedMetadata:f.default.func,onLoadedData:f.default.func,onTimeUpdate:f.default.func,onRateChange:f.default.func,onVolumeChange:f.default.func,store:f.default.object},$={fluid:!0,muted:!1,playsInline:!1,preload:"auto",aspectRatio:"auto"},F=function(j){(0,c.default)(B,j);function B(H){var U;return(0,a.default)(this,B),U=(0,d.default)(this,(0,y.default)(B).call(this,H)),U.controlsHideTimer=null,U.video=null,U.manager=new p.default(H.store),U.actions=U.manager.getActions(),U.manager.subscribeToPlayerStateChange(U.handleStateChange.bind((0,_.default)(U))),U.getStyle=U.getStyle.bind((0,_.default)(U)),U.handleResize=U.handleResize.bind((0,_.default)(U)),U.getChildren=U.getChildren.bind((0,_.default)(U)),U.handleMouseMove=(0,A.throttle)(U.handleMouseMove.bind((0,_.default)(U)),250),U.handleMouseDown=U.handleMouseDown.bind((0,_.default)(U)),U.startControlsTimer=U.startControlsTimer.bind((0,_.default)(U)),U.handleFullScreenChange=U.handleFullScreenChange.bind((0,_.default)(U)),U.handleKeyDown=U.handleKeyDown.bind((0,_.default)(U)),U.handleFocus=U.handleFocus.bind((0,_.default)(U)),U.handleBlur=U.handleBlur.bind((0,_.default)(U)),U}return(0,l.default)(B,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize),P.default.addEventListener(this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),P.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:"getDefaultChildren",value:function(U){var W=this;return[w.default.createElement(h.default,{ref:function(G){W.video=G,W.manager.video=W.video},key:"video",order:0},U),w.default.createElement(m.default,{key:"poster-image",order:1}),w.default.createElement(g.default,{key:"loading-spinner",order:2}),w.default.createElement(T.default,{key:"bezel",order:3}),w.default.createElement(b.default,{key:"big-play-button",order:4}),w.default.createElement(k.default,{key:"control-bar",order:5}),w.default.createElement(x.default,{key:"shortcut",order:99})]}},{key:"getChildren",value:function(U){U.className;var W=U.children,Y=(0,s.default)(U,["className","children"]),G=w.default.Children.toArray(this.props.children).filter(function(oe){return!(0,A.isVideoChild)(oe)}),J=this.getDefaultChildren(W);return(0,A.mergeAndSortChildren)(J,G,Y)}},{key:"setWidthOrHeight",value:function(U,W,Y){var G;typeof Y=="string"?Y==="auto"?G="auto":Y.match(/\d+%/)&&(G=Y):typeof Y=="number"&&(G="".concat(Y,"px")),Object.assign(U,(0,i.default)({},W,G))}},{key:"getStyle",value:function(){var U=this.props,W=U.fluid,Y=U.aspectRatio,G=U.height,J=U.width,oe=this.manager.getState(),ce=oe.player,fe={},de,ue,be;Y!==void 0&&Y!=="auto"?be=Y:ce.videoWidth?be="".concat(ce.videoWidth,":").concat(ce.videoHeight):be="16:9";var re=be.split(":"),M=re[1]/re[0];return J!==void 0?de=J:G!==void 0?de=G/M:de=ce.videoWidth||400,G!==void 0?ue=G:ue=de*M,W?fe.paddingTop="".concat(M*100,"%"):(this.setWidthOrHeight(fe,"width",de),this.setWidthOrHeight(fe,"height",ue)),fe}},{key:"getState",value:function(){return this.manager.getState()}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"load",value:function(){this.video.load()}},{key:"addTextTrack",value:function(){var U;(U=this.video).addTextTrack.apply(U,arguments)}},{key:"canPlayType",value:function(){var U;(U=this.video).canPlayType.apply(U,arguments)}},{key:"seek",value:function(U){this.video.seek(U)}},{key:"forward",value:function(U){this.video.forward(U)}},{key:"replay",value:function(U){this.video.replay(U)}},{key:"toggleFullscreen",value:function(){this.video.toggleFullscreen()}},{key:"subscribeToStateChange",value:function(U){return this.manager.subscribeToPlayerStateChange(U)}},{key:"handleResize",value:function(){}},{key:"handleFullScreenChange",value:function(U){U.target===this.manager.rootElement&&this.actions.handleFullscreenChange(P.default.isFullscreen)}},{key:"handleMouseDown",value:function(){this.startControlsTimer()}},{key:"handleMouseMove",value:function(){this.startControlsTimer()}},{key:"handleKeyDown",value:function(){this.startControlsTimer()}},{key:"startControlsTimer",value:function(){var U=this,W=3e3;w.default.Children.forEach(this.props.children,function(Y){if(!(!w.default.isValidElement(Y)||Y.type!==k.default)){var G=Y.props.autoHideTime;typeof G=="number"&&(W=G)}}),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){U.actions.userActivate(!1)},W)}},{key:"handleStateChange",value:function(U,W){U.isFullscreen!==W.isFullscreen&&(this.handleResize(),(0,E.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:"handleFocus",value:function(){this.actions.activate(!0)}},{key:"handleBlur",value:function(){this.actions.activate(!1)}},{key:"render",value:function(){var U=this,W=this.props.fluid,Y=this.manager.getState(),G=Y.player,J=G.paused,oe=G.hasStarted,ce=G.waiting,fe=G.seeking,de=G.isFullscreen,ue=G.userActivity,be=(0,r.default)({},this.props,{player:G,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),re=this.getChildren(be);return w.default.createElement("div",{className:(0,v.default)({"video-react-controls-enabled":!0,"video-react-has-started":oe,"video-react-paused":J,"video-react-playing":!J,"video-react-waiting":ce,"video-react-seeking":fe,"video-react-fluid":W,"video-react-fullscreen":de,"video-react-user-inactive":!ue,"video-react-user-active":ue,"video-react-workinghover":!C.IS_IOS},"video-react",this.props.className),style:this.getStyle(),ref:function(z){U.manager.rootElement=z},role:"region",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:"-1"},re)}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(U){this.video.playbackRate=U}},{key:"muted",get:function(){return this.video.muted},set:function(U){this.video.muted=U}},{key:"volume",get:function(){return this.video.volume},set:function(U){this.video.volume=U}},{key:"videoWidth",get:function(){return this.video.videoWidth}},{key:"videoHeight",get:function(){return this.video.videoHeight}}]),B}(w.Component);e.default=F,F.contextTypes={store:f.default.object},F.propTypes=N,F.defaultProps=$,F.displayName="Player"}($f)),$f}var bh={},vb;function pz(){return vb||(vb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(yt()),d=t(te),y=n(Tv()),_=hr(),c=function(f){(0,l.default)(w,f);function w(v,p){var b;return(0,r.default)(this,w),b=(0,s.default)(this,(0,a.default)(w).call(this,v,p)),(0,_.deprecatedWarning)("PlaybackRate","PlaybackRateMenuButton"),b}return(0,i.default)(w,[{key:"render",value:function(){return d.default.createElement(y.default,this.props)}}]),w}(d.Component);e.default=c,c.displayName="PlaybackRate"}(bh)),bh}var Th={},yb;function mz(){return yb||(yb=1,function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(st()),i=n(at()),s=n(gt()),a=n(vt()),l=n(mt()),d=n(yt()),y=n(De()),_=t(te),c=n(Ze()),f=n(bv()),w={player:y.default.object,actions:y.default.object,className:y.default.string,offMenuText:y.default.string,showOffMenu:y.default.bool,kinds:y.default.array},v={offMenuText:"Off",showOffMenu:!0,kinds:["captions","subtitles"]},p=function(g){(0,d.default)(m,g);function m(h,T){var x;return(0,r.default)(this,m),x=(0,s.default)(this,(0,a.default)(m).call(this,h,T)),x.getTextTrackItems=x.getTextTrackItems.bind((0,l.default)(x)),x.updateState=x.updateState.bind((0,l.default)(x)),x.handleSelectItem=x.handleSelectItem.bind((0,l.default)(x)),x.state=x.getTextTrackItems(),x}return(0,i.default)(m,[{key:"componentDidUpdate",value:function(){this.updateState()}},{key:"getTextTrackItems",value:function(){var T=this.props,x=T.kinds,k=T.player,C=T.offMenuText,E=T.showOffMenu,A=k.textTracks,P=k.activeTextTrack,N={items:[],selectedIndex:0},$=Array.from(A||[]);return $.length===0||(E&&N.items.push({label:C||"Off",value:null}),$.forEach(function(F){x.length&&!x.includes(F.kind)||N.items.push({label:F.label,value:F.language})}),N.selectedIndex=N.items.findIndex(function(F){return P&&P.language===F.value}),N.selectedIndex===-1&&(N.selectedIndex=0)),N}},{key:"updateState",value:function(){var T=this.getTextTrackItems();(T.selectedIndex!==this.state.selectedIndex||!this.textTrackItemsAreEqual(T.items,this.state.items))&&this.setState(T)}},{key:"textTrackItemsAreEqual",value:function(T,x){if(T.length!==x.length)return!1;for(var k=0;k<T.length;k++)if(!x[k]||T[k].label!==x[k].label||T[k].value!==x[k].value)return!1;return!0}},{key:"handleSelectItem",value:function(T){var x=this.props,k=x.player,C=x.actions,E=x.showOffMenu,A=k.textTracks;Array.from(A).forEach(function(P,N){T===(E?N+1:N)?(P.mode="showing",C.activateTextTrack(P)):P.mode="hidden"})}},{key:"render",value:function(){var T=this.state,x=T.items,k=T.selectedIndex;return _.default.createElement(f.default,{className:(0,c.default)("video-react-closed-caption",this.props.className),onSelectItem:this.handleSelectItem,items:x,selectedIndex:k},_.default.createElement("span",{className:"video-react-control-text"},"Closed Caption"))}}]),m}(_.Component);p.propTypes=w,p.defaultProps=v,p.displayName="ClosedCaptionButton";var b=p;e.default=b}(Th)),Th}(function(e){var t=rt,n=ke;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Player",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Video",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"BigPlayButton",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"LoadingSpinner",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PosterImage",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Bezel",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Shortcut",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"ControlBar",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"PlayToggle",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ForwardControl",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"ReplayControl",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"FullscreenToggle",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"ProgressControl",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"SeekBar",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"PlayProgressBar",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"LoadProgressBar",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"MouseTimeDisplay",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"VolumeMenuButton",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"PlaybackRateMenuButton",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"PlaybackRate",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"ClosedCaptionButton",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"RemainingTimeDisplay",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"CurrentTimeDisplay",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"DurationDisplay",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"TimeDivider",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"MenuButton",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"playerReducer",{enumerable:!0,get:function(){return H.playerReducer}}),Object.defineProperty(e,"operationReducer",{enumerable:!0,get:function(){return H.operationReducer}}),e.videoActions=e.playerActions=void 0;var r=n(hz()),i=n(QE()),s=n(ZE()),a=n(GE()),l=n(YE()),d=n(wv()),y=n(JE()),_=n(ex()),c=n(vx()),f=n(sx()),w=n(lx()),v=n(ux()),p=n(cx()),b=n(ox()),g=n(ix()),m=n(tx()),h=n(nx()),T=n(rx()),x=n(gx()),k=n(Tv()),C=n(pz()),E=n(mz()),A=n(dx()),P=n(fx()),N=n(hx()),$=n(px()),F=n(bv()),j=t(hd());e.playerActions=j;var B=t(_v());e.videoActions=B;var H=VE()})(vv);var gz=fd();const vz=dc(gz);var yx=function(e){var t=e.decode,n=t===void 0?!0:t,r=e.crossOrigin,i=r===void 0?"":r;return function(s){return new Promise(function(a,l){var d=new Image;i&&(d.crossOrigin=i),d.onload=function(){n&&d.decode?d.decode().then(a).catch(l):a()},d.onerror=l,d.src=s})}};function _b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(n),!0).forEach(function(r){vz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var yz=function(t){return t.filter(function(n){return n})},_z=function(t){return Array.isArray(t)?t:[t]},dn={},wz=function(t,n){var r=!1;return new Promise(function(i,s){var a=function(d){return n(d).then(function(){r=!0,i(d)})};t.reduce(function(l,d){return l.catch(function(){if(!r)return a(d)})},a(t.shift())).catch(s)})};function bz(e){var t=e.srcList,n=e.imgPromise,r=n===void 0?yx({decode:!0}):n,i=e.useSuspense,s=i===void 0?!0:i,a=te.useState(!0),l=a[1],d=yz(_z(t)),y=d.join("");if(dn[y]||(dn[y]={promise:wz(d,r),cache:"pending",error:null}),dn[y].promise.then(function(_){dn[y]=Cl(Cl({},dn[y]),{},{cache:"resolved",src:_}),s||l(!1)}).catch(function(_){dn[y]=Cl(Cl({},dn[y]),{},{cache:"rejected",error:_}),s||l(!1)}),dn[y].cache==="resolved")return{src:dn[y].src,isLoading:!1,error:null};if(dn[y].cache==="rejected"){if(s)throw dn[y].error;return{isLoading:!1,error:dn[y].error,src:void 0}}if(s)throw dn[y].promise;return{isLoading:!0,src:void 0,error:null}}var Sh=function(t){return t};function Tz(e){var t=e.decode,n=t===void 0?!0:t,r=e.src,i=r===void 0?[]:r,s=e.loader,a=s===void 0?null:s,l=e.unloader,d=l===void 0?null:l,y=e.container,_=y===void 0?Sh:y,c=e.loaderContainer,f=c===void 0?Sh:c,w=e.unloaderContainer,v=w===void 0?Sh:w,p=e.imgPromise,b=e.crossorigin,g=e.useSuspense,m=g===void 0?!1:g,h=Hm(e,["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"]);p=p||yx({decode:n,crossOrigin:b});var T=bz({srcList:i,imgPromise:p,useSuspense:m}),x=T.src,k=T.isLoading;return x?_(wt.createElement("img",Object.assign({src:x},h))):!m&&k?f(a):!m&&d?v(d):null}class _x extends te.Component{constructor(t){super(t),this.state={md:null,error:null}}componentDidMount(){fetch(this.props.path).then(t=>t.text()).then(t=>{if(t.length<=0)throw new Error;this.setState({md:_e(t)})}).catch(()=>{this.setState({error:!0})})}render(){return this.state.md&&!this.state.error?O("div",{className:"md-container",dangerouslySetInnerHTML:{__html:this.state.md}}):this.state.error?this.props.unloader||O("div",{children:"Error: couldn't load source"}):this.props.loader}}_x.propTypes={loader:Tr.func,unloader:Tr.func.isRequired,path:Tr.string.isRequired};const wb=({small:e})=>ee("div",{className:`spinner ${e?"small":""}`,children:[O("div",{className:"double-bounce-overlay"}),O("div",{className:"double-bounce"})]}),bb=({failedUrls:e})=>O("div",{className:"no-source-container",children:ee("div",{className:"no-source-row",children:[O("p",{children:O("i",{className:"material-icons no-source-icon",children:"error"})}),O("p",{children:"No media found, as the original media has not yet been uploaded to the platform."})]})}),Sz=({media:e,viewIdx:t,translations:n,switchLanguage:r,langIdx:i})=>{const s=document.querySelector(".source-media-gallery"),a=s?s.getBoundingClientRect().width:0;function l(d){const{path:y,type:_,poster:c}=d;switch(_){case"Image":return O("div",{className:"source-image-container",children:O(Tz,{className:"source-image",src:y,loader:O("div",{className:"source-image-loader",children:O(wb,{})}),unloader:O(bb,{failedUrls:[y]}),onClick:()=>window.open(y,"_blank")})});case"Video":return ee("div",{className:"media-player",children:[O("div",{className:"banner-trans right-overlay",children:n?n.map((f,w)=>i!==w+1?O("div",{className:"trans-button",onClick:()=>r(w+1),children:f.code}):O("div",{className:"trans-button",onClick:()=>r(0),children:"EN"})):null}),O(vv.Player,{poster:c,className:"source-video",playsInline:!0,src:y})]});case"Text":return O("div",{className:"source-text-container",children:O(_x,{path:y,loader:O(wb,{}),unloader:()=>this.renderError()})});case"Document":return O("iframe",{title:y,className:"source-document",src:y});default:return O(bb,{failedUrls:[`Application does not support extension: ${y.split(".")[1]}`]})}}return O("div",{className:"source-media-gallery",style:{transform:`translate(${t*-a}px)`},children:e.map(d=>l(d))})},Ez=({viewIdx:e,paths:t,onShiftHandler:n})=>{const r=e!==0?O("div",{className:"back",onClick:()=>n(-1),children:O("div",{className:"centerer",children:O("i",{className:"material-icons",children:"arrow_left"})})}):null,i=e<t.length-1?O("div",{className:"next",onClick:()=>n(1),children:O("div",{className:"centerer",children:O("i",{className:"material-icons",children:"arrow_right"})})}):null;return t.length>1?ee("div",{className:"media-gallery-controls",children:[r,i]}):O("div",{className:"media-gallery-controls"})};class wx extends te.Component{constructor(){super(),this.state={mediaIdx:0,langIdx:0},this.onShiftGallery=this.onShiftGallery.bind(this)}getTypeCounts(t){return t.reduce((n,r)=>(n[r.type]+=1,n),{Image:0,Video:0,Text:0})}onShiftGallery(t){this.state.mediaIdx===0&&t===-1||this.state.mediaIdx===this.props.source.paths.length-1&&t===1||this.setState({mediaIdx:this.state.mediaIdx+t})}switchLanguage(t){this.setState({langIdx:t})}renderContent(t){const{url:n,title:r,paths:i,date:s,type:a,poster:l,description:d}=t,y=r.substring(0,100);return ee(gn,{children:[ee("div",{className:"mo-banner",children:[O("div",{className:"mo-banner-close",onClick:this.props.onCancel,children:O("i",{className:"material-icons",children:"close"})}),O("h3",{className:"mo-banner-content",children:y})]}),O("div",{className:"mo-container",onClick:_=>_.stopPropagation(),children:O("div",{className:"mo-media-container",children:O(Sz,{switchLanguage:_=>this.switchLanguage(_),translations:this.props.translations,langIdx:this.state.langIdx,media:i.map(_=>fD(_,l)),viewIdx:this.state.mediaIdx})})}),ee("div",{className:"mo-footer",children:[O(Ez,{paths:i,viewIdx:this.state.mediaIdx,onShiftHandler:this.onShiftGallery}),ee("div",{className:"mo-meta-container",children:[d?O("div",{className:"mo-box-desc",children:O("div",{className:"md-container",dangerouslySetInnerHTML:{__html:_e(d)}})}):null,a||s||n?ee("div",{className:"mo-box",children:[ee("div",{children:[a?O("h4",{children:"Evidence type"}):null,a?ee("p",{children:[O("i",{className:"material-icons left",children:"perm_media"}),a]}):null]}),ee("div",{children:[s?O("h4",{children:"Date Published"}):null,s?ee("p",{children:[O("i",{className:"material-icons left",children:"today"}),s]}):null]}),ee("div",{children:[n?O("h4",{children:"Link"}):null,n?ee("span",{children:[O("i",{className:"material-icons left",children:"link"}),O("a",{href:n,target:"_blank",rel:"noreferrer",children:"Link to original URL"})]}):null]})]}):null]})]})]})}renderIntlContent(){const{langIdx:t}=this.state,{translations:n,source:r}=this.props;let i=null;return n&&n.length&&t>0&&(i=n[t-1]),i&&(i={...i,poster:r.poster,paths:i.file?[i.file]:i.paths}),this.renderContent(t===0?r:i)}render(){return typeof this.props.source!="object"?this.renderError():O("div",{className:`mo-overlay ${this.props.opaque?"opaque":""}`,children:this.renderIntlContent()})}}const xz="/assets/ofu-logo-974592b0.jpg",Eh=-2;class kz extends te.Component{constructor(t){super(t),this.state={video:Eh,featureLang:0}}getVideo(t,n){return t<n?this.props.cover.headerVideos[t]:t>=0?this.props.cover.videos[t-n]:null}onVideoClickHandler(t){const n=this.props.cover.headerVideos?this.props.cover.headerVideos.length:0;return()=>{this.setState({video:t+n})}}renderFeature(){const{featureVideo:t}=this.props.cover,{featureLang:n}=this.state,{translations:r}=t,i=n===0?t:{...r[n-1],poster:t.poster};return ee("div",{children:[O("div",{className:"banner-trans right-overlay",children:r&&r.map((s,a)=>{const l=a+1;return n!==l?O("div",{onClick:()=>this.setState({featureLang:l}),className:"trans-button",children:s.code},s.code):O("div",{onClick:()=>this.setState({featureLang:0}),className:"trans-button",children:"ENG"},"ENG")})}),O(vv.Player,{className:"source-video",poster:i.poster,playsInline:!0,src:i.file})]})}renderHeaderVideos(){const{headerVideos:t}=this.props.cover;return O("div",{className:"row",children:t.slice(0,2).map((n,r)=>O("div",{className:"cell plain",onClick:()=>this.setState({video:r}),children:n.buttonTitle},r))})}renderButton(t,n){return O("div",{className:"row",children:O("a",{className:`cell ${n?"yellow":"plain"}`,href:t.href,children:t.title})})}renderMediaOverlay(){const t=this.getVideo(this.state.video,this.props.cover.headerVideos?this.props.cover.headerVideos.length:0);return O(wx,{opaque:!0,source:{title:t.title,desc:t.desc,paths:[t.file],poster:t.poster},translations:t.translations,onCancel:()=>this.setState({video:Eh})})}render(){if(!this.props.cover)return ee("div",{className:"default-cover-container",children:["You haven't specified any cover props. Put them in the values that overwrite the store in ",O("code",{children:"app.cover"})]});const{videos:t,footerButton:n}=this.props.cover,{showing:r}=this.props;return ee("div",{className:"default-cover-container",children:[O("div",{className:r?"cover-header":"cover-header minimized",children:O("a",{className:"cover-logo-container",href:"https://www.osintforukraine.com/",children:O("img",{className:"cover-logo",src:xz,alt:"OFU logo"})})}),ee("div",{className:"cover-content",children:[this.props.cover.bgVideo?O("div",{className:`fullscreen-bg ${this.props.showing?"":"hidden"}`,children:O("video",{loop:!0,muted:!0,autoPlay:!0,preload:"auto",className:"fullscreen-bg__video",children:O("source",{src:this.props.cover.bgVideo,type:"video/mp4"})})}):null,O("h2",{dangerouslySetInnerHTML:{__html:this.props.cover.title}}),this.props.cover.subtitle?O("h3",{style:{marginTop:0},children:this.props.cover.subtitle}):null,this.props.cover.subsubtitle?O("h5",{children:this.props.cover.subsubtitle}):null,this.props.cover.featureVideo?this.renderFeature():null,ee("div",{className:"hero thin",children:[this.props.cover.headerVideos?this.renderHeaderVideos():null,this.props.cover.headerButton?this.renderButton(this.props.cover.headerButton):null,O("div",{className:"row",children:O("div",{className:"cell yellow",onClick:this.props.showAppHandler,children:this.props.cover.exploreButton})})]}),Array.isArray(this.props.cover.description)?this.props.cover.description.map((i,s)=>O("div",{className:"md-container",dangerouslySetInnerHTML:{__html:_e(i)}},s)):O("div",{className:"md-container",dangerouslySetInnerHTML:{__html:_e(this.props.cover.description)}}),t?ee("div",{className:"hero",children:[O("div",{className:"row",children:t&&t.slice(0,2).map((i,s)=>ee("div",{className:"cell small",onClick:this.onVideoClickHandler(s),children:[i.buttonTitle,O("br",{}),i.buttonSubtitle]},s))}),O("div",{className:"row",children:t.length>2&&this.props.cover.videos.slice(2,4).map((i,s)=>ee("div",{className:"cell small",onClick:this.onVideoClickHandler(s+2),children:[i.buttonTitle,O("br",{}),i.buttonSubtitle]},s))})]}):null,n?O("div",{className:"hero",children:O("div",{className:"row",children:this.renderButton(n)})}):null]}),this.state.video!==Eh?this.renderMediaOverlay():null]})}}function Cz(e){return{cover:e.app.cover}}const Pz=gi(Cz)(kz),Az=({showing:e,children:t})=>O("div",{className:`cover-container ${e?"showing":""}`,children:t}),bx=({isLoading:e,language:t})=>{let n="loading-overlay";return n+=e?"":" hidden",O("div",{id:"loading-overlay",className:n,children:ee("div",{className:"loading-wrapper",children:[O("span",{id:"loading-text",className:"text",children:ze[t].loading}),ee("div",{className:"spinner",children:[O("div",{className:"double-bounce1"}),O("div",{className:"double-bounce2"})]})]})})},Lz=({title:e,from:t,to:n,onClick:r,hideInfo:i})=>{const s=t&&Dp(t),a=n&&Dp(n);return ee("div",{className:"timeline-header",children:[O("div",{className:"timeline-toggle",onClick:()=>r(),children:O("p",{children:O("i",{className:"arrow-down"})})}),ee("div",{className:`timeline-info ${i?"hidden":""}`,children:[O("p",{dangerouslySetInnerHTML:{__html:e}}),ee("p",{children:[s," - ",a]})]})]})},Iz=15;vD();class Rz extends te.Component{constructor(){super(),this.xAxis0Ref=te.createRef(),this.xAxis1Ref=te.createRef(),this.state={isInitialized:!1}}componentDidUpdate(){let t,n;this.props.extent>5256e3?(t="%Y",n=""):(this.props.extent>43200,n="%d %b",t="");let{marginTop:r}=this.props.dims;this.props.scaleX&&(this.x0=X_(this.props.scaleX).ticks(this.props.ticks).tickPadding(r+30).tickSize(100-Iz-r).tickFormat(Nu(t)),this.x1=X_(this.props.scaleX).ticks(this.props.ticks).tickPadding(r).tickSize(0).tickFormat(Nu(n)),this.state.isInitialized||this.setState({isInitialized:!0})),this.state.isInitialized&&(Wi(this.xAxis0Ref.current).transition().duration(this.props.transitionDuration).call(this.x0),Wi(this.xAxis1Ref.current).transition().duration(this.props.transitionDuration).call(this.x1))}render(){return ee(gn,{children:[O("g",{ref:this.xAxis0Ref,transform:"translate(0, 24)",clipPath:"url(#clip)",className:"axis xAxis"}),O("g",{ref:this.xAxis1Ref,transform:`translate(0, ${this.props.dims.marginTop})`,clipPath:"url(#clip)",className:"axis xAxis"})]})}}const Nz=({dims:e})=>O("clipPath",{id:"clip",children:O("rect",{x:e.marginLeft,y:"0",width:Math.max(0,e.width-e.marginLeft*2),height:e.contentHeight})}),Tb=({dims:e,onMoveTime:t,backward:n})=>n===!0?O("div",{className:"timeline-handle",onClick:()=>t("backwards"),children:O("span",{className:"timeline-handle__triangle"})}):O("div",{className:"timeline-handle right",onClick:()=>t("forward"),children:O("span",{className:"timeline-handle__triangle"})}),Oz=[{label:"20 years",duration:10512e3},{label:"2 years",duration:1051200},{label:"3 months",duration:129600},{label:"3 days",duration:4320},{label:"12 hours",duration:720},{label:"1 hour",duration:60}];function Mz(e,t,n){return e>=n&&t>=n?!0:e===t}const Dz=({extent:e,zoomLevels:t,dims:n,onApplyZoom:r})=>{function i(s,a){const l=t.reduce((y,_)=>y.duration<_.duration?_:y),d=Mz(s.duration,e,l.duration);return O("div",{className:`zoom-level-button ${d?"active":""}`,x:"60",y:a*15+20,onClick:()=>r(s),children:s.label},a)}return t.length===0&&(t=Oz),O("div",{className:"zoom-controls",children:t.map((s,a)=>i(s,a))})},$z=({styles:e,eventRadius:t,getEventX:n,getEventY:r,categories:i,transitionDuration:s,selected:a,dims:l,features:d})=>{function y(_,c){function f(g){return O("circle",{className:"timeline-marker",cx:0,cy:0,stroke:e?e.stroke:In.primaryHighlight,strokeOpacity:"1",strokeWidth:e?e["stroke-width"]:1,strokeLinejoin:"round",strokeDasharray:e?e["stroke-dasharray"]:"2,2",style:{transform:`translate(${n(c)}px, ${g+40}px)`,WebkitTransition:`transform ${s/1e3}s ease`,MozTransition:"none",opacity:1},r:t*2},zt(c))}function w(){return O("rect",{className:"timeline-marker",x:0,y:l.marginTop,width:t/1.5,height:l.contentHeight-55,stroke:e?e.stroke:In.primaryHighlight,strokeOpacity:"1",strokeWidth:e?e["stroke-width"]:1,strokeDasharray:e?e["stroke-dasharray"]:"2,2",style:{transform:`translate(${n(c)}px)`,opacity:.7}})}const v=Ia(c.latitude)&&Ra(c.longitude)||d.GRAPH_NONLOCATED&&c.projectOffset!==-1,p=WS(c,i).map(g=>r({...c,category:g}));function b(g){switch(c.shape){case"circle":case br.DIAMOND:case br.STAR:_.push(f(g));break;case br.BAR:_.push(w());break;default:return v?_.push(f(g)):_.push(w())}}return p.length>0?p.forEach(b):b(r(c)),_}return O("g",{clipPath:"url(#clip)",children:a.reduce(y,[])})},Fz=({highlights:e,events:t,x:n,y:r,width:i,height:s,onSelect:a,styleProps:l,extraRender:d})=>{if(e.length===0)return O("rect",{onClick:a,className:"event",x:n,y:r,style:l,width:i,height:s});const y=s/e.length;return O(gn,{children:e.map((_,c)=>O("rect",{onClick:a,className:"event",x:n,y:r-y+c*y+y/2,style:{...l,opacity:_?.3:.1},width:i,height:y}))})},Tx=({x:e,y:t,r:n,transform:r,onSelect:i,styleProps:s,extraRender:a})=>O("rect",{onClick:i,className:"event",x:e,y:t,style:s,width:n,height:n,transform:r}),zz=({x:e,y:t,r:n,transform:r,onSelect:i,styleProps:s,extraRender:a})=>{const l=n*2/3;return O("polygon",{onClick:i,className:"event",x:e,y:t,style:s,points:`${e+l},${t-l} ${e-n},${t} ${e+n},${t} ${e-l},${t-l} ${e},${t+l}`,transform:r})},jz=({x:e,y:t,r:n,transform:r,onSelect:i,styleProps:s})=>{const a=n*2/3;return O("polygon",{onClick:i,className:"event",x:e,y:t,style:s,points:`${e},${t+a} ${e+a},${t-a} ${e-a},${t-a}`,transform:`rotate(180, ${e}, ${t})`})},Uz=({x:e,y:t,r:n,transform:r,onSelect:i,styleProps:s})=>{const a=n*2/3;return O("polygon",{onClick:i,className:"event",x:e,y:t,style:s,points:`${e},${t+a} ${e+a},${t} ${e+a},${t-a} ${e-a},${t-a} ${e-a},${t}`,transform:`rotate(180, ${e}, ${t})`})},Bz=({offset:e,id:t,start:n,end:r,getX:i,y:s,dims:a,colour:l,eventRadius:d,onClick:y})=>{const _=i(r)-i(n);return e===void 0?null:O("rect",{onClick:y,className:"project",x:i(n),y:a.marginTop+e,width:_,style:{fill:l,fillOpacity:.2},height:2*d})};function Sv({radius:e,colorPercentMap:t,styles:n,className:r}){let i=0;const s=Object.keys(t);return O(gn,{children:s.map((a,l)=>{const d=t[a],[y,_]=C0(e,i);i+=d;const[c,f]=C0(e,i),w=s.length===1||d>.5?1:0,v=[`M ${y} ${_}`,`A ${e} ${e} 0 ${w} 1 ${c} ${f}`,"L 0 0 ",`L ${y} ${_} Z`].join(" "),p={...n,fill:a};return O("path",{className:r,id:`arc_${l}`,d:v,style:p},`arc_${l}`)})})}function Sb(e,t,n){const r=yg([e],n.coloringSet);return O("g",{className:"timeline-event",onClick:n.onSelect,transform:`translate(${n.x}, ${n.y+40})`,children:O(Sv,{radius:n.eventRadius,colorPercentMap:pg(n.filterColors,r),styles:{...t},className:"event"})},e.id)}function Eb(e,t,n){const r=n.features.GRAPH_NONLOCATED?e.projectOffset>=0?t.opacity:.5:vg(1);return O(Fz,{onSelect:n.onSelect,category:e.category,events:[e],x:n.x,y:n.dims.marginTop,width:n.eventRadius/4,height:n.dims.trackHeight,styleProps:{...t,fillOpacity:r},highlights:n.highlights})}function Hz(e,t,n){return O(Tx,{onSelect:n.onSelect,x:n.x,y:n.y-1.8*n.eventRadius,r:1.8*n.eventRadius,styleProps:t,transform:`rotate(45, ${n.x}, ${n.y})`})}function Wz(e,t,n){return O(Tx,{onSelect:n.onSelect,x:n.x,y:n.y-1.8*n.eventRadius/2,r:1.8*n.eventRadius,styleProps:t})}function qz(e,t,n){return O(jz,{onSelect:n.onSelect,x:n.x,y:n.y,r:1.5*n.eventRadius,styleProps:t})}function Vz(e,t,n){return O(Uz,{onSelect:n.onSelect,x:n.x,y:n.y,r:1.5*n.eventRadius,styleProps:t})}function Zz(e,t,n){return O(zz,{onSelect:n.onSelect,x:n.x,y:n.y,r:1.8*n.eventRadius,styleProps:{...t,fillRule:"nonzero"},transform:`rotate(180, ${n.x}, ${n.y})`})}const Gz=({events:e,projects:t,categories:n,narrative:r,getDatetimeX:i,getY:s,getCategoryColor:a,getHighlights:l,onSelect:d,transitionDuration:y,dims:_,features:c,setLoading:f,setNotLoading:w,eventRadius:v,filterColors:p,coloringSet:b})=>{const g=r?r.steps.map(T=>T.id):[];function m(T,x){if(r&&!g.includes(x.id))return null;const k=Ia(x.latitude)&&Ra(x.longitude)||c.GRAPH_NONLOCATED&&x.projectOffset!==-1,{shape:C}=x;let E=k?Sb:Eb;C&&C.shape&&(C.shape===br.BAR?E=Eb:C.shape===br.DIAMOND?E=Hz:C.shape===br.STAR?E=Zz:C.shape===br.TRIANGLE?E=qz:C.shape===br.PENTAGON?E=Vz:C.shape===br.SQUARE?E=Wz:E=Sb);const A=WS(x,n).map(N=>{const $=s({...x,category:N}),j={fill:x.colour?x.colour:a(N.title),fillOpacity:$>0?vg(1):0,transition:`transform ${y/1e3}s ease`};return{y:$,styles:j}});function P(N,$){return E(x,$,{x:i(x.datetime),y:N,eventRadius:v,onSelect:()=>d(x),dims:_,highlights:c.HIGHLIGHT_GROUPS?l(x.filters[c.HIGHLIGHT_GROUPS.filterIndexIndicatingGroup]):[],features:c,filterColors:p,coloringSet:b})}return A.length===0?T.push(P(s(x),{fill:a(null)})):A.forEach(N=>{T.push(P(N.y,N.styles))}),T}let h=()=>null;return c.GRAPH_NONLOCATED&&(h=function(){return O(gn,{children:Object.values(t).map(T=>O(Bz,{...T,eventRadius:v,onClick:()=>console.log(T),getX:i,dims:_,colour:a(T.category)},T.id))})}),ee("g",{clipPath:"url(#clip)",children:[h(),e.reduce(m,[])]})};class Yz extends te.Component{constructor(t){super(t),this.grabRef=te.createRef(),this.state={isInitialized:!1}}componentDidUpdate(){if(!this.state.isInitialized){const t=FR().on("start",this.props.onDragStart).on("drag",this.props.onDrag).on("end",this.props.onDragEnd);Wi(this.grabRef.current).call(t),this.setState({isInitialized:!0})}}renderCategory(t,n){const{features:r,dims:i}=this.props,s=1;return r.GRAPH_NONLOCATED&&r.GRAPH_NONLOCATED.categories&&r.GRAPH_NONLOCATED.categories.includes(t)?null:ee(gn,{children:[O("g",{className:"tick",style:{strokeWidth:s},opacity:"0.5",transform:"translate(0, 66)",children:O("line",{x1:i.marginLeft,x2:i.width-i.marginLeft})}),O("g",{className:"tick",opacity:"1",transform:"translate(0, 66)",children:O("text",{x:i.marginLeft-5,dy:"0.32em",children:t})})]})}render(){const{dims:t,categories:n,fallbackLabel:r}=this.props,s=n&&n.length>0?n.map((a,l)=>this.renderCategory(a,l)):this.renderCategory(r,0);return ee("g",{className:"yAxis",children:[s,O("rect",{ref:this.grabRef,className:"drag-grabber",x:t.marginLeft,y:t.marginTop,width:Math.max(0,t.width-t.marginLeft*2),height:t.contentHeight})]})}}const Kz=e=>{const t=new Date(e),n={year:"numeric",month:"2-digit",day:"2-digit"};return t.toLocaleDateString("en-US",n).replace(/\//g,"-")};class Xz extends te.Component{constructor(t){super(t);let n=new URLSearchParams(window.location.href.split("?")[1]);this.styleDatetime=this.styleDatetime.bind(this),this.getDatetimeX=this.getDatetimeX.bind(this),this.getY=this.getY.bind(this),this.onApplyZoom=this.onApplyZoom.bind(this),this.onSelect=this.onSelect.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.svgRef=te.createRef(),this.state={isFolded:n.has("timeline")&&n.get("timeline")==="false",dims:t.dimensions,scaleX:null,scaleY:null,timerange:[null,null],dragPos0:null,transitionDuration:300}}componentDidMount(){this.addEventListeners()}UNSAFE_componentWillReceiveProps(t){if(zt(t)!==zt(this.props)&&this.setState({timerange:t.app.timeline.range,scaleX:this.makeScaleX()}),zt(t.activeCategories)!==zt(this.props.activeCategories)||zt(t.dimensions)!==zt(this.props.dimensions)){const{trackHeight:n,marginTop:r}=t.dimensions;this.setState({scaleY:this.makeScaleY(t.activeCategories,n,r)})}t.dimensions.trackHeight!==this.props.dimensions.trackHeight&&this.computeDims()}addEventListeners(){window.addEventListener("resize",()=>{this.computeDims()});const t=document.querySelector(".timeline-wrapper");t!==null&&t.addEventListener("transitionend",n=>{this.computeDims()})}makeScaleX(){return VM().domain(this.state.timerange).range([this.state.dims.marginLeft,this.state.dims.width-this.state.dims.marginLeft])}makeScaleY(t,n,r){const{features:i}=this.props;i.GRAPH_NONLOCATED&&i.GRAPH_NONLOCATED.categories&&(t=t.filter(d=>!i.GRAPH_NONLOCATED.categories.includes(d.title)));const s=0,a=t.length>2?n/t.length:n/(t.length+1),l=t.map((d,y)=>(y+1)*a+r+s/2);return d=>{const y=t.indexOf(d);return l[y]}}componentDidUpdate(t,n){n.timerange!==this.state.timerange&&this.setState({scaleX:this.makeScaleX()})}getTimeScaleExtent(){if(!this.state.scaleX)return 0;const t=this.state.scaleX.domain();return(t[1].getTime()-t[0].getTime())/6e4}onClickArrow(){this.setState(t=>({isFolded:!t.isFolded}))}computeDims(){const t=this.props.ui.dom.timeline;if(document.querySelector(`#${t}`)!==null){const n=document.querySelector(`#${t}`).getBoundingClientRect();this.setState({dims:{...this.props.dimensions,width:n.width}},()=>{this.setState({scaleX:this.makeScaleX()})})}}onMoveTime(t){const n=this.getTimeScaleExtent(),r=Wt.offset(this.state.scaleX.domain()[0],n);let i=r,s=Wt.offset(r,n);t==="backwards"&&(i=Wt.offset(r,-(2*n)),s=Wt.offset(r,-n)),this.props.methods.onUpdateTimerange([i,s]),this.props.methods.onSelect([])}onCenterTime(t){const n=this.getTimeScaleExtent(),r=Wt.offset(t,-n/2),i=Wt.offset(t,+n/2);this.setState({timerange:[r,i]},()=>{this.props.methods.onUpdateTimerange(this.state.timerange)})}onSoftTimeRangeUpdate(t){this.setState({timerange:t})}onApplyZoom(t){const n=this.getTimeScaleExtent(),r=Wt.offset(this.state.scaleX.domain()[0],n/2),{rangeLimits:i}=this.props.app.timeline;let s=Wt.offset(r,-t.duration/2),a=Wt.offset(r,t.duration/2);if(i){const l=i[0],d=i[1];s<l&&(s=l,a=Wt.offset(s,t.duration)),a>d&&(a=d,s=Wt.offset(a,-t.duration))}this.setState({timerange:[s,a]},()=>{this.props.actions.updateTicks(15),this.props.methods.onUpdateTimerange(this.state.timerange)})}toggleTransition(t){this.setState({transitionDuration:t?300:0})}onDragStart(t){t.sourceEvent.stopPropagation(),this.setState({dragPos0:t.x},()=>{this.toggleTransition(!1)})}onDrag(t){const n=this.state.scaleX.invert(this.state.dragPos0).getTime(),r=this.state.scaleX.invert(t.x).getTime(),i=(n-r)/1e3,{range:s,rangeLimits:a}=this.props.app.timeline;let l=ti.offset(s[0],i),d=ti.offset(s[1],i);if(a){const y=a[0],_=a[1];l=l<y?y:l,d=d>_?_:d}this.onSoftTimeRangeUpdate([l,d])}onDragEnd(){this.toggleTransition(!0),this.props.methods.onUpdateTimerange(this.state.timerange)}getDatetimeX(t){return this.state.scaleX(t)}getY(t){const{features:n,domain:r,activeCategories:i}=this.props,{USE_CATEGORIES:s,GRAPH_NONLOCATED:a}=n;if(!(s&&i&&i.length>0))return this.state.dims.trackHeight/1.5;const{category:d}=t;if(a&&a.categories.includes(d)){const{project:y}=t;return this.state.dims.marginTop+r.projects[y].offset+this.props.ui.eventRadius}return this.state.scaleY?this.state.scaleY(d):0}styleDatetime(t,n){return[null,null]}async onSelect(t){if(this.props.features.ZOOM_TO_TIMEFRAME_ON_TIMELINE_CLICK){const i=Math.floor(this.props.features.ZOOM_TO_TIMEFRAME_ON_TIMELINE_CLICK/2),s=Wt.offset(t.datetime,-i),a=Wt.offset(t.datetime,i);this.props.actions.updateTicks(1),this.props.methods.onUpdateTimerange([s,a])}this.props.methods.onSelect(t);const n=Kz(t.datetime),r=await _g(n);this.props.actions.updateCurrentMilitaryPositions(r)}render(){const{isNarrative:t,app:n,domain:r}=this.props,{timeline:i}=n;let s=`timeline-wrapper ${this.state.isFolded?" folded":""}`;s+=n.narrative!==null?" narrative-mode":"";const{dims:a}=this.state,l={height:a.contentHeight},{activeCategories:d}=this.props,y=ze[this.props.app.language].timeline.info.replace("%n",r.eventCountInTimeRange);return ee("div",{id:"timeline-wrapper",className:s,onKeyDown:this.props.onKeyDown,tabIndex:"1",children:[O(Lz,{title:y,from:this.state.timerange[0],to:this.state.timerange[1],onClick:()=>{this.onClickArrow()},hideInfo:t}),O("div",{className:"timeline-content",children:ee("div",{id:this.props.ui.dom.timeline,className:"timeline",children:[O("div",{className:"timeline-container",children:ee("svg",{ref:this.svgRef,width:a.width,style:l,children:[O(Nz,{dims:a}),O(Rz,{ticks:i.dimensions.ticks,dims:a,extent:this.getTimeScaleExtent(),transitionDuration:this.state.transitionDuration,scaleX:this.state.scaleX}),O(Yz,{dims:a,getCategoryY:_=>this.getY({category:_,project:null}),onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,categories:d,features:this.props.features,fallbackLabel:ze[this.props.app.language].timeline.default_categories_label}),O($z,{dims:a,selected:this.props.app.selected,getEventX:_=>this.getDatetimeX(_.datetime),getEventY:this.getY,categories:d,transitionDuration:this.state.transitionDuration,styles:this.props.ui.styles,features:this.props.features,eventRadius:this.props.ui.eventRadius}),O(Gz,{events:this.props.domain.events,projects:this.props.domain.projects,categories:d,styleDatetime:this.styleDatetime,narrative:this.props.app.narrative,getDatetimeX:this.getDatetimeX,getY:this.getY,getHighlights:_=>_==="None"?[]:d.map(c=>c.group===_),getCategoryColor:this.props.methods.getCategoryColor,transitionDuration:this.state.transitionDuration,onSelect:this.onSelect,dims:a,features:this.props.features,setLoading:this.props.actions.setLoading,setNotLoading:this.props.actions.setNotLoading,eventRadius:this.props.ui.eventRadius,filterColors:this.props.ui.filterColors,coloringSet:this.props.app.coloringSet})]})}),ee("div",{className:"timeline-bottom",children:[O(Tb,{dims:a,onMoveTime:_=>{this.onMoveTime(_)},backward:!0}),O(Dz,{extent:this.getTimeScaleExtent(),zoomLevels:i.zoomLevels,dims:a,onApplyZoom:this.onApplyZoom}),O(Tb,{dims:a,onMoveTime:_=>{this.onMoveTime(_)},backward:!1})]})]})})]})}}function Qz(e){return{dimensions:zp(e),isNarrative:!!e.app.associations.narrative,activeCategories:Qg(e),domain:{events:k$(e),eventCountInTimeRange:E$(e),projects:C$(e),narratives:e.domain.narratives},app:{selected:e.app.selected,language:e.app.language,narrative:e.app.associations.narrative,coloringSet:e.app.associations.coloringSet,currentMilitaryPositions:e.app.currentMilitaryPositions,timeline:{zoomLevels:e.app.timeline.zoomLevels,dimensions:zp(e),ticks:e.app.timeline.ticks,range:Jg(e),rangeLimits:fE(e)}},ui:{dom:e.ui.dom,styles:e.ui.style.selectedEvents,eventRadius:e.ui.eventRadius,filterColors:e.ui.coloring.colors},features:fr(e)}}function Jz(e){return{actions:es({setLoading:QS,setNotLoading:JS,updateTicks:nE,updateCurrentMilitaryPositions:oE},e)}}const ej=gi(Qz,Jz)(Xz);var Hp={},tj={get exports(){return Hp},set exports(e){Hp=e}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Qr,function(n){var r="1.9.3";function i(o){var u,S,I,R;for(S=1,I=arguments.length;S<I;S++){R=arguments[S];for(u in R)o[u]=R[u]}return o}var s=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function a(o,u){var S=Array.prototype.slice;if(o.bind)return o.bind.apply(o,S.call(arguments,1));var I=S.call(arguments,2);return function(){return o.apply(u,I.length?I.concat(S.call(arguments)):arguments)}}var l=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function y(o,u,S){var I,R,D,V;return V=function(){I=!1,R&&(D.apply(S,R),R=!1)},D=function(){I?R=arguments:(o.apply(S,arguments),setTimeout(V,u),I=!0)},D}function _(o,u,S){var I=u[1],R=u[0],D=I-R;return o===I&&S?o:((o-R)%D+D)%D+R}function c(){return!1}function f(o,u){if(u===!1)return o;var S=Math.pow(10,u===void 0?6:u);return Math.round(o*S)/S}function w(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function v(o){return w(o).split(/\s+/)}function p(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var S in u)o.options[S]=u[S];return o.options}function b(o,u,S){var I=[];for(var R in o)I.push(encodeURIComponent(S?R.toUpperCase():R)+"="+encodeURIComponent(o[R]));return(!u||u.indexOf("?")===-1?"?":"&")+I.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function m(o,u){return o.replace(g,function(S,I){var R=u[I];if(R===void 0)throw new Error("No value provided for variable "+S);return typeof R=="function"&&(R=R(u)),R})}var h=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function T(o,u){for(var S=0;S<o.length;S++)if(o[S]===u)return S;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var C=0;function E(o){var u=+new Date,S=Math.max(0,16-(u-C));return C=u+S,window.setTimeout(o,S)}var A=window.requestAnimationFrame||k("RequestAnimationFrame")||E,P=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function N(o,u,S){if(S&&A===E)o.call(u);else return A.call(window,a(o,u))}function $(o){o&&P.call(window,o)}var F={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:d,throttle:y,wrapNum:_,falseFn:c,formatNum:f,trim:w,splitWords:v,setOptions:p,getParamString:b,template:m,isArray:h,indexOf:T,emptyImageUrl:x,requestFn:A,cancelFn:P,requestAnimFrame:N,cancelAnimFrame:$};function j(){}j.extend=function(o){var u=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=u.__super__=this.prototype,I=s(S);I.constructor=u,u.prototype=I;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(u[R]=this[R]);return o.statics&&i(u,o.statics),o.includes&&(B(o.includes),i.apply(null,[I].concat(o.includes))),i(I,o),delete I.statics,delete I.includes,I.options&&(I.options=S.options?s(S.options):{},i(I.options,o.options)),I._initHooks=[],I.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,V=I._initHooks.length;D<V;D++)I._initHooks[D].call(this)}},u},j.include=function(o){var u=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},j.mergeOptions=function(o){return i(this.prototype.options,o),this},j.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),S=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function B(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=h(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var H={on:function(o,u,S){if(typeof o=="object")for(var I in o)this._on(I,o[I],u);else{o=v(o);for(var R=0,D=o.length;R<D;R++)this._on(o[R],u,S)}return this},off:function(o,u,S){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var I in o)this._off(I,o[I],u);else{o=v(o);for(var R=arguments.length===1,D=0,V=o.length;D<V;D++)R?this._off(o[D]):this._off(o[D],u,S)}return this},_on:function(o,u,S,I){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,S)===!1){S===this&&(S=void 0);var R={fn:u,ctx:S};I&&(R.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(R)}},_off:function(o,u,S){var I,R,D;if(this._events&&(I=this._events[o],!!I)){if(arguments.length===1){if(this._firingCount)for(R=0,D=I.length;R<D;R++)I[R].fn=c;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var V=this._listens(o,u,S);if(V!==!1){var K=I[V];this._firingCount&&(K.fn=c,this._events[o]=I=I.slice()),I.splice(V,1)}}},fire:function(o,u,S){if(!this.listens(o,S))return this;var I=i({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var R=this._events[o];if(R){this._firingCount=this._firingCount+1||1;for(var D=0,V=R.length;D<V;D++){var K=R[D],X=K.fn;K.once&&this.off(o,X,K.ctx),X.call(K.ctx||this,I)}this._firingCount--}}return S&&this._propagateEvent(I),this},listens:function(o,u,S,I){typeof o!="string"&&console.warn('"string" type argument expected');var R=u;typeof u!="function"&&(I=!!u,R=void 0,S=void 0);var D=this._events&&this._events[o];if(D&&D.length&&this._listens(o,R,S)!==!1)return!0;if(I){for(var V in this._eventParents)if(this._eventParents[V].listens(o,u,S,I))return!0}return!1},_listens:function(o,u,S){if(!this._events)return!1;var I=this._events[o]||[];if(!u)return!!I.length;S===this&&(S=void 0);for(var R=0,D=I.length;R<D;R++)if(I[R].fn===u&&I[R].ctx===S)return R;return!1},once:function(o,u,S){if(typeof o=="object")for(var I in o)this._on(I,o[I],u,!0);else{o=v(o);for(var R=0,D=o.length;R<D;R++)this._on(o[R],u,S,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};H.addEventListener=H.on,H.removeEventListener=H.clearAllEventListeners=H.off,H.addOneTimeEventListener=H.once,H.fireEvent=H.fire,H.hasEventListeners=H.listens;var U=j.extend(H);function W(o,u,S){this.x=S?Math.round(o):o,this.y=S?Math.round(u):u}var Y=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(o){return this.clone()._add(G(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(G(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new W(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new W(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(o){o=G(o);var u=o.x-this.x,S=o.y-this.y;return Math.sqrt(u*u+S*S)},equals:function(o){return o=G(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=G(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function G(o,u,S){return o instanceof W?o:h(o)?new W(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new W(o.x,o.y):new W(o,u,S)}function J(o,u){if(o)for(var S=u?[o,u]:o,I=0,R=S.length;I<R;I++)this.extend(S[I])}J.prototype={extend:function(o){var u,S;if(!o)return this;if(o instanceof W||typeof o[0]=="number"||"x"in o)u=S=G(o);else if(o=oe(o),u=o.min,S=o.max,!u||!S)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=S.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(o){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,S;return typeof o[0]=="number"||o instanceof W?o=G(o):o=oe(o),o instanceof J?(u=o.min,S=o.max):u=S=o,u.x>=this.min.x&&S.x<=this.max.x&&u.y>=this.min.y&&S.y<=this.max.y},intersects:function(o){o=oe(o);var u=this.min,S=this.max,I=o.min,R=o.max,D=R.x>=u.x&&I.x<=S.x,V=R.y>=u.y&&I.y<=S.y;return D&&V},overlaps:function(o){o=oe(o);var u=this.min,S=this.max,I=o.min,R=o.max,D=R.x>u.x&&I.x<S.x,V=R.y>u.y&&I.y<S.y;return D&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,S=this.max,I=Math.abs(u.x-S.x)*o,R=Math.abs(u.y-S.y)*o;return oe(G(u.x-I,u.y-R),G(S.x+I,S.y+R))},equals:function(o){return o?(o=oe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function oe(o,u){return!o||o instanceof J?o:new J(o,u)}function ce(o,u){if(o)for(var S=u?[o,u]:o,I=0,R=S.length;I<R;I++)this.extend(S[I])}ce.prototype={extend:function(o){var u=this._southWest,S=this._northEast,I,R;if(o instanceof de)I=o,R=o;else if(o instanceof ce){if(I=o._southWest,R=o._northEast,!I||!R)return this}else return o?this.extend(ue(o)||fe(o)):this;return!u&&!S?(this._southWest=new de(I.lat,I.lng),this._northEast=new de(R.lat,R.lng)):(u.lat=Math.min(I.lat,u.lat),u.lng=Math.min(I.lng,u.lng),S.lat=Math.max(R.lat,S.lat),S.lng=Math.max(R.lng,S.lng)),this},pad:function(o){var u=this._southWest,S=this._northEast,I=Math.abs(u.lat-S.lat)*o,R=Math.abs(u.lng-S.lng)*o;return new ce(new de(u.lat-I,u.lng-R),new de(S.lat+I,S.lng+R))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof de||"lat"in o?o=ue(o):o=fe(o);var u=this._southWest,S=this._northEast,I,R;return o instanceof ce?(I=o.getSouthWest(),R=o.getNorthEast()):I=R=o,I.lat>=u.lat&&R.lat<=S.lat&&I.lng>=u.lng&&R.lng<=S.lng},intersects:function(o){o=fe(o);var u=this._southWest,S=this._northEast,I=o.getSouthWest(),R=o.getNorthEast(),D=R.lat>=u.lat&&I.lat<=S.lat,V=R.lng>=u.lng&&I.lng<=S.lng;return D&&V},overlaps:function(o){o=fe(o);var u=this._southWest,S=this._northEast,I=o.getSouthWest(),R=o.getNorthEast(),D=R.lat>u.lat&&I.lat<S.lat,V=R.lng>u.lng&&I.lng<S.lng;return D&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=fe(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(o,u){return o instanceof ce?o:new ce(o,u)}function de(o,u,S){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,S!==void 0&&(this.alt=+S)}de.prototype={equals:function(o,u){if(!o)return!1;o=ue(o);var S=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return S<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+f(this.lat,o)+", "+f(this.lng,o)+")"},distanceTo:function(o){return re.distance(this,ue(o))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,S=u/Math.cos(Math.PI/180*this.lat);return fe([this.lat-u,this.lng-S],[this.lat+u,this.lng+S])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ue(o,u,S){return o instanceof de?o:h(o)&&typeof o[0]!="object"?o.length===3?new de(o[0],o[1],o[2]):o.length===2?new de(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new de(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new de(o,u,S)}var be={latLngToPoint:function(o,u){var S=this.projection.project(o),I=this.scale(u);return this.transformation._transform(S,I)},pointToLatLng:function(o,u){var S=this.scale(u),I=this.transformation.untransform(o,S);return this.projection.unproject(I)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,S=this.scale(o),I=this.transformation.transform(u.min,S),R=this.transformation.transform(u.max,S);return new J(I,R)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?_(o.lng,this.wrapLng,!0):o.lng,S=this.wrapLat?_(o.lat,this.wrapLat,!0):o.lat,I=o.alt;return new de(S,u,I)},wrapLatLngBounds:function(o){var u=o.getCenter(),S=this.wrapLatLng(u),I=u.lat-S.lat,R=u.lng-S.lng;if(I===0&&R===0)return o;var D=o.getSouthWest(),V=o.getNorthEast(),K=new de(D.lat-I,D.lng-R),X=new de(V.lat-I,V.lng-R);return new ce(K,X)}},re=i({},be,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var S=Math.PI/180,I=o.lat*S,R=u.lat*S,D=Math.sin((u.lat-o.lat)*S/2),V=Math.sin((u.lng-o.lng)*S/2),K=D*D+Math.cos(I)*Math.cos(R)*V*V,X=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*X}}),M=6378137,z={R:M,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,S=this.MAX_LATITUDE,I=Math.max(Math.min(S,o.lat),-S),R=Math.sin(I*u);return new W(this.R*o.lng*u,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(o){var u=180/Math.PI;return new de((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=M*Math.PI;return new J([-o,-o],[o,o])}()};function q(o,u,S,I){if(h(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=S,this._d=I}q.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new W((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Z(o,u,S,I){return new q(o,u,S,I)}var Q=i({},re,{code:"EPSG:3857",projection:z,transformation:function(){var o=.5/(Math.PI*z.R);return Z(o,.5,-o,.5)}()}),ne=i({},Q,{code:"EPSG:900913"});function ve(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function se(o,u){var S="",I,R,D,V,K,X;for(I=0,D=o.length;I<D;I++){for(K=o[I],R=0,V=K.length;R<V;R++)X=K[R],S+=(R?"L":"M")+X.x+" "+X.y;S+=u?we.svg?"z":"x":""}return S||"M0 0"}var $e=document.documentElement.style,ht="ActiveXObject"in window,xt=ht&&!document.addEventListener,Ue="msLaunchUri"in navigator&&!("documentMode"in document),Be=Qn("webkit"),Ve=Qn("android"),xe=Qn("android 2")||Qn("android 3"),Ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ae=Ve&&Qn("Google")&&Ne<537&&!("AudioNode"in window),Je=!!window.opera,Le=!Ue&&Qn("chrome"),wi=Qn("gecko")&&!Be&&!Je&&!ht,Ge=!Le&&Qn("safari"),Ur=Qn("phantom"),cn="OTransition"in $e,Da=navigator.platform.indexOf("Win")===0,is=ht&&"transition"in $e,gd="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xe,Pv="MozPerspective"in $e,Ek=!window.L_DISABLE_3D&&(is||gd||Pv)&&!cn&&!Ur,os=typeof orientation<"u"||Qn("mobile"),xk=os&&Be,kk=os&&gd,Av=!window.PointerEvent&&window.MSPointerEvent,Lv=!!(window.PointerEvent||Av),Iv="ontouchstart"in window||!!window.TouchEvent,Ck=!window.L_NO_TOUCH&&(Iv||Lv),Pk=os&&Je,Ak=os&&wi,Lk=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ik=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",c,u),window.removeEventListener("testPassiveEventSupport",c,u)}catch{}return o}(),Rk=function(){return!!document.createElement("canvas").getContext}(),vd=!!(document.createElementNS&&ve("svg").createSVGRect),Nk=!!vd&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ok=!vd&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Mk=navigator.platform.indexOf("Mac")===0,Dk=navigator.platform.indexOf("Linux")===0;function Qn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var we={ie:ht,ielt9:xt,edge:Ue,webkit:Be,android:Ve,android23:xe,androidStock:Ae,opera:Je,chrome:Le,gecko:wi,safari:Ge,phantom:Ur,opera12:cn,win:Da,ie3d:is,webkit3d:gd,gecko3d:Pv,any3d:Ek,mobile:os,mobileWebkit:xk,mobileWebkit3d:kk,msPointer:Av,pointer:Lv,touch:Ck,touchNative:Iv,mobileOpera:Pk,mobileGecko:Ak,retina:Lk,passiveEvents:Ik,canvas:Rk,svg:vd,vml:Ok,inlineSvg:Nk,mac:Mk,linux:Dk},Rv=we.msPointer?"MSPointerDown":"pointerdown",Nv=we.msPointer?"MSPointerMove":"pointermove",Ov=we.msPointer?"MSPointerUp":"pointerup",Mv=we.msPointer?"MSPointerCancel":"pointercancel",yd={touchstart:Rv,touchmove:Nv,touchend:Ov,touchcancel:Mv},Dv={touchstart:Bk,touchmove:$a,touchend:$a,touchcancel:$a},eo={},$v=!1;function $k(o,u,S){return u==="touchstart"&&Uk(),Dv[u]?(S=Dv[u].bind(this,S),o.addEventListener(yd[u],S,!1),S):(console.warn("wrong event specified:",u),c)}function Fk(o,u,S){if(!yd[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(yd[u],S,!1)}function zk(o){eo[o.pointerId]=o}function jk(o){eo[o.pointerId]&&(eo[o.pointerId]=o)}function Fv(o){delete eo[o.pointerId]}function Uk(){$v||(document.addEventListener(Rv,zk,!0),document.addEventListener(Nv,jk,!0),document.addEventListener(Ov,Fv,!0),document.addEventListener(Mv,Fv,!0),$v=!0)}function $a(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var S in eo)u.touches.push(eo[S]);u.changedTouches=[u],o(u)}}function Bk(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Mt(u),$a(o,u)}function Hk(o){var u={},S,I;for(I in o)S=o[I],u[I]=S&&S.bind?S.bind(o):S;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Wk=200;function qk(o,u){o.addEventListener("dblclick",u);var S=0,I;function R(D){if(D.detail!==1){I=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var V=Hv(D);if(!(V.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!V.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var K=Date.now();K-S<=Wk?(I++,I===2&&u(Hk(D))):I=1,S=K}}}return o.addEventListener("click",R),{dblclick:u,simDblclick:R}}function Vk(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var _d=ja(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ss=ja(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zv=ss==="webkitTransition"||ss==="OTransition"?ss+"End":"transitionend";function jv(o){return typeof o=="string"?document.getElementById(o):o}function as(o,u){var S=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!S||S==="auto")&&document.defaultView){var I=document.defaultView.getComputedStyle(o,null);S=I?I[u]:null}return S==="auto"?null:S}function Fe(o,u,S){var I=document.createElement(o);return I.className=u||"",S&&S.appendChild(I),I}function lt(o){var u=o.parentNode;u&&u.removeChild(o)}function Fa(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function to(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function no(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function wd(o,u){if(o.classList!==void 0)return o.classList.contains(u);var S=za(o);return S.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(S)}function Pe(o,u){if(o.classList!==void 0)for(var S=v(u),I=0,R=S.length;I<R;I++)o.classList.add(S[I]);else if(!wd(o,u)){var D=za(o);bd(o,(D?D+" ":"")+u)}}function _t(o,u){o.classList!==void 0?o.classList.remove(u):bd(o,w((" "+za(o)+" ").replace(" "+u+" "," ")))}function bd(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function za(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Sn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&Zk(o,u)}function Zk(o,u){var S=!1,I="DXImageTransform.Microsoft.Alpha";try{S=o.filters.item(I)}catch{if(u===1)return}u=Math.round(u*100),S?(S.Enabled=u!==100,S.Opacity=u):o.style.filter+=" progid:"+I+"(opacity="+u+")"}function ja(o){for(var u=document.documentElement.style,S=0;S<o.length;S++)if(o[S]in u)return o[S];return!1}function bi(o,u,S){var I=u||new W(0,0);o.style[_d]=(we.ie3d?"translate("+I.x+"px,"+I.y+"px)":"translate3d("+I.x+"px,"+I.y+"px,0)")+(S?" scale("+S+")":"")}function Tt(o,u){o._leaflet_pos=u,we.any3d?bi(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Ti(o){return o._leaflet_pos||new W(0,0)}var ls,us,Td;if("onselectstart"in document)ls=function(){Ce(window,"selectstart",Mt)},us=function(){Ke(window,"selectstart",Mt)};else{var cs=ja(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ls=function(){if(cs){var o=document.documentElement.style;Td=o[cs],o[cs]="none"}},us=function(){cs&&(document.documentElement.style[cs]=Td,Td=void 0)}}function Sd(){Ce(window,"dragstart",Mt)}function Ed(){Ke(window,"dragstart",Mt)}var Ua,xd;function kd(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ba(),Ua=o,xd=o.style.outline,o.style.outline="none",Ce(window,"keydown",Ba))}function Ba(){Ua&&(Ua.style.outline=xd,Ua=void 0,xd=void 0,Ke(window,"keydown",Ba))}function Uv(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Cd(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var Gk={__proto__:null,TRANSFORM:_d,TRANSITION:ss,TRANSITION_END:zv,get:jv,getStyle:as,create:Fe,remove:lt,empty:Fa,toFront:to,toBack:no,hasClass:wd,addClass:Pe,removeClass:_t,setClass:bd,getClass:za,setOpacity:Sn,testProp:ja,setTransform:bi,setPosition:Tt,getPosition:Ti,get disableTextSelection(){return ls},get enableTextSelection(){return us},disableImageDrag:Sd,enableImageDrag:Ed,preventOutline:kd,restoreOutline:Ba,getSizedParentNode:Uv,getScale:Cd};function Ce(o,u,S,I){if(u&&typeof u=="object")for(var R in u)Ad(o,R,u[R],S);else{u=v(u);for(var D=0,V=u.length;D<V;D++)Ad(o,u[D],S,I)}return this}var Jn="_leaflet_events";function Ke(o,u,S,I){if(arguments.length===1)Bv(o),delete o[Jn];else if(u&&typeof u=="object")for(var R in u)Ld(o,R,u[R],S);else if(u=v(u),arguments.length===2)Bv(o,function(K){return T(u,K)!==-1});else for(var D=0,V=u.length;D<V;D++)Ld(o,u[D],S,I);return this}function Bv(o,u){for(var S in o[Jn]){var I=S.split(/\d/)[0];(!u||u(I))&&Ld(o,I,null,null,S)}}var Pd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ad(o,u,S,I){var R=u+d(S)+(I?"_"+d(I):"");if(o[Jn]&&o[Jn][R])return this;var D=function(K){return S.call(I||o,K||window.event)},V=D;!we.touchNative&&we.pointer&&u.indexOf("touch")===0?D=$k(o,u,D):we.touch&&u==="dblclick"?D=qk(o,D):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Pd[u]||u,D,we.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(D=function(K){K=K||window.event,Rd(o,K)&&V(K)},o.addEventListener(Pd[u],D,!1)):o.addEventListener(u,V,!1):o.attachEvent("on"+u,D),o[Jn]=o[Jn]||{},o[Jn][R]=D}function Ld(o,u,S,I,R){R=R||u+d(S)+(I?"_"+d(I):"");var D=o[Jn]&&o[Jn][R];if(!D)return this;!we.touchNative&&we.pointer&&u.indexOf("touch")===0?Fk(o,u,D):we.touch&&u==="dblclick"?Vk(o,D):"removeEventListener"in o?o.removeEventListener(Pd[u]||u,D,!1):o.detachEvent("on"+u,D),o[Jn][R]=null}function Si(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Id(o){return Ad(o,"wheel",Si),this}function ds(o){return Ce(o,"mousedown touchstart dblclick contextmenu",Si),o._leaflet_disable_click=!0,this}function Mt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ei(o){return Mt(o),Si(o),this}function Hv(o){if(o.composedPath)return o.composedPath();for(var u=[],S=o.target;S;)u.push(S),S=S.parentNode;return u}function Wv(o,u){if(!u)return new W(o.clientX,o.clientY);var S=Cd(u),I=S.boundingClientRect;return new W((o.clientX-I.left)/S.x-u.clientLeft,(o.clientY-I.top)/S.y-u.clientTop)}var Yk=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qv(o){return we.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Yk:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Rd(o,u){var S=u.relatedTarget;if(!S)return!0;try{for(;S&&S!==o;)S=S.parentNode}catch{return!1}return S!==o}var Kk={__proto__:null,on:Ce,off:Ke,stopPropagation:Si,disableScrollPropagation:Id,disableClickPropagation:ds,preventDefault:Mt,stop:Ei,getPropagationPath:Hv,getMousePosition:Wv,getWheelDelta:qv,isExternalTarget:Rd,addListener:Ce,removeListener:Ke},Vv=U.extend({run:function(o,u,S,I){this.stop(),this._el=o,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(I||.5,.2),this._startPos=Ti(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,S=this._duration*1e3;u<S?this._runFrame(this._easeOut(u/S),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var S=this._startPos.add(this._offset.multiplyBy(o));u&&S._round(),Tt(this._el,S),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Oe=U.extend({options:{crs:Q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=p(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ue(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ss&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ce(this._proxy,zv,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,S){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(ue(o),u,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var I=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,S.zoom):this._tryAnimatedPan(o,S.pan);if(I)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,S.pan&&S.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,S){var I=this.getZoomScale(u),R=this.getSize().divideBy(2),D=o instanceof W?o:this.latLngToContainerPoint(o),V=D.subtract(R).multiplyBy(1-1/I),K=this.containerPointToLatLng(R.add(V));return this.setView(K,u,{zoom:S})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():fe(o);var S=G(u.paddingTopLeft||u.padding||[0,0]),I=G(u.paddingBottomRight||u.padding||[0,0]),R=this.getBoundsZoom(o,!1,S.add(I));if(R=typeof u.maxZoom=="number"?Math.min(u.maxZoom,R):R,R===1/0)return{center:o.getCenter(),zoom:R};var D=I.subtract(S).divideBy(2),V=this.project(o.getSouthWest(),R),K=this.project(o.getNorthEast(),R),X=this.unproject(V.add(K).divideBy(2).add(D),R);return{center:X,zoom:R}},fitBounds:function(o,u){if(o=fe(o),!o.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(o,u);return this.setView(S.center,S.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=G(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,S,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,S){if(S=S||{},S.animate===!1||!we.any3d)return this.setView(o,u,S);this._stop();var I=this.project(this.getCenter()),R=this.project(o),D=this.getSize(),V=this._zoom;o=ue(o),u=u===void 0?V:u;var K=Math.max(D.x,D.y),X=K*this.getZoomScale(V,u),ie=R.distanceTo(I)||1,he=1.42,Se=he*he;function Ie(St){var tl=St?-1:1,FC=St?X:K,zC=X*X-K*K+tl*Se*Se*ie*ie,jC=2*FC*Se*ie,Hd=zC/jC,ky=Math.sqrt(Hd*Hd+1)-Hd,UC=ky<1e-9?-18:Math.log(ky);return UC}function xn(St){return(Math.exp(St)-Math.exp(-St))/2}function ki(St){return(Math.exp(St)+Math.exp(-St))/2}function el(St){return xn(St)/ki(St)}var Wr=Ie(0);function Bd(St){return K*(ki(Wr)/ki(Wr+he*St))}function OC(St){return K*(ki(Wr)*el(Wr+he*St)-xn(Wr))/Se}function MC(St){return 1-Math.pow(1-St,1.5)}var DC=Date.now(),Ey=(Ie(1)-Wr)/he,$C=S.duration?1e3*S.duration:1e3*Ey*.8;function xy(){var St=(Date.now()-DC)/$C,tl=MC(St)*Ey;St<=1?(this._flyToFrame=N(xy,this),this._move(this.unproject(I.add(R.subtract(I).multiplyBy(OC(tl)/ie)),V),this.getScaleZoom(K/Bd(tl),V),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),xy.call(this),this},flyToBounds:function(o,u){var S=this._getBoundsCenterZoom(o,u);return this.flyTo(S.center,S.zoom,u)},setMaxBounds:function(o){return o=fe(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var S=this.getCenter(),I=this._limitCenter(S,this._zoom,fe(o));return S.equals(I)||this.panTo(I,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var S=G(u.paddingTopLeft||u.padding||[0,0]),I=G(u.paddingBottomRight||u.padding||[0,0]),R=this.project(this.getCenter()),D=this.project(o),V=this.getPixelBounds(),K=oe([V.min.add(S),V.max.subtract(I)]),X=K.getSize();if(!K.contains(D)){this._enforcingBounds=!0;var ie=D.subtract(K.getCenter()),he=K.extend(D).getSize().subtract(X);R.x+=ie.x<0?-he.x:he.x,R.y+=ie.y<0?-he.y:he.y,this.panTo(this.unproject(R),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),I=u.divideBy(2).round(),R=S.divideBy(2).round(),D=I.subtract(R);return!D.x&&!D.y?this:(o.animate&&o.pan?this.panBy(D):(o.pan&&this._rawPanBy(D),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=a(this._handleGeolocationResponse,this),S=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,S,o):navigator.geolocation.getCurrentPosition(u,S,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,S=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,S=o.coords.longitude,I=new de(u,S),R=I.toBounds(o.coords.accuracy*2),D=this._locateOptions;if(D.setView){var V=this.getBoundsZoom(R);this.setView(I,D.maxZoom?Math.min(V,D.maxZoom):V)}var K={latlng:I,bounds:R,timestamp:o.timestamp};for(var X in o.coords)typeof o.coords[X]=="number"&&(K[X]=o.coords[X]);this.fire("locationfound",K)}},addHandler:function(o,u){if(!u)return this;var S=this[o]=new u(this);return this._handlers.push(S),this.options[o]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)lt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var S="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),I=Fe("div",S,u||this._mapPane);return o&&(this._panes[o]=I),I},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),S=this.unproject(o.getTopRight());return new ce(u,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,S){o=fe(o),S=G(S||[0,0]);var I=this.getZoom()||0,R=this.getMinZoom(),D=this.getMaxZoom(),V=o.getNorthWest(),K=o.getSouthEast(),X=this.getSize().subtract(S),ie=oe(this.project(K,I),this.project(V,I)).getSize(),he=we.any3d?this.options.zoomSnap:1,Se=X.x/ie.x,Ie=X.y/ie.y,xn=u?Math.max(Se,Ie):Math.min(Se,Ie);return I=this.getScaleZoom(xn,I),he&&(I=Math.round(I/(he/100))*(he/100),I=u?Math.ceil(I/he)*he:Math.floor(I/he)*he),Math.max(R,Math.min(D,I))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var S=this._getTopLeftPoint(o,u);return new J(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var S=this.options.crs;return u=u===void 0?this._zoom:u,S.scale(o)/S.scale(u)},getScaleZoom:function(o,u){var S=this.options.crs;u=u===void 0?this._zoom:u;var I=S.zoom(o*S.scale(u));return isNaN(I)?1/0:I},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ue(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(G(o),u)},layerPointToLatLng:function(o){var u=G(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(ue(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ue(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(fe(o))},distance:function(o,u){return this.options.crs.distance(ue(o),ue(u))},containerPointToLayerPoint:function(o){return G(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return G(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(G(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(o)))},mouseEventToContainerPoint:function(o){return Wv(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=jv(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ce(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Pe(o,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=as(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(o.markerPane,"leaflet-zoom-hide"),Pe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,S){Tt(this._mapPane,new W(0,0));var I=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var R=this._zoom!==u;this._moveStart(R,S)._move(o,u)._moveEnd(R),this.fire("viewreset"),I&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,S,I){u===void 0&&(u=this._zoom);var R=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),I?S&&S.pinch&&this.fire("zoom",S):((R||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Tt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?Ke:Ce;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var S=[],I,R=u==="mouseout"||u==="mouseover",D=o.target||o.srcElement,V=!1;D;){if(I=this._targets[d(D)],I&&(u==="click"||u==="preclick")&&this._draggableMoved(I)){V=!0;break}if(I&&I.listens(u,!0)&&(R&&!Rd(D,o)||(S.push(I),R))||D===this._container)break;D=D.parentNode}return!S.length&&!V&&!R&&this.listens(u,!0)&&(S=[this]),S},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var S=o.type;S==="mousedown"&&kd(u),this._fireDOMEvent(o,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,S){if(o.type==="click"){var I=i({},o);I.type="preclick",this._fireDOMEvent(I,I.type,S)}var R=this._findEventTargets(o,u);if(S){for(var D=[],V=0;V<S.length;V++)S[V].listens(u,!0)&&D.push(S[V]);R=D.concat(R)}if(R.length){u==="contextmenu"&&Mt(o);var K=R[0],X={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ie=K.getLatLng&&(!K._radius||K._radius<=10);X.containerPoint=ie?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(o),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=ie?K.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(V=0;V<R.length;V++)if(R[V].fire(u,X,!0),X.originalEvent._stopped||R[V].options.bubblingMouseEvents===!1&&T(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Ti(this._mapPane)||new W(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var S=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var S=this.getSize()._divideBy(2);return this.project(o,u)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,S){var I=this._getNewPixelOrigin(S,u);return this.project(o,u)._subtract(I)},_latLngBoundsToNewLayerBounds:function(o,u,S){var I=this._getNewPixelOrigin(S,u);return oe([this.project(o.getSouthWest(),u)._subtract(I),this.project(o.getNorthWest(),u)._subtract(I),this.project(o.getSouthEast(),u)._subtract(I),this.project(o.getNorthEast(),u)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,S){if(!S)return o;var I=this.project(o,u),R=this.getSize().divideBy(2),D=new J(I.subtract(R),I.add(R)),V=this._getBoundsOffset(D,S,u);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?o:this.unproject(I.add(V),u)},_limitOffset:function(o,u){if(!u)return o;var S=this.getPixelBounds(),I=new J(S.min.add(o),S.max.add(o));return o.add(this._getBoundsOffset(I,u))},_getBoundsOffset:function(o,u,S){var I=oe(this.project(u.getNorthEast(),S),this.project(u.getSouthWest(),S)),R=I.min.subtract(o.min),D=I.max.subtract(o.max),V=this._rebound(R.x,-D.x),K=this._rebound(R.y,-D.y);return new W(V,K)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),S=this.getMaxZoom(),I=we.any3d?this.options.zoomSnap:1;return I&&(o=Math.round(o/I)*I),Math.max(u,Math.min(S,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var S=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,u),!0)},_createAnimProxy:function(){var o=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var S=_d,I=this._proxy.style[S];bi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),I===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();bi(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var I=this.getZoomScale(u),R=this._getCenterOffset(o)._divideBy(1-1/I);return S.animate!==!0&&!this.getSize().contains(R)?!1:(N(function(){this._moveStart(!0,!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,S,I){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:I}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xk(o,u){return new Oe(o,u)}var Dn=j.extend({options:{position:"topright"},initialize:function(o){p(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),S=this.getPosition(),I=o._controlCorners[S];return Pe(u,"leaflet-control"),S.indexOf("bottom")!==-1?I.insertBefore(u,I.firstChild):I.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),fs=function(o){return new Dn(o)};Oe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",S=this._controlContainer=Fe("div",u+"control-container",this._container);function I(R,D){var V=u+R+" "+u+D;o[R+D]=Fe("div",V,S)}I("top","left"),I("top","right"),I("bottom","left"),I("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)lt(this._controlCorners[o]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zv=Dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,S,I){return S<I?-1:I<S?1:0}},initialize:function(o,u,S){p(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var I in o)this._addLayer(o[I],I);for(I in u)this._addLayer(u[I],I,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Dn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Fe("div",o),S=this.options.collapsed;u.setAttribute("aria-haspopup",!0),ds(u),Id(u);var I=this._section=Fe("section",o+"-list");S&&(this._map.on("click",this.collapse,this),Ce(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=Fe("a",o+"-toggle",u);R.href="#",R.title="Layers",R.setAttribute("role","button"),Ce(R,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){Mt(D),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Fe("div",o+"-base",I),this._separator=Fe("div",o+"-separator",I),this._overlaysList=Fe("div",o+"-overlays",I),u.appendChild(I)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,S){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:S}),this.options.sortLayers&&this._layers.sort(a(function(I,R){return this.options.sortFunction(I.layer,R.layer,I.name,R.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fa(this._baseLayersList),Fa(this._overlaysList),this._layerControlInputs=[];var o,u,S,I,R=0;for(S=0;S<this._layers.length;S++)I=this._layers[S],this._addItem(I),u=u||I.overlay,o=o||!I.overlay,R+=I.overlay?0:1;return this.options.hideSingleBase&&(o=o&&R>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),S=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;S&&this._map.fire(S,u)},_createRadioElement:function(o,u){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",I=document.createElement("div");return I.innerHTML=S,I.firstChild},_addItem:function(o){var u=document.createElement("label"),S=this._map.hasLayer(o.layer),I;o.overlay?(I=document.createElement("input"),I.type="checkbox",I.className="leaflet-control-layers-selector",I.defaultChecked=S):I=this._createRadioElement("leaflet-base-layers_"+d(this),S),this._layerControlInputs.push(I),I.layerId=d(o.layer),Ce(I,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+o.name;var D=document.createElement("span");u.appendChild(D),D.appendChild(I),D.appendChild(R);var V=o.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){var o=this._layerControlInputs,u,S,I=[],R=[];this._handlingClick=!0;for(var D=o.length-1;D>=0;D--)u=o[D],S=this._getLayer(u.layerId).layer,u.checked?I.push(S):u.checked||R.push(S);for(D=0;D<R.length;D++)this._map.hasLayer(R[D])&&this._map.removeLayer(R[D]);for(D=0;D<I.length;D++)this._map.hasLayer(I[D])||this._map.addLayer(I[D]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,S,I=this._map.getZoom(),R=o.length-1;R>=0;R--)u=o[R],S=this._getLayer(u.layerId).layer,u.disabled=S.options.minZoom!==void 0&&I<S.options.minZoom||S.options.maxZoom!==void 0&&I>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;Ce(o,"click",Mt),this.expand(),setTimeout(function(){Ke(o,"click",Mt)})}}),Qk=function(o,u,S){return new Zv(o,u,S)},Nd=Dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",S=Fe("div",u+" leaflet-bar"),I=this.options;return this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,u+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,u+"-out",S,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,S,I,R){var D=Fe("a",S,I);return D.innerHTML=o,D.href="#",D.title=u,D.setAttribute("role","button"),D.setAttribute("aria-label",u),ds(D),Ce(D,"click",Ei),Ce(D,"click",R,this),Ce(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Pe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Pe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Nd,this.addControl(this.zoomControl))});var Jk=function(o){return new Nd(o)},Gv=Dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",S=Fe("div",u),I=this.options;return this._addScales(I,u+"-line",S),o.on(I.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),S},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,S){o.metric&&(this._mScale=Fe("div",u,S)),o.imperial&&(this._iScale=Fe("div",u,S))},_update:function(){var o=this._map,u=o.getSize().y/2,S=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(S)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),S=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,S,u/o)},_updateImperial:function(o){var u=o*3.2808399,S,I,R;u>5280?(S=u/5280,I=this._getRoundNum(S),this._updateScale(this._iScale,I+" mi",I/S)):(R=this._getRoundNum(u),this._updateScale(this._iScale,R+" ft",R/u))},_updateScale:function(o,u,S){o.style.width=Math.round(this.options.maxWidth*S)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),S=o/u;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,u*S}}),eC=function(o){return new Gv(o)},tC='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Od=Dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?tC+" ":"")+"Leaflet</a>"},initialize:function(o){p(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),ds(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var S=[];this.options.prefix&&S.push(this.options.prefix),o.length&&S.push(o.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new Od().addTo(this)});var nC=function(o){return new Od(o)};Dn.Layers=Zv,Dn.Zoom=Nd,Dn.Scale=Gv,Dn.Attribution=Od,fs.layers=Qk,fs.zoom=Jk,fs.scale=eC,fs.attribution=nC;var er=j.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});er.addTo=function(o,u){return o.addHandler(u,this),this};var rC={Events:H},Yv=we.touch?"touchstart mousedown":"mousedown",Br=U.extend({options:{clickTolerance:3},initialize:function(o,u,S,I){p(this,I),this._element=o,this._dragStartTarget=u||o,this._preventOutline=S},enable:function(){this._enabled||(Ce(this._dragStartTarget,Yv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Br._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,Yv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!wd(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Br._dragging===this&&this.finishDrag();return}if(!(Br._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Br._dragging=this,this._preventOutline&&kd(this._element),Sd(),ls(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,S=Uv(this._element);this._startPoint=new W(u.clientX,u.clientY),this._startPos=Ti(this._element),this._parentScale=Cd(S);var I=o.type==="mousedown";Ce(document,I?"mousemove":"touchmove",this._onMove,this),Ce(document,I?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,S=new W(u.clientX,u.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Mt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Tt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),Ed(),us(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Br._dragging=!1}});function Kv(o,u){if(!u||!o.length)return o.slice();var S=u*u;return o=sC(o,S),o=oC(o,S),o}function Xv(o,u,S){return Math.sqrt(hs(o,u,S,!0))}function iC(o,u,S){return hs(o,u,S)}function oC(o,u){var S=o.length,I=typeof Uint8Array!=void 0+""?Uint8Array:Array,R=new I(S);R[0]=R[S-1]=1,Md(o,R,u,0,S-1);var D,V=[];for(D=0;D<S;D++)R[D]&&V.push(o[D]);return V}function Md(o,u,S,I,R){var D=0,V,K,X;for(K=I+1;K<=R-1;K++)X=hs(o[K],o[I],o[R],!0),X>D&&(V=K,D=X);D>S&&(u[V]=1,Md(o,u,S,I,V),Md(o,u,S,V,R))}function sC(o,u){for(var S=[o[0]],I=1,R=0,D=o.length;I<D;I++)aC(o[I],o[R])>u&&(S.push(o[I]),R=I);return R<D-1&&S.push(o[D-1]),S}var Qv;function Jv(o,u,S,I,R){var D=I?Qv:xi(o,S),V=xi(u,S),K,X,ie;for(Qv=V;;){if(!(D|V))return[o,u];if(D&V)return!1;K=D||V,X=Ha(o,u,K,S,R),ie=xi(X,S),K===D?(o=X,D=ie):(u=X,V=ie)}}function Ha(o,u,S,I,R){var D=u.x-o.x,V=u.y-o.y,K=I.min,X=I.max,ie,he;return S&8?(ie=o.x+D*(X.y-o.y)/V,he=X.y):S&4?(ie=o.x+D*(K.y-o.y)/V,he=K.y):S&2?(ie=X.x,he=o.y+V*(X.x-o.x)/D):S&1&&(ie=K.x,he=o.y+V*(K.x-o.x)/D),new W(ie,he,R)}function xi(o,u){var S=0;return o.x<u.min.x?S|=1:o.x>u.max.x&&(S|=2),o.y<u.min.y?S|=4:o.y>u.max.y&&(S|=8),S}function aC(o,u){var S=u.x-o.x,I=u.y-o.y;return S*S+I*I}function hs(o,u,S,I){var R=u.x,D=u.y,V=S.x-R,K=S.y-D,X=V*V+K*K,ie;return X>0&&(ie=((o.x-R)*V+(o.y-D)*K)/X,ie>1?(R=S.x,D=S.y):ie>0&&(R+=V*ie,D+=K*ie)),V=o.x-R,K=o.y-D,I?V*V+K*K:new W(R,D)}function En(o){return!h(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function ey(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(o)}function ty(o,u){var S,I,R,D,V,K,X,ie;if(!o||o.length===0)throw new Error("latlngs not passed");En(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var he=[];for(var Se in o)he.push(u.project(ue(o[Se])));var Ie=he.length;for(S=0,I=0;S<Ie-1;S++)I+=he[S].distanceTo(he[S+1])/2;if(I===0)ie=he[0];else for(S=0,D=0;S<Ie-1;S++)if(V=he[S],K=he[S+1],R=V.distanceTo(K),D+=R,D>I){X=(D-I)/R,ie=[K.x-X*(K.x-V.x),K.y-X*(K.y-V.y)];break}return u.unproject(G(ie))}var lC={__proto__:null,simplify:Kv,pointToSegmentDistance:Xv,closestPointOnSegment:iC,clipSegment:Jv,_getEdgeIntersection:Ha,_getBitCode:xi,_sqClosestPointOnSegment:hs,isFlat:En,_flat:ey,polylineCenter:ty};function ny(o,u,S){var I,R=[1,4,2,8],D,V,K,X,ie,he,Se,Ie;for(D=0,he=o.length;D<he;D++)o[D]._code=xi(o[D],u);for(K=0;K<4;K++){for(Se=R[K],I=[],D=0,he=o.length,V=he-1;D<he;V=D++)X=o[D],ie=o[V],X._code&Se?ie._code&Se||(Ie=Ha(ie,X,Se,u,S),Ie._code=xi(Ie,u),I.push(Ie)):(ie._code&Se&&(Ie=Ha(ie,X,Se,u,S),Ie._code=xi(Ie,u),I.push(Ie)),I.push(X));o=I}return o}function ry(o,u){var S,I,R,D,V,K,X,ie,he;if(!o||o.length===0)throw new Error("latlngs not passed");En(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Se=[];for(var Ie in o)Se.push(u.project(ue(o[Ie])));var xn=Se.length;for(K=X=ie=0,S=0,I=xn-1;S<xn;I=S++)R=Se[S],D=Se[I],V=R.y*D.x-D.y*R.x,X+=(R.x+D.x)*V,ie+=(R.y+D.y)*V,K+=V*3;return K===0?he=Se[0]:he=[X/K,ie/K],u.unproject(G(he))}var uC={__proto__:null,clipPolygon:ny,polygonCenter:ry},Dd={project:function(o){return new W(o.lng,o.lat)},unproject:function(o){return new de(o.y,o.x)},bounds:new J([-180,-90],[180,90])},$d={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,S=this.R,I=o.lat*u,R=this.R_MINOR/S,D=Math.sqrt(1-R*R),V=D*Math.sin(I),K=Math.tan(Math.PI/4-I/2)/Math.pow((1-V)/(1+V),D/2);return I=-S*Math.log(Math.max(K,1e-10)),new W(o.lng*u*S,I)},unproject:function(o){for(var u=180/Math.PI,S=this.R,I=this.R_MINOR/S,R=Math.sqrt(1-I*I),D=Math.exp(-o.y/S),V=Math.PI/2-2*Math.atan(D),K=0,X=.1,ie;K<15&&Math.abs(X)>1e-7;K++)ie=R*Math.sin(V),ie=Math.pow((1-ie)/(1+ie),R/2),X=Math.PI/2-2*Math.atan(D*ie)-V,V+=X;return new de(V*u,o.x*u/S)}},cC={__proto__:null,LonLat:Dd,Mercator:$d,SphericalMercator:z},dC=i({},re,{code:"EPSG:3395",projection:$d,transformation:function(){var o=.5/(Math.PI*$d.R);return Z(o,.5,-o,.5)}()}),iy=i({},re,{code:"EPSG:4326",projection:Dd,transformation:Z(1/180,1,-1/180,.5)}),fC=i({},be,{projection:Dd,transformation:Z(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var S=u.lng-o.lng,I=u.lat-o.lat;return Math.sqrt(S*S+I*I)},infinite:!0});be.Earth=re,be.EPSG3395=dC,be.EPSG3857=Q,be.EPSG900913=ne,be.EPSG4326=iy,be.Simple=fC;var $n=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var S=this.getEvents();u.on(S,this),this.once("remove",function(){u.off(S,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var S in this._layers)o.call(u,this._layers[S]);return this},_addLayers:function(o){o=o?h(o)?o:[o]:[];for(var u=0,S=o.length;u<S;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,S=this._getZoomSpan();for(var I in this._zoomBoundLayers){var R=this._zoomBoundLayers[I].options;o=R.minZoom===void 0?o:Math.min(o,R.minZoom),u=R.maxZoom===void 0?u:Math.max(u,R.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ro=$n.extend({initialize:function(o,u){p(this,u),this._layers={};var S,I;if(o)for(S=0,I=o.length;S<I;S++)this.addLayer(o[S])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),S,I;for(S in this._layers)I=this._layers[S],I[o]&&I[o].apply(I,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var S in this._layers)o.call(u,this._layers[S]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),hC=function(o,u){return new ro(o,u)},pr=ro.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ro.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ro.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ce;for(var u in this._layers){var S=this._layers[u];o.extend(S.getBounds?S.getBounds():S.getLatLng())}return o}}),pC=function(o,u){return new pr(o,u)},io=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){p(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var S=this._getIconUrl(o);if(!S){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var I=this._createImg(S,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(I,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),I},_setIconStyles:function(o,u){var S=this.options,I=S[u+"Size"];typeof I=="number"&&(I=[I,I]);var R=G(I),D=G(u==="shadow"&&S.shadowAnchor||S.iconAnchor||R&&R.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(S.className||""),D&&(o.style.marginLeft=-D.x+"px",o.style.marginTop=-D.y+"px"),R&&(o.style.width=R.x+"px",o.style.height=R.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return we.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function mC(o){return new io(o)}var ps=io.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof ps.imagePath!="string"&&(ps.imagePath=this._detectIconPath()),(this.options.imagePath||ps.imagePath)+io.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(S,I,R){var D=I.exec(S);return D&&D[R]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Fe("div","leaflet-default-icon-path",document.body),u=as(o,"background-image")||as(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),oy=er.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Br(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,S=u._map,I=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,D=Ti(u._icon),V=S.getPixelBounds(),K=S.getPixelOrigin(),X=oe(V.min._subtract(K).add(R),V.max._subtract(K).subtract(R));if(!X.contains(D)){var ie=G((Math.max(X.max.x,D.x)-X.max.x)/(V.max.x-X.max.x)-(Math.min(X.min.x,D.x)-X.min.x)/(V.min.x-X.min.x),(Math.max(X.max.y,D.y)-X.max.y)/(V.max.y-X.max.y)-(Math.min(X.min.y,D.y)-X.min.y)/(V.min.y-X.min.y)).multiplyBy(I);S.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),Tt(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=N(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,S=u._shadow,I=Ti(u._icon),R=u._map.layerPointToLatLng(I);S&&Tt(S,I),u._latlng=R,o.latlng=R,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Wa=$n.extend({options:{icon:new ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){p(this,u),this._latlng=ue(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=ue(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=o.icon.createIcon(this._icon),I=!1;S!==this._icon&&(this._icon&&this._removeIcon(),I=!0,o.title&&(S.title=o.title),S.tagName==="IMG"&&(S.alt=o.alt||"")),Pe(S,u),o.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(S,"focus",this._panOnFocus,this);var R=o.icon.createShadow(this._shadow),D=!1;R!==this._shadow&&(this._removeShadow(),D=!0),R&&(Pe(R,u),R.alt=""),this._shadow=R,o.opacity<1&&this._updateOpacity(),I&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&D&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Tt(this._icon,o),this._shadow&&Tt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),oy)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new oy(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Sn(this._icon,o),this._shadow&&Sn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,S=u.iconSize?G(u.iconSize):G(0,0),I=u.iconAnchor?G(u.iconAnchor):G(0,0);o.panInside(this._latlng,{paddingTopLeft:I,paddingBottomRight:S.subtract(I)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gC(o,u){return new Wa(o,u)}var Hr=$n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return p(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qa=Hr.extend({options:{fill:!0,radius:10},initialize:function(o,u){p(this,u),this._latlng=ue(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=ue(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return Hr.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,S=this._clickTolerance(),I=[o+S,u+S];this._pxBounds=new J(this._point.subtract(I),this._point.add(I))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vC(o,u){return new qa(o,u)}var Fd=qa.extend({initialize:function(o,u,S){if(typeof u=="number"&&(u=i({},S,{radius:u})),p(this,u),this._latlng=ue(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Hr.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,S=this._map,I=S.options.crs;if(I.distance===re.distance){var R=Math.PI/180,D=this._mRadius/re.R/R,V=S.project([u+D,o]),K=S.project([u-D,o]),X=V.add(K).divideBy(2),ie=S.unproject(X).lat,he=Math.acos((Math.cos(D*R)-Math.sin(u*R)*Math.sin(ie*R))/(Math.cos(u*R)*Math.cos(ie*R)))/R;(isNaN(he)||he===0)&&(he=D/Math.cos(Math.PI/180*u)),this._point=X.subtract(S.getPixelOrigin()),this._radius=isNaN(he)?0:X.x-S.project([ie,o-he]).x,this._radiusY=X.y-V.y}else{var Se=I.unproject(I.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Se).x}this._updateBounds()}});function yC(o,u,S){return new Fd(o,u,S)}var mr=Hr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){p(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,S=null,I=hs,R,D,V=0,K=this._parts.length;V<K;V++)for(var X=this._parts[V],ie=1,he=X.length;ie<he;ie++){R=X[ie-1],D=X[ie];var Se=I(o,R,D,!0);Se<u&&(u=Se,S=I(o,R,D))}return S&&(S.distance=Math.sqrt(u)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ty(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=ue(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ce,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],S=En(o),I=0,R=o.length;I<R;I++)S?(u[I]=ue(o[I]),this._bounds.extend(u[I])):u[I]=this._convertLatLngs(o[I]);return u},_project:function(){var o=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new W(o,o);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,S){var I=o[0]instanceof de,R=o.length,D,V;if(I){for(V=[],D=0;D<R;D++)V[D]=this._map.latLngToLayerPoint(o[D]),S.extend(V[D]);u.push(V)}else for(D=0;D<R;D++)this._projectLatlngs(o[D],u,S)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,S,I,R,D,V,K,X;for(S=0,R=0,D=this._rings.length;S<D;S++)for(X=this._rings[S],I=0,V=X.length;I<V-1;I++)K=Jv(X[I],X[I+1],o,I,!0),K&&(u[R]=u[R]||[],u[R].push(K[0]),(K[1]!==X[I+1]||I===V-2)&&(u[R].push(K[1]),R++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,S=0,I=o.length;S<I;S++)o[S]=Kv(o[S],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var S,I,R,D,V,K,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(S=0,D=this._parts.length;S<D;S++)for(K=this._parts[S],I=0,V=K.length,R=V-1;I<V;R=I++)if(!(!u&&I===0)&&Xv(o,K[R],K[I])<=X)return!0;return!1}});function _C(o,u){return new mr(o,u)}mr._flat=ey;var oo=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ry(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=mr.prototype._convertLatLngs.call(this,o),S=u.length;return S>=2&&u[0]instanceof de&&u[0].equals(u[S-1])&&u.pop(),u},_setLatLngs:function(o){mr.prototype._setLatLngs.call(this,o),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,S=new W(u,u);if(o=new J(o.min.subtract(S),o.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var I=0,R=this._rings.length,D;I<R;I++)D=ny(this._rings[I],o,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,S,I,R,D,V,K,X,ie;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(D=0,X=this._parts.length;D<X;D++)for(S=this._parts[D],V=0,ie=S.length,K=ie-1;V<ie;K=V++)I=S[V],R=S[K],I.y>o.y!=R.y>o.y&&o.x<(R.x-I.x)*(o.y-I.y)/(R.y-I.y)+I.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,o,!0)}});function wC(o,u){return new oo(o,u)}var gr=pr.extend({initialize:function(o,u){p(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=h(o)?o:o.features,S,I,R;if(u){for(S=0,I=u.length;S<I;S++)R=u[S],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var D=this.options;if(D.filter&&!D.filter(o))return this;var V=Va(o,D);return V?(V.feature=Ya(o),V.defaultOptions=V.options,this.resetStyle(V),D.onEachFeature&&D.onEachFeature(o,V),this.addLayer(V)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function Va(o,u){var S=o.type==="Feature"?o.geometry:o,I=S?S.coordinates:null,R=[],D=u&&u.pointToLayer,V=u&&u.coordsToLatLng||zd,K,X,ie,he;if(!I&&!S)return null;switch(S.type){case"Point":return K=V(I),sy(D,o,K,u);case"MultiPoint":for(ie=0,he=I.length;ie<he;ie++)K=V(I[ie]),R.push(sy(D,o,K,u));return new pr(R);case"LineString":case"MultiLineString":return X=Za(I,S.type==="LineString"?0:1,V),new mr(X,u);case"Polygon":case"MultiPolygon":return X=Za(I,S.type==="Polygon"?1:2,V),new oo(X,u);case"GeometryCollection":for(ie=0,he=S.geometries.length;ie<he;ie++){var Se=Va({geometry:S.geometries[ie],type:"Feature",properties:o.properties},u);Se&&R.push(Se)}return new pr(R);case"FeatureCollection":for(ie=0,he=S.features.length;ie<he;ie++){var Ie=Va(S.features[ie],u);Ie&&R.push(Ie)}return new pr(R);default:throw new Error("Invalid GeoJSON object.")}}function sy(o,u,S,I){return o?o(u,S):new Wa(S,I&&I.markersInheritOptions&&I)}function zd(o){return new de(o[1],o[0],o[2])}function Za(o,u,S){for(var I=[],R=0,D=o.length,V;R<D;R++)V=u?Za(o[R],u-1,S):(S||zd)(o[R]),I.push(V);return I}function jd(o,u){return o=ue(o),o.alt!==void 0?[f(o.lng,u),f(o.lat,u),f(o.alt,u)]:[f(o.lng,u),f(o.lat,u)]}function Ga(o,u,S,I){for(var R=[],D=0,V=o.length;D<V;D++)R.push(u?Ga(o[D],En(o[D])?0:u-1,S,I):jd(o[D],I));return!u&&S&&R.push(R[0].slice()),R}function so(o,u){return o.feature?i({},o.feature,{geometry:u}):Ya(u)}function Ya(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Ud={toGeoJSON:function(o){return so(this,{type:"Point",coordinates:jd(this.getLatLng(),o)})}};Wa.include(Ud),Fd.include(Ud),qa.include(Ud),mr.include({toGeoJSON:function(o){var u=!En(this._latlngs),S=Ga(this._latlngs,u?1:0,!1,o);return so(this,{type:(u?"Multi":"")+"LineString",coordinates:S})}}),oo.include({toGeoJSON:function(o){var u=!En(this._latlngs),S=u&&!En(this._latlngs[0]),I=Ga(this._latlngs,S?2:u?1:0,!0,o);return u||(I=[I]),so(this,{type:(S?"Multi":"")+"Polygon",coordinates:I})}}),ro.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(S){u.push(S.toGeoJSON(o).geometry.coordinates)}),so(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var S=u==="GeometryCollection",I=[];return this.eachLayer(function(R){if(R.toGeoJSON){var D=R.toGeoJSON(o);if(S)I.push(D.geometry);else{var V=Ya(D);V.type==="FeatureCollection"?I.push.apply(I,V.features):I.push(V)}}}),S?so(this,{geometries:I,type:"GeometryCollection"}):{type:"FeatureCollection",features:I}}});function ay(o,u){return new gr(o,u)}var bC=ay,Ka=$n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,S){this._url=o,this._bounds=fe(u),p(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&to(this._image),this},bringToBack:function(){return this._map&&no(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=fe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Fe("img");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=c,u.onmousemove=c,u.onload=a(this.fire,this,"load"),u.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;bi(this._image,S,u)},_reset:function(){var o=this._image,u=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=u.getSize();Tt(o,u.min),o.style.width=S.x+"px",o.style.height=S.y+"px"},_updateOpacity:function(){Sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),TC=function(o,u,S){return new Ka(o,u,S)},ly=Ka.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Fe("video");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=c,u.onmousemove=c,u.onloadeddata=a(this.fire,this,"load"),o){for(var S=u.getElementsByTagName("source"),I=[],R=0;R<S.length;R++)I.push(S[R].src);this._url=S.length>0?I:[u.src];return}h(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var V=Fe("source");V.src=this._url[D],u.appendChild(V)}}});function SC(o,u,S){return new ly(o,u,S)}var uy=Ka.extend({_initImage:function(){var o=this._image=this._url;Pe(o,"leaflet-image-layer"),this._zoomAnimated&&Pe(o,"leaflet-zoom-animated"),this.options.className&&Pe(o,this.options.className),o.onselectstart=c,o.onmousemove=c}});function EC(o,u,S){return new uy(o,u,S)}var tr=$n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof de||h(o))?(this._latlng=ue(o),p(this,u)):(p(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Sn(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Sn(this._container,0),this._removeTimeout=setTimeout(a(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ue(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&to(this._container),this},bringToBack:function(){return this._map&&no(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof pr){u=null;var S=this._source._layers;for(var I in S)if(S[I]._map){u=S[I];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=G(this.options.offset),S=this._getAnchor();this._zoomAnimated?Tt(this._container,o.add(S)):u=u.add(o).add(S);var I=this._containerBottom=-u.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=I+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(o,u,S,I){var R=u;return R instanceof o||(R=new o(I).setContent(u)),S&&R.setLatLng(S),R}}),$n.include({_initOverlay:function(o,u,S,I){var R=S;return R instanceof o?(p(R,I),R._source=this):(R=u&&!I?u:new o(I,this),R.setContent(S)),R}});var Xa=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,tr.prototype.openOn.call(this,o)},onAdd:function(o){tr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hr||this._source.on("preclick",Si))},onRemove:function(o){tr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hr||this._source.off("preclick",Si))},getEvents:function(){var o=tr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Fe("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Fe("div",o+"-content-wrapper",u);if(this._contentNode=Fe("div",o+"-content",S),ds(u),Id(this._contentNode),Ce(u,"contextmenu",Si),this._tipContainer=Fe("div",o+"-tip-container",u),this._tip=Fe("div",o+"-tip",this._tipContainer),this.options.closeButton){var I=this._closeButton=Fe("a",o+"-close-button",u);I.setAttribute("role","button"),I.setAttribute("aria-label","Close popup"),I.href="#close",I.innerHTML='<span aria-hidden="true">&#215;</span>',Ce(I,"click",function(R){Mt(R),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var S=o.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),u.width=S+1+"px",u.whiteSpace="",u.height="";var I=o.offsetHeight,R=this.options.maxHeight,D="leaflet-popup-scrolled";R&&I>R?(u.height=R+"px",Pe(o,D)):_t(o,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),S=this._getAnchor();Tt(this._container,u.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(as(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+u,I=this._containerWidth,R=new W(this._containerLeft,-S-this._containerBottom);R._add(Ti(this._container));var D=o.layerPointToContainerPoint(R),V=G(this.options.autoPanPadding),K=G(this.options.autoPanPaddingTopLeft||V),X=G(this.options.autoPanPaddingBottomRight||V),ie=o.getSize(),he=0,Se=0;D.x+I+X.x>ie.x&&(he=D.x+I-ie.x+X.x),D.x-he-K.x<0&&(he=D.x-K.x),D.y+S+X.y>ie.y&&(Se=D.y+S-ie.y+X.y),D.y-Se-K.y<0&&(Se=D.y-K.y),(he||Se)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([he,Se]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xC=function(o,u){return new Xa(o,u)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(o,u,S){return this._initOverlay(Xa,o,u,S).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),$n.include({bindPopup:function(o,u){return this._popup=this._initOverlay(Xa,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof pr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Ei(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof Hr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Qa=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){tr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){tr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=tr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,S,I=this._map,R=this._container,D=I.latLngToContainerPoint(I.getCenter()),V=I.layerPointToContainerPoint(o),K=this.options.direction,X=R.offsetWidth,ie=R.offsetHeight,he=G(this.options.offset),Se=this._getAnchor();K==="top"?(u=X/2,S=ie):K==="bottom"?(u=X/2,S=0):K==="center"?(u=X/2,S=ie/2):K==="right"?(u=0,S=ie/2):K==="left"?(u=X,S=ie/2):V.x<D.x?(K="right",u=0,S=ie/2):(K="left",u=X+(he.x+Se.x)*2,S=ie/2),o=o.subtract(G(u,S,!0)).add(he).add(Se),_t(R,"leaflet-tooltip-right"),_t(R,"leaflet-tooltip-left"),_t(R,"leaflet-tooltip-top"),_t(R,"leaflet-tooltip-bottom"),Pe(R,"leaflet-tooltip-"+K),Tt(R,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Sn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kC=function(o,u){return new Qa(o,u)};Oe.include({openTooltip:function(o,u,S){return this._initOverlay(Qa,o,u,S).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$n.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qa,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[u](S),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof pr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=o.getElement();u&&(Ce(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ce(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var u=o.latlng,S,I;this._tooltip.options.sticky&&o.originalEvent&&(S=this._map.mouseEventToContainerPoint(o.originalEvent),I=this._map.containerPointToLayerPoint(S),u=this._map.layerPointToLatLng(I)),this._tooltip.setLatLng(u)}});var cy=io.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Fa(u),u.appendChild(S.html)):u.innerHTML=S.html!==!1?S.html:"",S.bgPos){var I=G(S.bgPos);u.style.backgroundPosition=-I.x+"px "+-I.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function CC(o){return new cy(o)}io.Default=ps;var ms=$n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){p(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),lt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(to(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(no(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof W?o:new W(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,S=-o(-1/0,1/0),I=0,R=u.length,D;I<R;I++)D=u[I].style.zIndex,u[I]!==this._container&&D&&(S=o(S,+D));isFinite(S)&&(this.options.zIndex=S+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){Sn(this._container,this.options.opacity);var o=+new Date,u=!1,S=!1;for(var I in this._tiles){var R=this._tiles[I];if(!(!R.current||!R.loaded)){var D=Math.min(1,(o-R.loaded)/200);Sn(R.el,D),D<1?u=!0:(R.active?S=!0:this._onOpaqueTile(R),R.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),u&&($(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===o?(this._levels[S].el.style.zIndex=u-Math.abs(o-S),this._onUpdateLevel(S)):(lt(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var I=this._levels[o],R=this._map;return I||(I=this._levels[o]={},I.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=u,I.origin=R.project(R.unproject(R.getPixelOrigin()),o).round(),I.zoom=o,this._setZoomTransform(I,R.getCenter(),R.getZoom()),c(I.el.offsetWidth),this._onCreateLevel(I)),this._level=I,I}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var o,u,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var I=u.coords;this._retainParent(I.x,I.y,I.z,I.z-5)||this._retainChildren(I.x,I.y,I.z,I.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)lt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,S,I){var R=Math.floor(o/2),D=Math.floor(u/2),V=S-1,K=new W(+R,+D);K.z=+V;var X=this._tileCoordsToKey(K),ie=this._tiles[X];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),V>I?this._retainParent(R,D,V,I):!1)},_retainChildren:function(o,u,S,I){for(var R=2*o;R<2*o+2;R++)for(var D=2*u;D<2*u+2;D++){var V=new W(R,D);V.z=S+1;var K=this._tileCoordsToKey(V),X=this._tiles[K];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);S+1<I&&this._retainChildren(R,D,S+1,I)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,S,I){var R=Math.round(u);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var D=this.options.updateWhenZooming&&R!==this._tileZoom;(!I||D)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(o),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var S in this._levels)this._setZoomTransform(this._levels[S],o,u)},_setZoomTransform:function(o,u,S){var I=this._map.getZoomScale(S,o.zoom),R=o.origin.multiplyBy(I).subtract(this._map._getNewPixelOrigin(u,S)).round();we.any3d?bi(o.el,R,I):Tt(o.el,R)},_resetGrid:function(){var o=this._map,u=o.options.crs,S=this._tileSize=this.getTileSize(),I=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],I).x/S.x),Math.ceil(o.project([0,u.wrapLng[1]],I).x/S.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],I).y/S.x),Math.ceil(o.project([u.wrapLat[1],0],I).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,S=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),I=u.getZoomScale(S,this._tileZoom),R=u.project(o,this._tileZoom).floor(),D=u.getSize().divideBy(I*2);return new J(R.subtract(D),R.add(D))},_update:function(o){var u=this._map;if(u){var S=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var I=this._getTiledPixelBounds(o),R=this._pxBoundsToTileRange(I),D=R.getCenter(),V=[],K=this.options.keepBuffer,X=new J(R.getBottomLeft().subtract([K,-K]),R.getTopRight().add([K,-K]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var he=this._tiles[ie].coords;(he.z!==this._tileZoom||!X.contains(new W(he.x,he.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(o,S);return}for(var Se=R.min.y;Se<=R.max.y;Se++)for(var Ie=R.min.x;Ie<=R.max.x;Ie++){var xn=new W(Ie,Se);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var ki=this._tiles[this._tileCoordsToKey(xn)];ki?ki.current=!0:V.push(xn)}}if(V.sort(function(Wr,Bd){return Wr.distanceTo(D)-Bd.distanceTo(D)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var el=document.createDocumentFragment();for(Ie=0;Ie<V.length;Ie++)this._addTile(V[Ie],el);this._level.el.appendChild(el)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var S=this._globalTileRange;if(!u.wrapLng&&(o.x<S.min.x||o.x>S.max.x)||!u.wrapLat&&(o.y<S.min.y||o.y>S.max.y))return!1}if(!this.options.bounds)return!0;var I=this._tileCoordsToBounds(o);return fe(this.options.bounds).overlaps(I)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,S=this.getTileSize(),I=o.scaleBy(S),R=I.add(S),D=u.unproject(I,o.z),V=u.unproject(R,o.z);return[D,V]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),S=new ce(u[0],u[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),S=new W(+u[0],+u[1]);return S.z=+u[2],S},_removeTile:function(o){var u=this._tiles[o];u&&(lt(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Pe(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=c,o.onmousemove=c,we.ielt9&&this.options.opacity<1&&Sn(o,this.options.opacity)},_addTile:function(o,u){var S=this._getTilePos(o),I=this._tileCoordsToKey(o),R=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(R),this.createTile.length<2&&N(a(this._tileReady,this,o,null,R)),Tt(R,S),this._tiles[I]={el:R,coords:o,current:!0},u.appendChild(R),this.fire("tileloadstart",{tile:R,coords:o})},_tileReady:function(o,u,S){u&&this.fire("tileerror",{error:u,tile:S,coords:o});var I=this._tileCoordsToKey(o);S=this._tiles[I],S&&(S.loaded=+new Date,this._map._fadeAnimated?(Sn(S.el,0),$(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),u||(Pe(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new W(this._wrapX?_(o.x,this._wrapX):o.x,this._wrapY?_(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new J(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function PC(o){return new ms(o)}var ao=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=p(this,u),u.detectRetina&&we.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var S=document.createElement("img");return Ce(S,"load",a(this._tileOnLoad,this,u,S)),Ce(S,"error",a(this._tileOnError,this,u,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(o),S},getTileUrl:function(o){var u={r:we.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=S),u["-y"]=S}return m(this._url,i(u,this.options))},_tileOnLoad:function(o,u){we.ielt9?setTimeout(a(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,S){var I=this.options.errorTileUrl;I&&u.getAttribute("src")!==I&&(u.src=I),o(S,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,S=this.options.zoomReverse,I=this.options.zoomOffset;return S&&(o=u-o),o+I},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=c,u.onerror=c,!u.complete)){u.src=x;var S=this._tiles[o].coords;lt(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:S})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",x),ms.prototype._removeTile.call(this,o)},_tileReady:function(o,u,S){if(!(!this._map||S&&S.getAttribute("src")===x))return ms.prototype._tileReady.call(this,o,u,S)}});function dy(o,u){return new ao(o,u)}var fy=ao.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var S=i({},this.defaultWmsParams);for(var I in u)I in this.options||(S[I]=u[I]);u=p(this,u);var R=u.detectRetina&&we.retina?2:1,D=this.getTileSize();S.width=D.x*R,S.height=D.y*R,this.wmsParams=S},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ao.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),S=this._crs,I=oe(S.project(u[0]),S.project(u[1])),R=I.min,D=I.max,V=(this._wmsVersion>=1.3&&this._crs===iy?[R.y,R.x,D.y,D.x]:[R.x,R.y,D.x,D.y]).join(","),K=ao.prototype.getTileUrl.call(this,o);return K+b(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(o,u){return i(this.wmsParams,o),u||this.redraw(),this}});function AC(o,u){return new fy(o,u)}ao.WMS=fy,dy.wms=AC;var vr=$n.extend({options:{padding:.1},initialize:function(o){p(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var S=this._map.getZoomScale(u,this._zoom),I=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,u),D=I.multiplyBy(-S).add(R).subtract(this._map._getNewPixelOrigin(o,u));we.any3d?bi(this._container,D,S):Tt(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),S=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new J(S,S.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hy=vr.extend({options:{tolerance:0},getEvents:function(){var o=vr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ce(o,"mousemove",this._onMouseMove,this),Ce(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ce(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,lt(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var o=this._bounds,u=this._container,S=o.getSize(),I=we.retina?2:1;Tt(u,o.min),u.width=I*S.x,u.height=I*S.y,u.style.width=S.x+"px",u.style.height=S.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,S=u.next,I=u.prev;S?S.prev=I:this._drawLast=I,I?I.next=S:this._drawFirst=S,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),S=[],I,R;for(R=0;R<u.length;R++){if(I=Number(u[R]),isNaN(I))return;S.push(I)}o.options._dashArray=S}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var S=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)o=I.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var S,I,R,D,V=o._parts,K=V.length,X=this._ctx;if(K){for(X.beginPath(),S=0;S<K;S++){for(I=0,R=V[S].length;I<R;I++)D=V[S][I],X[I?"lineTo":"moveTo"](D.x,D.y);u&&X.closePath()}this._fillStroke(X,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,S=this._ctx,I=Math.max(Math.round(o._radius),1),R=(Math.max(Math.round(o._radiusY),1)||I)/I;R!==1&&(S.save(),S.scale(1,R)),S.beginPath(),S.arc(u.x,u.y/R,I,0,Math.PI*2,!1),R!==1&&S.restore(),this._fillStroke(S,o)}},_fillStroke:function(o,u){var S=u.options;S.fill&&(o.globalAlpha=S.fillOpacity,o.fillStyle=S.fillColor||S.color,o.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=S.opacity,o.lineWidth=S.weight,o.strokeStyle=S.color,o.lineCap=S.lineCap,o.lineJoin=S.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),S,I,R=this._drawFirst;R;R=R.next)S=R.layer,S.options.interactive&&S._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(S))&&(I=S);this._fireEvent(I?[I]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var S,I,R=this._drawFirst;R;R=R.next)S=R.layer,S.options.interactive&&S._containsPoint(u)&&(I=S);I!==this._hoveredLayer&&(this._handleMouseOut(o),I&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([I],o,"mouseover"),this._hoveredLayer=I)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,S){this._map._fireDOMEvent(u,S||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var S=u.next,I=u.prev;if(S)S.prev=I;else return;I?I.next=S:S&&(this._drawFirst=S),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var S=u.next,I=u.prev;if(I)I.next=S;else return;S?S.prev=I:I&&(this._drawLast=I),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function py(o){return we.canvas?new hy(o):null}var gs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),LC={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=gs("shape");Pe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=gs("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;lt(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,S=o._fill,I=o.options,R=o._container;R.stroked=!!I.stroke,R.filled=!!I.fill,I.stroke?(u||(u=o._stroke=gs("stroke")),R.appendChild(u),u.weight=I.weight+"px",u.color=I.color,u.opacity=I.opacity,I.dashArray?u.dashStyle=h(I.dashArray)?I.dashArray.join(" "):I.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=I.lineCap.replace("butt","flat"),u.joinstyle=I.lineJoin):u&&(R.removeChild(u),o._stroke=null),I.fill?(S||(S=o._fill=gs("fill")),R.appendChild(S),S.color=I.fillColor||I.color,S.opacity=I.fillOpacity):S&&(R.removeChild(S),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),S=Math.round(o._radius),I=Math.round(o._radiusY||S);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+S+","+I+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){to(o._container)},_bringToBack:function(o){no(o._container)}},Ja=we.vml?gs:ve,vs=vr.extend({_initContainer:function(){this._container=Ja("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ja("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vr.prototype._update.call(this);var o=this._bounds,u=o.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,S.setAttribute("width",u.x),S.setAttribute("height",u.y)),Tt(S,o.min),S.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=Ja("path");o.options.className&&Pe(u,o.options.className),o.options.interactive&&Pe(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){lt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,S=o.options;u&&(S.stroke?(u.setAttribute("stroke",S.color),u.setAttribute("stroke-opacity",S.opacity),u.setAttribute("stroke-width",S.weight),u.setAttribute("stroke-linecap",S.lineCap),u.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?u.setAttribute("stroke-dasharray",S.dashArray):u.removeAttribute("stroke-dasharray"),S.dashOffset?u.setAttribute("stroke-dashoffset",S.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),S.fill?(u.setAttribute("fill",S.fillColor||S.color),u.setAttribute("fill-opacity",S.fillOpacity),u.setAttribute("fill-rule",S.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,se(o._parts,u))},_updateCircle:function(o){var u=o._point,S=Math.max(Math.round(o._radius),1),I=Math.max(Math.round(o._radiusY),1)||S,R="a"+S+","+I+" 0 1,0 ",D=o._empty()?"M0 0":"M"+(u.x-S)+","+u.y+R+S*2+",0 "+R+-S*2+",0 ";this._setPath(o,D)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){to(o._path)},_bringToBack:function(o){no(o._path)}});we.vml&&vs.include(LC);function my(o){return we.svg||we.vml?new vs(o):null}Oe.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&py(o)||my(o)}});var gy=oo.extend({initialize:function(o,u){oo.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=fe(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function IC(o,u){return new gy(o,u)}vs.create=Ja,vs.pointsToPath=se,gr.geometryToLayer=Va,gr.coordsToLatLng=zd,gr.coordsToLatLngs=Za,gr.latLngToCoords=jd,gr.latLngsToCoords=Ga,gr.getFeature=so,gr.asFeature=Ya,Oe.mergeOptions({boxZoom:!0});var vy=er.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ls(),Sd(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ce(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new J(this._point,this._startPoint),S=u.getSize();Tt(this._box,u.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(lt(this._box),_t(this._container,"leaflet-crosshair")),us(),Ed(),Ke(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var u=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",vy),Oe.mergeOptions({doubleClickZoom:!0});var yy=er.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,S=u.getZoom(),I=u.options.zoomDelta,R=o.originalEvent.shiftKey?S-I:S+I;u.options.doubleClickZoom==="center"?u.setZoom(R):u.setZoomAround(o.containerPoint,R)}});Oe.addInitHook("addHandler","doubleClickZoom",yy),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _y=er.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Br(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=fe(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),S=this._initialWorldOffset,I=this._draggable._newPos.x,R=(I-u+S)%o+u-S,D=(I+u+S)%o-u-S,V=Math.abs(R+S)<Math.abs(D+S)?R:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(o){var u=this._map,S=u.options,I=!S.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),I)u.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,V=S.easeLinearity,K=R.multiplyBy(V/D),X=K.distanceTo([0,0]),ie=Math.min(S.inertiaMaxSpeed,X),he=K.multiplyBy(ie/X),Se=ie/(S.inertiaDeceleration*V),Ie=he.multiplyBy(-Se/2).round();!Ie.x&&!Ie.y?u.fire("moveend"):(Ie=u._limitOffset(Ie,u.options.maxBounds),N(function(){u.panBy(Ie,{duration:Se,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",_y),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wy=er.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ce(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,S=o.scrollTop||u.scrollTop,I=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(I,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},S=this.keyCodes,I,R;for(I=0,R=S.left.length;I<R;I++)u[S.left[I]]=[-1*o,0];for(I=0,R=S.right.length;I<R;I++)u[S.right[I]]=[o,0];for(I=0,R=S.down.length;I<R;I++)u[S.down[I]]=[0,o];for(I=0,R=S.up.length;I<R;I++)u[S.up[I]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},S=this.keyCodes,I,R;for(I=0,R=S.zoomIn.length;I<R;I++)u[S.zoomIn[I]]=o;for(I=0,R=S.zoomOut.length;I<R;I++)u[S.zoomOut[I]]=-o},_addHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,S=this._map,I;if(u in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(I=this._panKeys[u],o.shiftKey&&(I=G(I).multiplyBy(3)),S.options.maxBounds&&(I=S._limitOffset(G(I),S.options.maxBounds)),S.options.worldCopyJump){var R=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(I)));S.panTo(R)}else S.panBy(I)}else if(u in this._zoomKeys)S.setZoom(S.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Ei(o)}}});Oe.addInitHook("addHandler","keyboard",wy),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var by=er.extend({addHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=qv(o),S=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var I=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),I),Ei(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),S=this._map.options.zoomSnap||0;o._stop();var I=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(I))))/Math.LN2,D=S?Math.ceil(R/S)*S:R,V=o._limitZoom(u+(this._delta>0?D:-D))-u;this._delta=0,this._startTime=null,V&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+V):o.setZoomAround(this._lastMousePos,u+V))}});Oe.addInitHook("addHandler","scrollWheelZoom",by);var RC=600;Oe.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var Ty=er.extend({addHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new W(u.clientX,u.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ce(document,"touchend",Mt),Ce(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),RC),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ke(document,"touchend",Mt),Ke(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new W(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var S=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});S._simulated=!0,u.target.dispatchEvent(S)}});Oe.addInitHook("addHandler","tapHold",Ty),Oe.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var Sy=er.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var S=u.mouseEventToContainerPoint(o.touches[0]),I=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(S.add(I)._divideBy(2))),this._startDist=S.distanceTo(I),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),Mt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,S=u.mouseEventToContainerPoint(o.touches[0]),I=u.mouseEventToContainerPoint(o.touches[1]),R=S.distanceTo(I)/this._startDist;if(this._zoom=u.getScaleZoom(R,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&R<1||this._zoom>u.getMaxZoom()&&R>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var D=S._add(I)._divideBy(2)._subtract(this._centerPoint);if(R===1&&D.x===0&&D.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var V=a(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(V,this,!0),Mt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",Sy),Oe.BoxZoom=vy,Oe.DoubleClickZoom=yy,Oe.Drag=_y,Oe.Keyboard=wy,Oe.ScrollWheelZoom=by,Oe.TapHold=Ty,Oe.TouchZoom=Sy,n.Bounds=J,n.Browser=we,n.CRS=be,n.Canvas=hy,n.Circle=Fd,n.CircleMarker=qa,n.Class=j,n.Control=Dn,n.DivIcon=cy,n.DivOverlay=tr,n.DomEvent=Kk,n.DomUtil=Gk,n.Draggable=Br,n.Evented=U,n.FeatureGroup=pr,n.GeoJSON=gr,n.GridLayer=ms,n.Handler=er,n.Icon=io,n.ImageOverlay=Ka,n.LatLng=de,n.LatLngBounds=ce,n.Layer=$n,n.LayerGroup=ro,n.LineUtil=lC,n.Map=Oe,n.Marker=Wa,n.Mixin=rC,n.Path=Hr,n.Point=W,n.PolyUtil=uC,n.Polygon=oo,n.Polyline=mr,n.Popup=Xa,n.PosAnimation=Vv,n.Projection=cC,n.Rectangle=gy,n.Renderer=vr,n.SVG=vs,n.SVGOverlay=uy,n.TileLayer=ao,n.Tooltip=Qa,n.Transformation=q,n.Util=F,n.VideoOverlay=ly,n.bind=a,n.bounds=oe,n.canvas=py,n.circle=yC,n.circleMarker=vC,n.control=fs,n.divIcon=CC,n.extend=i,n.featureGroup=pC,n.geoJSON=ay,n.geoJson=bC,n.gridLayer=PC,n.icon=mC,n.imageOverlay=TC,n.latLng=ue,n.latLngBounds=fe,n.layerGroup=hC,n.map=Xk,n.marker=gC,n.point=G,n.polygon=wC,n.polyline=_C,n.popup=xC,n.rectangle=IC,n.setOptions=p,n.stamp=d,n.svg=my,n.svgOverlay=EC,n.tileLayer=dy,n.tooltip=kC,n.transformation=Z,n.version=r,n.videoOverlay=SC;var NC=window.L;n.noConflict=function(){return window.L=NC,this},window.L=n})})(tj,Hp);function Wp(e,t,n,r,i,s){if(i-r<=n)return;const a=r+i>>1;Sx(e,t,a,r,i,s%2),Wp(e,t,n,r,a-1,s+1),Wp(e,t,n,a+1,i,s+1)}function Sx(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const y=i-r+1,_=n-r+1,c=Math.log(y),f=.5*Math.exp(2*c/3),w=.5*Math.sqrt(c*f*(y-f)/y)*(_-y/2<0?-1:1),v=Math.max(r,Math.floor(n-_*f/y+w)),p=Math.min(i,Math.floor(n+(y-_)*f/y+w));Sx(e,t,n,v,p,s)}const a=t[2*n+s];let l=r,d=i;for(Rs(e,t,r,n),t[2*i+s]>a&&Rs(e,t,r,i);l<d;){for(Rs(e,t,l,d),l++,d--;t[2*l+s]<a;)l++;for(;t[2*d+s]>a;)d--}t[2*r+s]===a?Rs(e,t,r,d):(d++,Rs(e,t,d,i)),d<=n&&(r=d+1),n<=d&&(i=d-1)}}function Rs(e,t,n,r){xh(e,n,r),xh(t,2*n,2*r),xh(t,2*n+1,2*r+1)}function xh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nj(e,t,n,r,i,s,a){const l=[0,e.length-1,0],d=[];let y,_;for(;l.length;){const c=l.pop(),f=l.pop(),w=l.pop();if(f-w<=a){for(let b=w;b<=f;b++)y=t[2*b],_=t[2*b+1],y>=n&&y<=i&&_>=r&&_<=s&&d.push(e[b]);continue}const v=Math.floor((w+f)/2);y=t[2*v],_=t[2*v+1],y>=n&&y<=i&&_>=r&&_<=s&&d.push(e[v]);const p=(c+1)%2;(c===0?n<=y:r<=_)&&(l.push(w),l.push(v-1),l.push(p)),(c===0?i>=y:s>=_)&&(l.push(v+1),l.push(f),l.push(p))}return d}function rj(e,t,n,r,i,s){const a=[0,e.length-1,0],l=[],d=i*i;for(;a.length;){const y=a.pop(),_=a.pop(),c=a.pop();if(_-c<=s){for(let b=c;b<=_;b++)xb(t[2*b],t[2*b+1],n,r)<=d&&l.push(e[b]);continue}const f=Math.floor((c+_)/2),w=t[2*f],v=t[2*f+1];xb(w,v,n,r)<=d&&l.push(e[f]);const p=(y+1)%2;(y===0?n-i<=w:r-i<=v)&&(a.push(c),a.push(f-1),a.push(p)),(y===0?n+i>=w:r+i>=v)&&(a.push(f+1),a.push(_),a.push(p))}return l}function xb(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}const ij=e=>e[0],oj=e=>e[1];class kb{constructor(t,n=ij,r=oj,i=64,s=Float64Array){this.nodeSize=i,this.points=t;const a=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new a(t.length),d=this.coords=new s(t.length*2);for(let y=0;y<t.length;y++)l[y]=y,d[2*y]=n(t[y]),d[2*y+1]=r(t[y]);Wp(l,d,i,0,l.length-1,0)}range(t,n,r,i){return nj(this.ids,this.coords,t,n,r,i,this.nodeSize)}within(t,n,r){return rj(this.ids,this.coords,t,n,r,this.nodeSize)}}const sj={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},ac=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1));class aj{constructor(t){this.options=Ks(Object.create(sj),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:n,minZoom:r,maxZoom:i,nodeSize:s}=this.options;n&&console.time("total time");const a=`prepare ${t.length} points`;n&&console.time(a),this.points=t;let l=[];for(let d=0;d<t.length;d++)t[d].geometry&&l.push(uj(t[d],d));this.trees[i+1]=new kb(l,Pb,Ab,s,Float32Array),n&&console.timeEnd(a);for(let d=i;d>=r;d--){const y=+Date.now();l=this._cluster(l,d),this.trees[d]=new kb(l,Pb,Ab,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",d,l.length,+Date.now()-y)}return n&&console.timeEnd("total time"),this}getClusters(t,n){let r=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let s=t[2]===180?180:((t[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,s=180;else if(r>s){const _=this.getClusters([r,i,180,a],n),c=this.getClusters([-180,i,s,a],n);return _.concat(c)}const l=this.trees[this._limitZoom(n)],d=l.range(Gl(r),Yl(a),Gl(s),Yl(i)),y=[];for(const _ of d){const c=l.points[_];y.push(c.numPoints?Cb(c):this.points[c.index])}return y}getChildren(t){const n=this._getOriginId(t),r=this._getOriginZoom(t),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const a=s.points[n];if(!a)throw new Error(i);const l=this.options.radius/(this.options.extent*Math.pow(2,r-1)),d=s.within(a.x,a.y,l),y=[];for(const _ of d){const c=s.points[_];c.parentId===t&&y.push(c.numPoints?Cb(c):this.points[c.index])}if(y.length===0)throw new Error(i);return y}getLeaves(t,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,t,n,r,0),i}getTile(t,n,r){const i=this.trees[this._limitZoom(t)],s=Math.pow(2,t),{extent:a,radius:l}=this.options,d=l/a,y=(r-d)/s,_=(r+1+d)/s,c={features:[]};return this._addTileFeatures(i.range((n-d)/s,y,(n+1+d)/s,_),i.points,n,r,s,c),n===0&&this._addTileFeatures(i.range(1-d/s,y,1,_),i.points,s,r,s,c),n===s-1&&this._addTileFeatures(i.range(0,y,d/s,_),i.points,-1,r,s,c),c.features.length?c:null}getClusterExpansionZoom(t){let n=this._getOriginZoom(t)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(t);if(n++,r.length!==1)break;t=r[0].properties.cluster_id}return n}_appendLeaves(t,n,r,i,s){const a=this.getChildren(n);for(const l of a){const d=l.properties;if(d&&d.cluster?s+d.point_count<=i?s+=d.point_count:s=this._appendLeaves(t,d.cluster_id,r,i,s):s<i?s++:t.push(l),t.length===r)break}return s}_addTileFeatures(t,n,r,i,s,a){for(const l of t){const d=n[l],y=d.numPoints;let _,c,f;if(y)_=Ex(d),c=d.x,f=d.y;else{const p=this.points[d.index];_=p.properties,c=Gl(p.geometry.coordinates[0]),f=Yl(p.geometry.coordinates[1])}const w={type:1,geometry:[[Math.round(this.options.extent*(c*s-r)),Math.round(this.options.extent*(f*s-i))]],tags:_};let v;y?v=d.id:this.options.generateId?v=d.index:this.points[d.index].id&&(v=this.points[d.index].id),v!==void 0&&(w.id=v),a.features.push(w)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){const r=[],{radius:i,extent:s,reduce:a,minPoints:l}=this.options,d=i/(s*Math.pow(2,n));for(let y=0;y<t.length;y++){const _=t[y];if(_.zoom<=n)continue;_.zoom=n;const c=this.trees[n+1],f=c.within(_.x,_.y,d),w=_.numPoints||1;let v=w;for(const p of f){const b=c.points[p];b.zoom>n&&(v+=b.numPoints||1)}if(v>w&&v>=l){let p=_.x*w,b=_.y*w,g=a&&w>1?this._map(_,!0):null;const m=(y<<5)+(n+1)+this.points.length;for(const h of f){const T=c.points[h];if(T.zoom<=n)continue;T.zoom=n;const x=T.numPoints||1;p+=T.x*x,b+=T.y*x,T.parentId=m,a&&(g||(g=this._map(_,!0)),a(g,this._map(T)))}_.parentId=m,r.push(lj(p/v,b/v,m,v,g))}else if(r.push(_),v>1)for(const p of f){const b=c.points[p];b.zoom<=n||(b.zoom=n,r.push(b))}}return r}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n){if(t.numPoints)return n?Ks({},t.properties):t.properties;const r=this.points[t.index].properties,i=this.options.map(r);return n&&i===r?Ks({},i):i}}function lj(e,t,n,r,i){return{x:ac(e),y:ac(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function uj(e,t){const[n,r]=e.geometry.coordinates;return{x:ac(Gl(n)),y:ac(Yl(r)),zoom:1/0,index:t,parentId:-1}}function Cb(e){return{type:"Feature",id:e.id,properties:Ex(e),geometry:{type:"Point",coordinates:[cj(e.x),dj(e.y)]}}}function Ex(e){const t=e.numPoints,n=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?`${Math.round(t/100)/10}k`:t;return Ks(Ks({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function Gl(e){return e/360+.5}function Yl(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function cj(e){return(e-.5)*360}function dj(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Ks(e,t){for(const n in t)e[n]=t[n];return e}function Pb(e){return e.x}function Ab(e){return e.y}var ge={},lc={},fj={get exports(){return lc},set exports(e){lc=e}};(function(e,t){(function(n,r){var i="0.7.33",s="",a="?",l="function",d="undefined",y="object",_="string",c="major",f="model",w="name",v="type",p="vendor",b="version",g="architecture",m="console",h="mobile",T="tablet",x="smarttv",k="wearable",C="embedded",E=350,A="Amazon",P="Apple",N="ASUS",$="BlackBerry",F="Browser",j="Chrome",B="Edge",H="Firefox",U="Google",W="Huawei",Y="LG",G="Microsoft",J="Motorola",oe="Opera",ce="Samsung",fe="Sharp",de="Sony",ue="Xiaomi",be="Zebra",re="Facebook",M=function(xe,Ne){var Ae={};for(var Je in xe)Ne[Je]&&Ne[Je].length%2===0?Ae[Je]=Ne[Je].concat(xe[Je]):Ae[Je]=xe[Je];return Ae},z=function(xe){for(var Ne={},Ae=0;Ae<xe.length;Ae++)Ne[xe[Ae].toUpperCase()]=xe[Ae];return Ne},q=function(xe,Ne){return typeof xe===_?Z(Ne).indexOf(Z(xe))!==-1:!1},Z=function(xe){return xe.toLowerCase()},Q=function(xe){return typeof xe===_?xe.replace(/[^\d\.]/g,s).split(".")[0]:r},ne=function(xe,Ne){if(typeof xe===_)return xe=xe.replace(/^\s\s*/,s),typeof Ne===d?xe:xe.substring(0,E)},ve=function(xe,Ne){for(var Ae=0,Je,Le,wi,Ge,Ur,cn;Ae<Ne.length&&!Ur;){var Da=Ne[Ae],is=Ne[Ae+1];for(Je=Le=0;Je<Da.length&&!Ur;)if(Ur=Da[Je++].exec(xe),Ur)for(wi=0;wi<is.length;wi++)cn=Ur[++Le],Ge=is[wi],typeof Ge===y&&Ge.length>0?Ge.length===2?typeof Ge[1]==l?this[Ge[0]]=Ge[1].call(this,cn):this[Ge[0]]=Ge[1]:Ge.length===3?typeof Ge[1]===l&&!(Ge[1].exec&&Ge[1].test)?this[Ge[0]]=cn?Ge[1].call(this,cn,Ge[2]):r:this[Ge[0]]=cn?cn.replace(Ge[1],Ge[2]):r:Ge.length===4&&(this[Ge[0]]=cn?Ge[3].call(this,cn.replace(Ge[1],Ge[2])):r):this[Ge]=cn||r;Ae+=2}},se=function(xe,Ne){for(var Ae in Ne)if(typeof Ne[Ae]===y&&Ne[Ae].length>0){for(var Je=0;Je<Ne[Ae].length;Je++)if(q(Ne[Ae][Je],xe))return Ae===a?r:Ae}else if(q(Ne[Ae],xe))return Ae===a?r:Ae;return xe},$e={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ht={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,b],[/opios[\/ ]+([\w\.]+)/i],[b,[w,oe+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[w,oe]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[w,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[w,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[w,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[w,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[w,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+F],b],[/\bfocus\/([\w\.]+)/i],[b,[w,H+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[w,oe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[w,oe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[w,"MIUI "+F]],[/fxios\/([-\w\.]+)/i],[b,[w,H]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360 "+F]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1 "+F],b],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[w,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,re],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[w,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[w,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[w,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,j+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[w,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[b,se,$e]],[/(webkit|khtml)\/([\w\.]+)/i],[w,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[w,H+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[w,b],[/(cobalt)\/([\w\.]+)/i],[w,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,Z]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,s,Z]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,ce],[v,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,ce],[v,h]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[p,P],[v,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,P],[v,T]],[/(macintosh);/i],[f,[p,P]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,W],[v,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[p,W],[v,h]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[p,ue],[v,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,ue],[v,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[v,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[v,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[v,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,J],[v,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,J],[v,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,Y],[v,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,Y],[v,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[v,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[v,h]],[/(pixel c)\b/i],[f,[p,U],[v,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,U],[v,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,de],[v,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,de],[v,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[v,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,A],[v,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,A],[v,h]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[v,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,$],[v,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,N],[v,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,N],[v,h]],[/(nexus 9)/i],[f,[p,"HTC"],[v,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[v,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[v,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[v,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,fe],[v,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[v,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[v,T]],[/(surface duo)/i],[f,[p,G],[v,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[v,h]],[/(u304aa)/i],[f,[p,"AT&T"],[v,h]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[v,h]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[v,T]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[v,T]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[v,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[v,T]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[v,T]],[/\b(k88) b/i],[f,[p,"ZTE"],[v,T]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[v,h]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[v,h]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[v,T]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[v,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[v,T]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[v,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[v,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[v,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[v,h]],[/\b(ph-1) /i],[f,[p,"Essential"],[v,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[v,T]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[v,T]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[v,T]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[v,T]],[/(sprint) (\w+)/i],[p,f,[v,h]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,G],[v,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,be],[v,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,be],[v,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[v,m]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[v,m]],[/(playstation [345portablevi]+)/i],[f,[p,de],[v,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,G],[v,m]],[/smart-tv.+(samsung)/i],[p,[v,x]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,ce],[v,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Y],[v,x]],[/(apple) ?tv/i],[p,[f,P+" TV"],[v,x]],[/crkey/i],[[f,j+"cast"],[p,U],[v,x]],[/droid.+aft(\w)( bui|\))/i],[f,[p,A],[v,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[p,fe],[v,x]],[/(bravia[\w ]+)( bui|\))/i],[f,[p,de],[v,x]],[/(mitv-\w{5}) bui/i],[f,[p,ue],[v,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,ne],[f,ne],[v,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,x]],[/((pebble))app/i],[p,f,[v,k]],[/droid.+; (glass) \d/i],[f,[p,U],[v,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,be],[v,k]],[/(quest( 2)?)/i],[f,[p,re],[v,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[v,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[v,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[v,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,h]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[w,B+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[w,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[w,[b,se,ht]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,"Windows"],[b,se,ht]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,b],[/\(bb(10);/i],[b,[w,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[w,H+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[w,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[w,j+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[w,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,b],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[w,b]]},Ue=function(xe,Ne){if(typeof xe===y&&(Ne=xe,xe=r),!(this instanceof Ue))return new Ue(xe,Ne).getResult();var Ae=xe||(typeof n!==d&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:s),Je=Ne?M(xt,Ne):xt;return this.getBrowser=function(){var Le={};return Le[w]=r,Le[b]=r,ve.call(Le,Ae,Je.browser),Le.major=Q(Le.version),Le},this.getCPU=function(){var Le={};return Le[g]=r,ve.call(Le,Ae,Je.cpu),Le},this.getDevice=function(){var Le={};return Le[p]=r,Le[f]=r,Le[v]=r,ve.call(Le,Ae,Je.device),Le},this.getEngine=function(){var Le={};return Le[w]=r,Le[b]=r,ve.call(Le,Ae,Je.engine),Le},this.getOS=function(){var Le={};return Le[w]=r,Le[b]=r,ve.call(Le,Ae,Je.os),Le},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ae},this.setUA=function(Le){return Ae=typeof Le===_&&Le.length>E?ne(Le,E):Le,this},this.setUA(Ae),this};Ue.VERSION=i,Ue.BROWSER=z([w,b,c]),Ue.CPU=z([g]),Ue.DEVICE=z([f,p,v,m,h,x,T,k,C]),Ue.ENGINE=Ue.OS=z([w,b]),e.exports&&(t=e.exports=Ue),t.UAParser=Ue;var Be=typeof n!==d&&(n.jQuery||n.Zepto);if(Be&&!Be.ua){var Ve=new Ue;Be.ua=Ve.getResult(),Be.ua.get=function(){return Ve.getUA()},Be.ua.set=function(xe){Ve.setUA(xe);var Ne=Ve.getResult();for(var Ae in Ne)Be.ua[Ae]=Ne[Ae]}}})(typeof window=="object"?window:Qr)})(fj,lc);Object.defineProperty(ge,"__esModule",{value:!0});function hj(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Yt=te,Qe=hj(Yt),xx=lc,yi=new xx,Xt=yi.getBrowser(),pj=yi.getCPU(),Tn=yi.getDevice(),Ev=yi.getEngine(),_i=yi.getOS(),Oa=yi.getUA(),kx=function(t){return yi.setUA(t)},Ma=function(t){if(!t){console.error("No userAgent string was provided");return}var n=new xx(t);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},Cx=Object.freeze({ClientUAInstance:yi,browser:Xt,cpu:pj,device:Tn,engine:Ev,os:_i,ua:Oa,setUa:kx,parseUserAgent:Ma});function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(n),!0).forEach(function(r){yj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(t){return typeof t}:Xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function gj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vj(e,t,n){return t&&Ib(e.prototype,t),n&&Ib(e,n),e}function yj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qp(){return qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}function _j(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zp(e,t)}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(e)}function Zp(e,t){return Zp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Zp(e,t)}function wj(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Mn(e,t){if(e==null)return{};var n=wj(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bj(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kl(e)}function Tj(e,t){return Sj(e)||Ej(e,t)||xj(e,t)||kj()}function Sj(e){if(Array.isArray(e))return e}function Ej(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,l;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(d){s=!0,l=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function xj(e,t){if(e){if(typeof e=="string")return Rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},un={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},rs={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Cj={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Pj=function(t){switch(t){case Vt.Mobile:return{isMobile:!0};case Vt.Tablet:return{isTablet:!0};case Vt.SmartTv:return{isSmartTV:!0};case Vt.Console:return{isConsole:!0};case Vt.Wearable:return{isWearable:!0};case Vt.Browser:return{isBrowser:!0};case Vt.Embedded:return{isEmbedded:!0};default:return Cj}},Aj=function(t){return kx(t)},Ee=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return t||n},xv=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},kv=function(t){var n=xv();return n&&n.platform&&(n.platform.indexOf(t)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},Lj=function(t,n,r,i,s){return{isBrowser:t,browserMajorVersion:Ee(n.major),browserFullVersion:Ee(n.version),browserName:Ee(n.name),engineName:Ee(r.name),engineVersion:Ee(r.version),osName:Ee(i.name),osVersion:Ee(i.version),userAgent:Ee(s)}},Nb=function(t,n,r,i){return mj({},t,{vendor:Ee(n.vendor),model:Ee(n.model),os:Ee(r.name),osVersion:Ee(r.version),ua:Ee(i)})},Ij=function(t,n,r,i){return{isSmartTV:t,engineName:Ee(n.name),engineVersion:Ee(n.version),osName:Ee(r.name),osVersion:Ee(r.version),userAgent:Ee(i)}},Rj=function(t,n,r,i){return{isConsole:t,engineName:Ee(n.name),engineVersion:Ee(n.version),osName:Ee(r.name),osVersion:Ee(r.version),userAgent:Ee(i)}},Nj=function(t,n,r,i){return{isWearable:t,engineName:Ee(n.name),engineVersion:Ee(n.version),osName:Ee(r.name),osVersion:Ee(r.version),userAgent:Ee(i)}},Oj=function(t,n,r,i,s){return{isEmbedded:t,vendor:Ee(n.vendor),model:Ee(n.model),engineName:Ee(r.name),engineVersion:Ee(r.version),osName:Ee(i.name),osVersion:Ee(i.version),userAgent:Ee(s)}};function Mj(e){var t=e?Ma(e):Cx,n=t.device,r=t.browser,i=t.engine,s=t.os,a=t.ua,l=Pj(n.type),d=l.isBrowser,y=l.isMobile,_=l.isTablet,c=l.isSmartTV,f=l.isConsole,w=l.isWearable,v=l.isEmbedded;if(d)return Lj(d,r,i,s,a);if(c)return Ij(c,i,s,a);if(f)return Rj(f,i,s,a);if(y||_)return Nb(l,n,s,a);if(w)return Nj(w,i,s,a);if(v)return Oj(v,n,i,s,a)}var Px=function(t){var n=t.type;return n===Vt.Mobile},Ax=function(t){var n=t.type;return n===Vt.Tablet},Lx=function(t){var n=t.type;return n===Vt.Mobile||n===Vt.Tablet},Ix=function(t){var n=t.type;return n===Vt.SmartTv},uc=function(t){var n=t.type;return n===Vt.Browser},Rx=function(t){var n=t.type;return n===Vt.Wearable},Nx=function(t){var n=t.type;return n===Vt.Console},Ox=function(t){var n=t.type;return n===Vt.Embedded},Mx=function(t){var n=t.vendor;return Ee(n)},Dx=function(t){var n=t.model;return Ee(n)},$x=function(t){var n=t.type;return Ee(n,"browser")},Fx=function(t){var n=t.name;return n===rs.Android},zx=function(t){var n=t.name;return n===rs.Windows},jx=function(t){var n=t.name;return n===rs.MAC_OS},Ux=function(t){var n=t.name;return n===rs.WindowsPhone},Bx=function(t){var n=t.name;return n===rs.IOS},Hx=function(t){var n=t.version;return Ee(n)},Wx=function(t){var n=t.name;return Ee(n)},qx=function(t){var n=t.name;return n===un.Chrome},Vx=function(t){var n=t.name;return n===un.Firefox},Zx=function(t){var n=t.name;return n===un.Chromium},cc=function(t){var n=t.name;return n===un.Edge},Gx=function(t){var n=t.name;return n===un.Yandex},Yx=function(t){var n=t.name;return n===un.Safari||n===un.MobileSafari},Kx=function(t){var n=t.name;return n===un.MobileSafari},Xx=function(t){var n=t.name;return n===un.Opera},Qx=function(t){var n=t.name;return n===un.InternetExplorer||n===un.Ie},Jx=function(t){var n=t.name;return n===un.MIUI},ek=function(t){var n=t.name;return n===un.SamsungBrowser},tk=function(t){var n=t.version;return Ee(n)},nk=function(t){var n=t.major;return Ee(n)},rk=function(t){var n=t.name;return Ee(n)},ik=function(t){var n=t.name;return Ee(n)},ok=function(t){var n=t.version;return Ee(n)},sk=function(){var t=xv(),n=t&&t.userAgent&&t.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Mo=function(t){return typeof t=="string"&&t.indexOf("Edg/")!==-1},ak=function(){var t=xv();return t&&(/iPad|iPhone|iPod/.test(t.platform)||t.platform==="MacIntel"&&t.maxTouchPoints>1)&&!window.MSStream},sr=function(){return kv("iPad")},lk=function(){return kv("iPhone")},uk=function(){return kv("iPod")},ck=function(t){return Ee(t)};function dk(e){var t=e||Cx,n=t.device,r=t.browser,i=t.os,s=t.engine,a=t.ua;return{isSmartTV:Ix(n),isConsole:Nx(n),isWearable:Rx(n),isEmbedded:Ox(n),isMobileSafari:Kx(r)||sr(),isChromium:Zx(r),isMobile:Lx(n)||sr(),isMobileOnly:Px(n),isTablet:Ax(n)||sr(),isBrowser:uc(n),isDesktop:uc(n),isAndroid:Fx(i),isWinPhone:Ux(i),isIOS:Bx(i)||sr(),isChrome:qx(r),isFirefox:Vx(r),isSafari:Yx(r),isOpera:Xx(r),isIE:Qx(r),osVersion:Hx(i),osName:Wx(i),fullBrowserVersion:tk(r),browserVersion:nk(r),browserName:rk(r),mobileVendor:Mx(n),mobileModel:Dx(n),engineName:ik(s),engineVersion:ok(s),getUA:ck(a),isEdge:cc(r)||Mo(a),isYandex:Gx(r),deviceType:$x(n),isIOS13:ak(),isIPad13:sr(),isIPhone13:lk(),isIPod13:uk(),isElectron:sk(),isEdgeChromium:Mo(a),isLegacyEdge:cc(r)&&!Mo(a),isWindows:zx(i),isMacOs:jx(i),isMIUI:Jx(r),isSamsungBrowser:ek(r)}}var fk=Ix(Tn),hk=Nx(Tn),pk=Rx(Tn),Dj=Ox(Tn),$j=Kx(Xt)||sr(),Fj=Zx(Xt),md=Lx(Tn)||sr(),mk=Px(Tn),gk=Ax(Tn)||sr(),vk=uc(Tn),zj=uc(Tn),yk=Fx(_i),_k=Ux(_i),wk=Bx(_i)||sr(),jj=qx(Xt),Uj=Vx(Xt),Bj=Yx(Xt),Hj=Xx(Xt),bk=Qx(Xt),Wj=Hx(_i),qj=Wx(_i),Vj=tk(Xt),Zj=nk(Xt),Gj=rk(Xt),Yj=Mx(Tn),Kj=Dx(Tn),Xj=ik(Ev),Qj=ok(Ev),Jj=ck(Oa),e6=cc(Xt)||Mo(Oa),t6=Gx(Xt),n6=$x(Tn),r6=ak(),i6=sr(),o6=lk(),s6=uk(),a6=sk(),l6=Mo(Oa),u6=cc(Xt)&&!Mo(Oa),c6=zx(_i),d6=jx(_i),f6=Jx(Xt),h6=ek(Xt),p6=function(t){if(!t||typeof t!="string"){console.error("No valid user agent string was provided");return}var n=Ma(t),r=n.device,i=n.browser,s=n.os,a=n.engine,l=n.ua;return dk({device:r,browser:i,os:s,engine:a,ua:l})},m6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return yk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},g6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return vk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},v6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return bk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},y6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return wk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},_6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return md?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},w6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return gk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},b6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return _k?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},T6=function(t){var n=t.renderWithFragment,r=t.children;t.viewClassName,t.style;var i=Mn(t,["renderWithFragment","children","viewClassName","style"]);return mk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},S6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return fk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},E6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return hk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},x6=function(t){var n=t.renderWithFragment,r=t.children,i=Mn(t,["renderWithFragment","children"]);return pk?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",i,r):null},k6=function(t){var n=t.renderWithFragment,r=t.children;t.viewClassName,t.style;var i=t.condition,s=Mn(t,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Qe.createElement(Yt.Fragment,null,r):Qe.createElement("div",s,r):null};function C6(e){return function(t){_j(n,t);function n(r){var i;return gj(this,n),i=bj(this,Vp(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(Kl(i)),i.onOrientationChange=i.onOrientationChange.bind(Kl(i)),i.onPageLoad=i.onPageLoad.bind(Kl(i)),i.state={isLandscape:!1,isPortrait:!1},i}return vj(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Xs(window))!==void 0&&md&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Qe.createElement(e,qp({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Qe.Component)}function P6(){var e=Yt.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),t=Tj(e,2),n=t[0],r=t[1],i=Yt.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,a={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==a.orientation&&r(a)},[n.orientation]);return Yt.useEffect(function(){return(typeof window>"u"?"undefined":Xs(window))!==void 0&&md&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function Tk(e){var t=e||window.navigator.userAgent;return Ma(t)}function A6(e){var t=e||window.navigator.userAgent,n=Tk(t),r=dk(n);return[r,n]}ge.AndroidView=m6;ge.BrowserTypes=un;ge.BrowserView=g6;ge.ConsoleView=E6;ge.CustomView=k6;ge.IEView=v6;ge.IOSView=y6;ge.MobileOnlyView=T6;ge.MobileView=_6;ge.OsTypes=rs;ge.SmartTVView=S6;ge.TabletView=w6;ge.WearableView=x6;ge.WinPhoneView=b6;ge.browserName=Gj;ge.browserVersion=Zj;ge.deviceDetect=Mj;ge.deviceType=n6;ge.engineName=Xj;ge.engineVersion=Qj;ge.fullBrowserVersion=Vj;ge.getSelectorsByUserAgent=p6;ge.getUA=Jj;ge.isAndroid=yk;ge.isBrowser=vk;ge.isChrome=jj;ge.isChromium=Fj;ge.isConsole=hk;ge.isDesktop=zj;ge.isEdge=e6;ge.isEdgeChromium=l6;ge.isElectron=a6;ge.isEmbedded=Dj;ge.isFirefox=Uj;ge.isIE=bk;ge.isIOS=wk;ge.isIOS13=r6;ge.isIPad13=i6;ge.isIPhone13=o6;ge.isIPod13=s6;ge.isLegacyEdge=u6;ge.isMIUI=f6;ge.isMacOs=d6;ge.isMobile=md;var L6=ge.isMobileOnly=mk;ge.isMobileSafari=$j;ge.isOpera=Hj;ge.isSafari=Bj;ge.isSamsungBrowser=h6;ge.isSmartTV=fk;ge.isTablet=gk;ge.isWearable=pk;ge.isWinPhone=_k;ge.isWindows=c6;ge.isYandex=t6;ge.mobileModel=Kj;ge.mobileVendor=Yj;ge.osName=qj;ge.osVersion=Wj;ge.parseUserAgent=Ma;ge.setUserAgent=Aj;ge.useDeviceData=Tk;ge.useDeviceSelectors=A6;ge.useMobileOrientation=P6;ge.withOrientationChange=C6;function I6({sites:e,projectPoint:t}){function n(r){const{x:i,y:s}=t([r.latitude,r.longitude]);return O("div",{className:"leaflet-tooltip site-label leaflet-zoom-animated leaflet-tooltip-top",style:{opacity:1,transform:`translate3d(calc(${i}px - 50%), ${s-25}px, 0px)`},children:r.site})}return!e||!e.length?null:O("div",{className:"sites-layer",children:e.map(n)})}class Lr extends te.Component{render(){const{children:t,node:n}=this.props;return n?gL.createPortal(t,n):null}}function R6({svg:e,regions:t,projectPoint:n,styles:r}){function i(s){const a=[],l=s.points.map(n);return l.forEach((d,y)=>{if(y<s.points.length-1){const _=l[y+1];a.push({x1:d.x,y1:d.y,x2:_.x,y2:_.y})}}),a.map(d=>{const y=s.name in r?r[s.name]:r.default;return O("line",{id:`${s.name}_style`,markerStart:"none",...d,style:y})})}return!t||!t.length?null:O(Lr,{node:e,children:O("g",{id:"regions-layer",className:"narrative",children:t.map(i)})})}const N6=e=>{const t=new Date(e),n={year:"numeric",month:"2-digit",day:"2-digit"};return t.toLocaleDateString("en-US",n).replace(/\//g,"-")};function O6({description:e,closePopup:t}){return O(Lr,{node:document.body,children:ee("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFF",padding:"15px 30px",zIndex:1e3,borderRadius:"10px",border:"2px solid lightgray"},children:[ee("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px"},children:[O("p",{style:{color:"gray"},children:"Military unit name:"}),O("button",{onClick:t,className:"side-menu-burg light-bg",children:O("span",{})})]}),e.split("///").map((n,r)=>O("p",{children:n.trim()},r))]})})}function M6({getCategoryColor:e,categories:t,projectPoint:n,styleLocation:r,selected:i,narrative:s,onSelect:a,svg:l,locations:d,eventRadius:y,coloringSet:_,filterColors:c,features:f,currentMilitaryPositions:w,setCurrentMilitaryPositions:v}){const[p,b]=te.useState({open:!1,info:""});async function g(C,E){const A=C.shiftKey?i.concat(E.events):E.events,P=N6(A[0].datetime),N=await _g(P);v(N),a(A)}function m(C,E){b({open:!0,info:E.description})}function h(){return O(gn,{children:O("circle",{className:"event-hover",cx:"0",cy:"0",r:"10",stroke:In.primaryHighlight,fillOpacity:"0.0"})})}function T(C){const E=yg([C],_),A={stroke:In.darkBackground,strokeWidth:0,fillOpacity:s?1:vg(C.events.length)};return O(Sv,{radius:y,colorPercentMap:pg(c,E),styles:{...A},className:"location-event-marker"})}function x(C){if(!C.latitude||!C.longitude)return null;const{x:E,y:A}=n([C.latitude,C.longitude]);if(s){const{steps:F}=s,j=H=>F.map(U=>U.id).includes(H.id);if(C.events.filter(j).length<=0)return null}const P=r?r(C):null,N=()=>O(gn,{children:P[1]}),$=i.reduce((F,j)=>F||j.latitude===C.latitude&&j.longitude===C.longitude,!1);return O("svg",{children:ee("g",{className:`location-event ${s?"no-hover":""}`,transform:`translate(${E}, ${A})`,onClick:F=>g(F,C),children:[T(C),N?N():null,$?null:h()]})},zt(C))}function k(C){if(!C.latitude||!C.longitude)return null;const{x:E,y:A}=n([C.latitude,C.longitude]);return O("svg",{children:ee("g",{className:"location-event",transform:`translate(${E}, ${A})`,onClick:P=>m(P,C),children:[O("path",{d:"M 8 0 A 8 8 0 1 1 8 -1.959434878635765e-15 L 0 0  L 8 0 Z",fill:"black"}),O("circle",{className:"event-hover",cx:"0",cy:"0",r:10.10136847440446+2,stroke:In.primaryHighlight,fillOpacity:"0.0"})]})},zt(C))}return ee(te.Fragment,{children:[O(Lr,{node:l,children:ee("svg",{children:[O("g",{className:"event-locations",children:d.map(x)}),i.length>0&&w&&w.length>0&&O("g",{className:"event-locations",children:w.map(k)})]})}),p.open&&O(O6,{closePopup:()=>b({open:!1,info:""}),description:p.info})]})}const D6=()=>O("defs",{children:ee("radialGradient",{id:"clusterGradient",children:[O("stop",{offset:"10%",stopColor:"red"}),O("stop",{offset:"90%",stopColor:"transparent"})]})});function $6({cluster:e,size:t,projectPoint:n,totalPoints:r,styles:i,renderHover:s,onClick:a,getClusterChildren:l,coloringSet:d,filterColors:y}){const{cluster_id:_}=e.properties,c=l(_),f=yg(c,d),{coordinates:w}=e.geometry,[v,p]=w,{x:b,y:g}=n([p,v]),[m,h]=te.useState(!1);return!Ia(p)||!Ra(v)?null:O("svg",{children:ee("g",{className:"cluster-event",transform:`translate(${b}, ${g})`,onClick:T=>a({id:_,latitude:p,longitude:v}),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[O(Sv,{radius:t,colorPercentMap:pg(y,f),styles:{...i},className:"cluster-event-marker"}),m?s(e):null]})})}function F6({projectPoint:e,onSelect:t,getClusterChildren:n,coloringSet:r,isRadial:i,svg:s,clusters:a,filterColors:l,selected:d}){const y=ZS(a),_={fill:i?"url('#clusterGradient')":In.fallbackEventColor,stroke:In.darkBackground,strokeWidth:0};function c(f,w){return ee(gn,{children:[O("text",{textAnchor:"middle",y:"3px",style:{fontWeight:"bold",fill:"black",zIndex:1e4},children:f}),O("circle",{className:"event-hover",cx:"0",cy:"0",r:w+2,stroke:In.primaryHighlight,fillOpacity:"0.0"})]})}return O(Lr,{node:s,children:O("svg",{children:ee("g",{className:"cluster-locations",children:[i?O(D6,{}):null,a.map((f,w)=>{const v=f.properties.point_count,p=VS(v,y);return O($6,{onClick:t,getClusterChildren:n,coloringSet:r,cluster:f,filterColors:l,size:p,projectPoint:e,totalPoints:y,styles:{..._,fillOpacity:hD(v,y)},renderHover:()=>c(v,p)},w)})]})})})}class z6 extends te.Component{renderMarker(t){const{x:n,y:r}=this.props.projectPoint([t.latitude,t.longitude]),i=this.props.styles,s=t.radius?t.radius+5:24;return O("g",{className:"location-marker",transform:`translate(${n-s}, ${r})`,children:O("path",{className:"leaflet-interactive",stroke:i?i.stroke:In.primaryHighlight,strokeOpacity:"1",strokeWidth:i?i["stroke-width"]:2,strokeLinecap:"",strokeLinejoin:"round",strokeDasharray:i?i["stroke-dasharray"]:"2,2",fill:"none",d:`M0,0a${s},${s} 0 1,0 ${s*2},0 a${s},${s} 0 1,0 -${s*2},0 `})},zt(t))}render(){return O(Lr,{node:this.props.svg,children:this.props.selected.map(t=>this.renderMarker(t))})}}const j6={strokeOpacity:1,strokeWidth:0,strokeDasharray:"none",stroke:"none"};function U6({styles:e,onSelectNarrative:t,svg:n,narrative:r,narratives:i,projectPoint:s,features:a}){function l(b){const g=b&&b in e?b:"default";return e[g]}const d=i&&i.length!==0;function y(b){return b.latitude===""||b.longitude===""}function _(b,g,m){const h=Math.sqrt((g.x-b.x)*(g.x-b.x)+(g.y-b.y)*(g.y-b.y)),T=Math.atan2(g.y-b.y,g.x-b.x),x=Math.atan2(1,2),k=10,C=h<24?h/2:24,E={x:g.x-C*Math.cos(T),y:g.y-C*Math.sin(T)},A={x:E.x-k*Math.cos(-T-x),y:E.y+k*Math.sin(-T-x)},P={x:E.x-k*Math.cos(-T+x),y:E.y+k*Math.sin(-T+x)};return O("path",{className:"narrative-step-arrow",d:`
        M ${E.x} ${E.y}
        L ${A.x} ${A.y}
        L ${P.x} ${P.y} Z
      `,style:{...m,fillOpacity:m.strokeOpacity,fill:m.stroke}})}function c(b,g,m){const{stroke:h,strokeWidth:T,strokeDasharray:x,strokeOpacity:k}=m;return ee("g",{children:[O("line",{className:"narrative-step",x1:b.x,x2:g.x,y1:b.y,y2:g.y,markerStart:"none",onClick:C=>t(C),style:{strokeWidth:T,strokeDasharray:x,strokeOpacity:k,stroke:h}}),h!=="none"?_(b,g,m):""]})}function f(b,g,m){if(y(b)||y(g)||!b||!g)return null;const h=s([b.latitude,b.longitude]),T=s([g.latitude,g.longitude]);return c(h,T,{...j6,...m||{}})}function w(b){if(b===null||b.id!==r.id)return null;const g=[];for(let m=0;m<b.steps.length-1;m+=1){const h=b.steps[m],T=b.steps[m+1];g.push(f(h,T,l(b.id)))}return g}function v(b){if(b===null||b.id!==r.id)return null;const g=[];let m=null;if(d)for(let h=0;h<b.steps.length;h+=1){const T=b.steps[h];m&&g.push(f(m,T,b.withLines?{strokeWidth:"1px",stroke:T.colour}:{})),m=T}else for(let h=0;h<b.steps.length;h+=1){const T=b.steps[h],x=T.narratives.indexOf(b.id),k=T.narrative___stepStyles[x];k!=="None"&&(m&&g.push(f(m,T,e.stepStyles[k])),m=T)}return g}function p(b){const g=`narrative-${b.id.replace(/ /g,"_")}`,m=d||a.NARRATIVE_STEP_STYLES?v(b):w(b);return O("g",{id:g,className:"narrative",children:m})}return r===null?null:O(Lr,{node:n,children:O("g",{className:"narratives",children:i.map(p)})})}const B6=()=>O("svg",{children:ee("defs",{children:[O("marker",{id:"arrow",viewBox:"0 0 6 6",refX:"3",refY:"3",markerWidth:"6",markerHeight:"6",orient:"auto",children:O("path",{d:"M0,3v-3l6,3l-6,3z",style:{fill:"red"}})}),O("marker",{id:"arrow-off",viewBox:"0 0 6 6",refX:"3",refY:"3",markerWidth:"6",markerHeight:"6",orient:"auto",children:O("path",{d:"M0,3v-3l6,3l-6,3z",style:{fill:"black",fillOpacity:.2}})})]})}),H6="/assets/map-98397b77.png",W6="/assets/sat-6c360e9c.png",q6=({isUsingSatellite:e,toggleSatellite:t})=>{const n=e?"satellite-overlay-toggle-map":"satellite-overlay-toggle-sat",r=e?H6:W6,i=e?ze[tt].tiles.default:ze[tt].tiles.satellite;return O("div",{id:"satellite-overlay-toggle",className:"satellite-overlay-toggle",children:O("button",{className:`satellite-overlay-toggle-button ${n}`,style:{backgroundImage:`url(${r}`},name:"satellite-toggle",onClick:t,children:O("div",{className:"label",children:i})})})},V6=["streets","satellite"],Z6="your_token";let G6=class extends te.Component{constructor(){super(),this.projectPoint=this.projectPoint.bind(this),this.onClusterSelect=this.onClusterSelect.bind(this),this.loadClusterData=this.loadClusterData.bind(this),this.getClusterChildren=this.getClusterChildren.bind(this),this.svgRef=te.createRef(),this.map=null,this.superclusterIndex=null,this.tileLayer=null,this.state={mapTransformX:0,mapTransformY:0,indexLoaded:!1,clusters:[]},this.styleLocation=this.styleLocation.bind(this),this.circle=null,this.circleCenter=null}componentDidMount(){this.map===null&&(this.initializeMap(),this.initializeTileLayer()),window.dispatchEvent(new Event("resize"))}componentDidUpdate(t){t.ui.tile!==this.props.ui.tile&&this.map&&this.initializeTileLayer()}UNSAFE_componentWillReceiveProps(t){Lf(t.domain.locations,this.props.domain.locations)||this.loadClusterData(t.domain.locations);const{bounds:n}=t.app.map;if(!Lf(n,this.props.app.map.bounds)&&n!==null)this.map.fitBounds(n);else if(!Lf(t.app.selected,this.props.app.selected)){const r=t.app.selected.length>0?t.app.selected[0]:null;r!==null&&r.latitude&&r.longitude&&this.map.setView([r.latitude,r.longitude],this.map.getZoom(),{animate:!0,pan:{duration:.7}})}}getTileUrl(t){return V6.indexOf(this.props.ui.tiles)!==-1&&Gt.MAPBOX_TOKEN&&Gt.MAPBOX_TOKEN!==Z6?`http://a.tiles.mapbox.com/v4/mapbox.${t}/{z}/{x}/{y}@2x.png?access_token=${Gt.MAPBOX_TOKEN}`:`https://api.mapbox.com/styles/v1/${t}/tiles/256/{z}/{x}/{y}@2x?access_token=${Gt.MAPBOX_TOKEN}`}initializeTileLayer(){if(!this.map)return;const t=this.getTileUrl(this.props.ui.tile);this.tileLayer?this.tileLayer.setUrl(t):(this.tileLayer=L.tileLayer(t),this.tileLayer.addTo(this.map))}initializeMap(){const{map:t,cluster:n}=this.props.app,r=L.map(this.props.ui.dom.map).setView(t.anchor,t.startZoom).setMinZoom(t.minZoom).setMaxZoom(t.maxZoom).setMaxBounds(t.maxBounds);r.attributionControl.addAttribution(`<a href="http://mapbox.com/about/maps" class='mapbox-logo' target="_blank">Mapbox</a>© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>`),this.superclusterIndex=new aj(n),r.keyboard.disable(),r.zoomControl.remove(),r.on("click",i=>{if(this.circle&&(r.removeLayer(this.circle),r.removeLayer(this.circleCenter)),this.props.app.currentArtillery){const{range:s}=this.props.app.currentArtillery,a=Object.values(i.latlng);this.circle=L.circle(Object.values(a),{color:"red",fillColor:"transparent",radius:s||0}).addTo(r);const l=L.icon({iconUrl:"artillery.png",iconSize:[20,20]});this.circleCenter=L.marker(a,{icon:l}).addTo(r)}else this.circle=null,this.circleCenter=null}),r.on("moveend",()=>{this.alignLayers(),this.updateClusters()}),r.on("zoomend viewreset",()=>{this.map.dragging.enable(),this.map.doubleClickZoom.enable(),this.map.scrollWheelZoom.enable(),Do.flushSync(()=>{this.alignLayers(),this.updateClusters()})}),r.on("zoomstart",()=>{this.svgRef.current!==null&&this.svgRef.current.classList.add("hide")}),r.on("zoomend",()=>{this.svgRef.current!==null&&this.svgRef.current.classList.remove("hide")}),window.addEventListener("resize",()=>{this.alignLayers()}),this.map=r}getMapDetails(){const t=this.map.getBounds(),n=[t.getWest(),t.getSouth(),t.getEast(),t.getNorth()],r=this.map.getZoom();return[n,r]}updateClusters(){const[t,n]=this.getMapDetails();this.superclusterIndex&&this.state.indexLoaded&&this.setState({clusters:this.superclusterIndex.getClusters(t,n)})}loadClusterData(t){if(t&&t.length>0&&this.superclusterIndex){const n=t.reduce((r,i)=>{const{longitude:s,latitude:a}=i;if(Ia(a)&&Ra(s)){const d={type:"Feature",properties:{cluster:!1,id:i.label},geometry:{type:"Point",coordinates:[s,a]}};r.push(d)}return r},[]);this.superclusterIndex.load(n),this.setState({indexLoaded:!0},()=>{this.updateClusters()})}else this.setState({clusters:[]})}getClusterChildren(t){if(this.superclusterIndex)try{const n=this.superclusterIndex.getLeaves(t,1/0,0);return L0(n,this.props.domain.locations)}catch{return[]}return[]}getSelectedClusters(){const{selected:t}=this.props.app,n=t.map(r=>r.id);return this.state.clusters&&this.state.clusters.length>0?this.state.clusters.reduce((r,i)=>{if(i.properties.cluster){const s=this.getClusterChildren(i.properties.cluster_id);s&&s.length>0&&s.forEach(a=>{const l=r.findIndex(d=>d.id===i.id)>=0;n.includes(a.id)&&!l&&r.push(i)})}return r},[]):[]}alignLayers(){const t=document.querySelector(".leaflet-map-pane");if(t===null)return{transformX:0,transformY:0};const n=window.getComputedStyle(t).getPropertyValue("transform");this.setState({mapTransformX:+n.split(",")[4],mapTransformY:+n.split(",")[5].split(")")[0]})}projectPoint(t){const n=new L.LatLng(t[0],t[1]);return{x:this.map.latLngToLayerPoint(n).x+this.state.mapTransformX,y:this.map.latLngToLayerPoint(n).y+this.state.mapTransformY}}onClusterSelect({id:t,latitude:n,longitude:r}){const i=Math.max(this.superclusterIndex.getClusterExpansionZoom(parseInt(t)),this.superclusterIndex.options.minZoom),a=Math.max(i+2,this.props.app.cluster.maxZoom);this.map.dragging.disable(),this.map.doubleClickZoom.disable(),this.map.scrollWheelZoom.disable(),this.map.flyTo(new L.LatLng(n,r),a)}getClientDims(){const t=document.querySelector(`#${this.props.ui.dom.map}`).getBoundingClientRect();return{width:t.width,height:t.height}}renderTiles(){const t=this.map.getPanes().overlayPane,{width:n,height:r}=this.getClientDims();return this.map?O(Lr,{node:t,children:O("svg",{ref:this.svgRef,width:n,height:r,style:{transform:`translate3d(${-this.state.mapTransformX}px, ${-this.state.mapTransformY}px, 0)`},className:"leaflet-svg"})}):null}renderSites(){return O(I6,{sites:this.props.domain.sites,projectPoint:this.projectPoint,isEnabled:this.props.app.views.sites})}renderRegions(){return O(R6,{svg:this.svgRef.current,regions:this.props.domain.regions,projectPoint:this.projectPoint,styles:this.props.ui.regions})}renderNarratives(){const t=this.props.domain.narratives.length>0;return O(U6,{svg:this.svgRef.current,narratives:t?this.props.domain.narratives:[this.props.app.narrative],projectPoint:this.projectPoint,narrative:this.props.app.narrative,styles:this.props.ui.narratives,onSelectNarrative:this.props.methods.onSelectNarrative,features:this.props.features})}styleLocation(t){return[null,null]}styleCluster(t){return[null,null]}renderEvents(){const t=this.state.clusters.filter(r=>!r.properties.cluster),n=L0(t,this.props.domain.locations,this.props.app.selected);return O(M6,{svg:this.svgRef.current,events:this.props.domain.events,locations:n,styleLocation:this.styleLocation,categories:this.props.domain.categories,projectPoint:this.projectPoint,selected:this.props.app.selected,narrative:this.props.app.narrative,onSelect:this.props.methods.onSelect,getCategoryColor:this.props.methods.getCategoryColor,eventRadius:this.props.ui.eventRadius,coloringSet:this.props.app.coloringSet,filterColors:this.props.ui.filterColors,features:this.props.features,currentMilitaryPositions:this.props.app.currentMilitaryPositions,setCurrentMilitaryPositions:r=>this.props.actions.updateCurrentMilitaryPositions(r)})}renderClusters(){const t=this.props.app.selected.length>0?[]:this.state.clusters.filter(n=>n.properties.cluster);return O(F6,{svg:this.svgRef.current,styleCluster:this.styleCluster,projectPoint:this.projectPoint,clusters:t,isRadial:this.props.ui.radial,onSelect:this.onClusterSelect,coloringSet:this.props.app.coloringSet,getClusterChildren:this.getClusterChildren,filterColors:this.props.ui.filterColors})}renderSelected(){const t=this.getSelectedClusters(),n=[];this.props.app.selected.forEach(i=>{const{latitude:s,longitude:a}=i;n.push({latitude:s,longitude:a,radius:this.props.ui.eventRadius})});const r=ZS(this.state.clusters);return t.forEach(i=>{if(i.properties.cluster){const{coordinates:s}=i.geometry;n.push({latitude:String(s[1]),longitude:String(s[0]),radius:VS(i.properties.point_count,r)})}}),O(z6,{svg:this.svgRef.current,selected:n,projectPoint:this.projectPoint,styles:this.props.ui.mapSelectedEvents})}renderMarkers(){return O(Lr,{node:this.svgRef.current,children:O(B6,{})})}renderCurrentArtillery(){const t=()=>{this.props.actions.updateCurrentArtillery(null),this.circle&&this.map.removeLayer(this.circle)};return O(Lr,{node:document.getElementById("timeline-wrapper"),children:ee("div",{className:"current-artillery-presentation",children:[ee("p",{children:["Showing   ",ee("span",{children:[this.props.app.currentArtillery.title," "]}),"  artillery of  ",O("span",{children:YS(this.props.app.currentArtillery.range)}),"  range"]}),O("button",{onClick:t,children:"X"})]})})}render(){const{isShowingSites:t,isFetchingDomain:n}=this.props.app.flags,r=L6||window.innerWidth<600,i=(this.props.app.narrative?"map-wrapper narrative-mode":"map-wrapper")+(r?" mobile":""),s=this.map?ee(gn,{children:[this.renderTiles(),this.renderMarkers(),t?this.renderSites():null,this.renderRegions(),this.renderNarratives(),this.renderEvents(),this.renderClusters(),this.renderSelected(),this.props.app.currentArtillery?this.renderCurrentArtillery():null]}):null;return ee("div",{className:i,onKeyDown:this.props.onKeyDown,tabIndex:"0",children:[O("div",{id:this.props.ui.dom.map}),O(bx,{isLoading:this.props.app.loading||n,ui:n,language:this.props.app.language}),this.props.features.USE_SATELLITE_OVERLAY_TOGGLE&&O(q6,{isUsingSatellite:this.props.ui.isUsingSatellite,toggleSatellite:this.props.actions.toggleTileOverlay}),s]})}};function Y6(e){return{domain:{locations:x$(e),narratives:tv(e),categories:aE(e),sites:_$(e),regions:w$(e)},app:{views:e.app.associations.views,currentArtillery:e.app.currentArtillery,currentMilitaryPositions:e.app.currentMilitaryPositions,selected:nv(e),highlighted:e.app.highlighted,map:e.app.map,cluster:e.app.cluster,language:e.app.language,loading:e.app.loading,narrative:e.app.associations.narrative,coloringSet:e.app.associations.coloringSet,flags:{isShowingSites:e.app.flags.isShowingSites,isFetchingDomain:e.app.flags.isFetchingDomain}},ui:{tile:v$(e),isUsingSatellite:y$(e),dom:e.ui.dom,narratives:e.ui.style.narratives,mapSelectedEvents:e.ui.style.selectedEvents,regions:e.ui.style.regions,eventRadius:e.ui.eventRadius,radial:e.ui.style.clusters.radial,filterColors:e.ui.coloring.colors},features:fr(e)}}function K6(e){return{actions:es(od,e)}}const X6=gi(Y6,K6)(G6),Q6=e=>{switch(e.kind){default:return O(X6,{...e})}},J6=({query:e,eventObj:t,onSearchRowClick:n})=>{const{description:r,location:i,date:s}=t;function a(d,y){const _=d.split(new RegExp(`(${y})`,"gi"));return O("span",{children:_.map(c=>c.toLowerCase()===y.toLowerCase()?O("span",{style:{backgroundColor:"yellow",color:"black"},children:c}):c)})}function l(d,y){const _=new RegExp(`(([^ ]* ){0,6}[a-zA-Z]*${y.toLowerCase()}[a-zA-Z]*( [^ ]*){0,5})`,"gm"),c=d.toLowerCase().match(_);for(let w=0;w<(c?c.length:0);w++)c[w]="..."+c[w];const f=[d.match("(([^ ]* ){0,10})","m")[0]];return c||f}return ee("div",{className:"search-row",onClick:()=>n([t]),children:[ee("div",{className:"location-date-container",children:[ee("div",{className:"date-container",children:[O("i",{className:"material-icons",children:"event"}),O("p",{children:a(s,e)})]}),ee("div",{className:"location-container",children:[O("i",{className:"material-icons",children:"location_on"}),O("p",{children:a(i,e)})]})]}),O("p",{children:l(r,e).map(d=>ee("span",{children:[a(d,e),"...",O("br",{})]}))})]})};class eU extends te.Component{constructor(t){super(t),this.state={isFolded:!0},this.onButtonClick=this.onButtonClick.bind(this),this.updateSearchQuery=this.updateSearchQuery.bind(this)}onButtonClick(){this.setState(t=>({isFolded:!t.isFolded}))}updateSearchQuery(t){const n=t.target.value;this.props.actions.updateSearchQuery(n)}render(){let t;const n=["description","location","category","date"];return this.props.queryString?t=this.props.events.filter(r=>n.some(i=>r[i].toLowerCase().includes(this.props.queryString.toLowerCase()))):t=[],ee("div",{className:"search-outer-container"+(this.props.narrative?" narrative-mode ":""),children:[O("div",{id:"search-bar-icon-container",onClick:this.onButtonClick,children:O("i",{className:"material-icons",children:"search"})}),ee("div",{className:"search-bar-overlay"+(this.state.isFolded?" folded":""),children:[ee("div",{className:"search-input-container",children:[O("input",{className:"search-bar-input",onChange:this.updateSearchQuery,type:"text"}),O("i",{id:"close-search-overlay",className:"material-icons",onClick:this.onButtonClick,children:"close"})]}),O("div",{className:"search-results",children:t.map(r=>O(J6,{onSearchRowClick:this.props.onSearchRowClick,eventObj:r,query:this.props.queryString}))})]})]})}}function tU(e){return{actions:es(od,e)}}const nU=gi(e=>e,tU)(eU),Ob=({title:e,value:t,hoverValue:n=null})=>{const[r,i]=te.useState(!1);return ee("div",{className:"card-cell",children:[e?O("h4",{children:e}):null,O("div",{className:"card-cell__text",style:{width:"fit-content"},children:O("div",{onMouseOver:()=>n&&i(!0),onMouseOut:()=>n&&i(!1),children:r?O("span",{style:{pointerEvents:"none",opacity:.8},children:O("em",{children:n})}):O("div",{style:{pointerEvents:"none",display:"inline-block",height:"1.1rem",borderBottom:n&&"1px rgb(235, 68, 62) dashed"},children:t})})})]})},rU=({title:e="Timestamp",timelabel:t,language:n,precision:r})=>{const i=ze[n].cardstack.unknown_time;return sD(t)?ee("div",{className:"card-cell",children:[O("h4",{children:e}),t,r&&r!==""?` - ${r}`:null]}):ee("div",{className:"card-cell",children:[O("h4",{children:e}),i]})},Cv=({primary:e,backgroundColor:t,borderRadius:n,size:r,label:i,normalCursor:s,...a})=>{const l=e?"button--primary":"button--secondary";return O("button",{type:"button",className:["button",`button--${r}`,l,s?"no-hover":""].join(" "),style:{backgroundColor:t,borderRadius:n},...a,children:i})};Cv.propTypes={primary:Tr.bool,backgroundColor:Tr.string,borderRadius:Tr.string,size:Tr.oneOf(["small","medium","large"]),label:Tr.string.isRequired,onClick:Tr.func};Cv.defaultProps={backgroundColor:"red",borderRadius:"0%",primary:!1,size:"medium",onClick:void 0};const iU=({text:e,color:t="#000",onClick:n=()=>{},normalCursor:r})=>O(Cv,{size:"small",backgroundColor:t,borderRadius:"12px",primary:!1,label:e,onClick:n,normalCursor:r}),oU=({isOpen:e,toggle:t})=>O("div",{className:"card-toggle",onClick:t,children:O("p",{children:O("i",{className:e?"arrow-down":"arrow-down folded"})})}),sU=({title:e,value:t})=>ee("div",{className:"card-cell",children:[e?O("h4",{children:e}):null,O("div",{dangerouslySetInnerHTML:{__html:_e(`${t}`)}})]});var Gp={},aU={get exports(){return Gp},set exports(e){Gp=e}};/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */(function(e){(function(t,n){e.exports?e.exports=n():this[t]=n()})("$script",function(){var t=document,n=t.getElementsByTagName("head")[0],r=!1,i="push",s="readyState",a="onreadystatechange",l={},d={},y={},_,c;function f(b,g){for(var m=0,h=b.length;m<h;++m)if(!g(b[m]))return r;return 1}function w(b,g){f(b,function(m){return g(m),1})}function v(b,g,m){b=b[i]?b:[b];var h=g&&g.call,T=h?g:m,x=h?b.join(""):g,k=b.length;function C(A){return A.call?A():l[A]}function E(){if(!--k){l[x]=1,T&&T();for(var A in d)f(A.split("|"),C)&&!w(d[A],C)&&(d[A]=[])}}return setTimeout(function(){w(b,function A(P,N){if(P===null)return E();if(!N&&!/^https?:\/\//.test(P)&&_&&(P=P.indexOf(".js")===-1?_+P+".js":_+P),y[P])return y[P]==2?E():setTimeout(function(){A(P,!0)},0);y[P]=1,p(P,E)})},0),v}function p(b,g){var m=t.createElement("script"),h;m.onload=m.onerror=m[a]=function(){m[s]&&!/^c|loade/.test(m[s])||h||(m.onload=m[a]=null,h=1,y[b]=2,g())},m.async=1,m.src=c?b+(b.indexOf("?")===-1?"?":"&")+c:b,n.insertBefore(m,n.lastChild)}return v.get=p,v.order=function(b,g,m){(function h(T){T=b.shift(),b.length?v(T,h):v(T,g,m)})()},v.path=function(b){_=b},v.urlArgs=function(b){c=b},v.ready=function(b,g,m){b=b[i]?b:[b];var h=[];return!w(b,function(T){l[T]||h[i](T)})&&f(b,function(T){return l[T]})?g():function(T){d[T]=d[T]||[],d[T][i](g),m&&m(h)}(b.join("|")),v},v.done=function(b){v([null],b)},v})})(aU);const lU=Gp;var kh="createTweet",uU="https://platform.twitter.com/widgets.js";const cU=e=>{var t=wt.useRef(null),n=wt.useState(!0),r=n[0],i=n[1];return wt.useEffect(function(){var s=!0;return lU(uU,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(s){if(!window.twttr.widgets[kh]){console.error("Method "+kh+" is not present anymore in twttr.widget api");return}window.twttr.widgets[kh](e.tweetId,t==null?void 0:t.current,e.options).then(function(a){i(!1),e.onLoad&&e.onLoad(a)})}}),function(){s=!1}},[]),wt.createElement(wt.Fragment,null,r&&wt.createElement(wt.Fragment,null,e.placeholder),wt.createElement("div",{ref:t}))},dU={width:"100%",frameBorder:"0",scrolling:"no",border:"none",overflow:"hidden"},fU={};class hU extends te.Component{constructor(t){super(t),this.state={src:this.props.src,id:"",height:"80px"},this.messageHandler=this.messageHandler.bind(this),this.urlObj=document.createElement("a")}componentDidMount(){window.addEventListener("message",this.messageHandler),this.iFrame.addEventListener("load",()=>{this.checkFrame(this.state.id)})}componentWillUnmount(){window.removeEventListener("message",this.messageHandler)}messageHandler({data:t,source:n}){if(!t||typeof t!="string"||n!==this.iFrame.contentWindow)return;const r=JSON.parse(t);r.event==="resize"&&r.height&&this.setState({height:r.height+"px"})}checkFrame(t){this.iFrame.contentWindow.postMessage(JSON.stringify({event:"visible",frame:t}),"*")}UNSAFE_componentWillReceiveProps({src:t}){if(this.state.src!==t){this.urlObj.href=t;const n=`telegram-post${this.urlObj.pathname.replace(/[^a-z0-9_]/gi,"-")}`;this.setState({src:t,id:n},()=>this.checkFrame(n))}}render(){const{src:t,height:n}=this.state,{container:r}=this.props,i=new URL(t);return i.searchParams.append("embed","1"),O("div",{"data-sharing-id":r,style:fU,children:O("iframe",{title:t,ref:s=>this.iFrame=s,src:i.toString(),height:n,id:"telegram-post"+this.urlObj.pathname.replace(/[^a-z0-9_]/gi,"-"),style:dU})})}}const Mb=50,pU=({cardIdx:e,src:t,title:n,graphic:r})=>{const i=_=>{if(!r)return _;const c=`graphic${e}`,f=`overlay-${c}`;return ee("div",{children:[O("div",{className:`card-cell media source-graphic ${f}`,children:ee("h4",{onClick:()=>{Array.from(document.querySelectorAll("."+c)).map(w=>w.style.display="block"),Array.from(document.querySelectorAll("."+f)).map(w=>w.style.display="none")},children:["Graphic content",O("br",{}),"Click here to show"]})}),O("span",{className:c,style:{display:"none"},children:_})]})},s=te.useRef(),a=te.useCallback(()=>{var _;return(_=s.current)==null?void 0:_.play()},[]),l=te.useCallback(()=>{var _;return(_=s.current)==null?void 0:_.pause()},[]),d=qS(t),y=n&&n.length>Mb?`${n.slice(0,Mb+1)}...`:n;switch(d){case"Video":return i(ee("div",{className:"card-cell media",children:[n&&O("h4",{title:n,children:y}),O("video",{onMouseEnter:a,onMouseLeave:l,ref:s,disablePictureInPicture:!0,children:O("source",{src:t})})]}));case"Image":return i(ee("div",{className:"card-cell media",children:[n&&O("h4",{title:n,children:y}),O("div",{className:"img-wrapper",children:O("img",{src:t,alt:"an inline photograph for the event card component"})})]}));case"Telegram":if(t.includes("https://t.me/c/"))return ee("div",{children:["Private ",O("a",{href:t,children:"telegram post"})]});try{return i(O("div",{className:"card-cell media embedded",children:O(hU,{src:t})}))}catch{return ee("div",{children:["Unable to display ",O("a",{href:t,children:"telegram post"})]})}case"Tweet":const c=/https?:\/\/(mobile\.){0,1}twitter.com\/[0-9a-zA-Z_]{1,20}\/status\/([0-9]*)/.exec(t);if(!c||c.length<2)return null;const f=c[c.length-1];try{return i(O("div",{className:"card-cell media embedded",children:O(cU,{tweetId:f,options:{conversation:"none"}})}))}catch{return ee("div",{children:["Unable to display ",O("a",{href:t,children:"tweet"})]})}default:return t==="HIDDEN"?O("div",{className:"card-cell media source-hidden",children:ee("h4",{children:["Source hidden",O("br",{}),"Privacy concerns"]})}):O("div",{children:O("a",{href:t,children:"other source"})})}},mU={basic:({event:e})=>[[{kind:"date",title:"Reported Incident Date",value:e.datetime||e.date||""},{kind:"text",title:"Location",value:e.location||"—"},{kind:"text",title:"id",value:e.civId||"—"}],[{kind:"line-break",times:.4}],[{kind:"text",title:"Summary",value:e.description||"",scaleFont:1.1}]],sourced:({event:e})=>[[{kind:"date",title:"Reported Incident Date",value:e.datetime||e.date||""},{kind:"text",title:"Location",value:e.location||"—"},{kind:"text",title:"id",value:e.civId||"—"}],[{kind:"text",title:"Summary",value:e.description||"",scaleFont:1.1}],[{kind:"sources",values:e.sources.flatMap(t=>[t.paths.map(n=>({kind:"media",title:"Media",value:[{src:n,title:null,graphic:e.graphic==="TRUE"}]}))])}]]},gU=({content:e=[],isLoading:t=!0,cardIdx:n=-1,onSelect:r=()=>{},sources:i=[],isSelected:s=!1,language:a="en-US"})=>{const[l,d]=te.useState(!1),y=()=>d(!l),_=p=>O(rU,{language:a,timelabel:Dp(p.value),...p}),c=()=>i.length===0&&O(oU,{toggle:()=>y(),isOpen:l}),f=({media:p,idx:b,cardIdx:g})=>O(pU,{cardIdx:g,src:p.src,title:p.title,graphic:p.graphic},b);function w(p,b){switch(p.kind){case"media":return O("div",{className:"card-cell",children:p.value.map((m,h)=>f({media:m,idx:h,cardIdx:b}))});case"line":return O("div",{style:{height:"1rem",width:"100%"},children:O("hr",{})});case"line-break":return O("div",{style:{height:`${p.times||1}rem`,width:"100%"}});case"item":return null;case"markdown":return O(sU,{...p});case"tag":return O("div",{className:"card-cell m0",style:{textTransform:"uppercase",fontSize:".8em",lineHeight:".8em"},children:O("div",{style:{display:"flex",justifyContent:`flex-${p.align||"start"}`},children:p.value})});case"button":return ee("div",{className:"card-cell",children:[p.title&&O("h4",{children:p.title}),p.value.map((m,h)=>O(iU,{...m},`card-button-${h}`))]});case"text":return!R0(p.value)&&O(Ob,{...p});case"date":return _(p);case"links":return ee("div",{className:"card-cell",children:[p.title&&O("h4",{children:p.title}),O("div",{className:"card-row m0",children:p.value.map(({text:m,href:h},T)=>O("a",{href:h,children:m},`card-links-url-${T}`))})]});case"list":return!!p.value.length&&!!p.value.filter(m=>!R0(m)).length?ee("div",{children:[p.title&&O("h4",{children:p.title}),O("div",{className:"card-row m0",children:p.value.map((m,h)=>O(Ob,{value:m,...m},`card-list-text-${h}`))})]}):null;default:return null}}function v(p,b,g){return O("div",{className:"card-row",children:p.map(m=>O("span",{children:w(m,b)},zt({...m,row:p})))},zt({...p,salt:g}))}return i=[],ee("li",{className:`event-card ${s?"selected":""}`,onClick:r,children:[e.map((p,b)=>p[0].kind==="sources"&&p[0].values.length>0?O("div",{children:ee("details",{open:!0,children:[ee("summary",{children:[O("span",{className:"summary-line"}),ee("span",{className:"summary-text",children:[O("span",{className:"summary-show",children:"Show"})," ",O("span",{className:"summary-hide",children:"Hide"})," sources (",p[0].values.length,")"]}),O("span",{className:"summary-line"})]}),p[0].values.map(g=>v(g,n,p[0]))]})},b):v(p,n)),i.length>0?c():null]},zt(e))};class vU extends te.Component{constructor(){super(),this.refs={},this.refCardStack=te.createRef(),this.refCardStackContent=te.createRef()}componentDidUpdate(){!!this.props.narrative&&this.scrollToCard()}scrollToCard(){const n=this.refCardStack.current,r=this.refs[this.props.narrative.current].current.offsetTop,i=n.scrollTop,s=r-i;let a=0;const l=20;Math.easeInOutQuad=function(y,_,c,f){return y/=f/2,y<1?c/2*y*y+_:(y-=1,-c/2*(y*(y-2)-1)+_)};const d=function(){a+=l;const y=Math.easeInOutQuad(a,i,s,500);n.scrollTop=y,a<500&&setTimeout(d,l)};d()}renderCards(t,n){n||(n=t.map(i=>!0)),this.refs=[];const r=mU[this.props.cardUI.layout.template];return t.map((i,s)=>{const a=te.createRef();this.refs[s]=a;const l=r({event:i,colors:this.props.colors,coloringSet:this.props.coloringSet,getFilterIdxFromColorSet:GS});return O(gU,{cardIdx:s,content:l,language:this.props.language,isLoading:this.props.isLoading,isSelected:n[s]},s)})}renderSelectedCards(){const{selected:t}=this.props;return t.length>0?this.renderCards(t):null}renderNarrativeCards(){const{narrative:t}=this.props,n=t.steps,r=n.map((i,s)=>s===t.current);return this.renderCards(n,r)}renderCardStackHeader(){const t=ze[this.props.language].cardstack.header;return ee("div",{id:"card-stack-header",className:"card-stack-header",onClick:()=>this.props.onToggleCardstack(),children:[O("button",{className:"side-menu-burg is-active",children:O("span",{})}),O("p",{className:"header-copy top",children:`${this.props.selected.length} ${t}`})]})}renderCardStackContent(){return O("div",{id:"card-stack-content",className:"card-stack-content scrollbar-black",children:O("ul",{children:this.renderSelectedCards()})})}renderNarrativeContent(){return O("div",{id:"card-stack-content",className:"card-stack-content",ref:this.refCardStackContent,children:O("ul",{children:this.renderNarrativeCards()})})}render(){const{isCardstack:t,selected:n,narrative:r}=this.props;return n.length>0?r?O("div",{id:"card-stack",ref:this.refCardStack,className:`card-stack narrative-mode
            ${t?"":" folded"}`,children:this.renderNarrativeContent()}):ee("div",{id:"card-stack",className:`card-stack ${t?"":" folded"}`,children:[this.renderCardStackHeader(),this.renderCardStackContent()]}):O("div",{})}}function yU(e){return{narrative:pE(e),selected:nv(e),sourceError:e.app.errors.source,language:e.app.language,isCardstack:e.app.flags.isCardstack,isLoading:e.app.flags.isFetchingSources,cardUI:e.ui.card,colors:e.ui.coloring.colors,coloringSet:e.app.associations.coloringSet,features:e.features}}const _U=gi(yU)(vU);function wU({narrative:e}){const{steps:t,current:n}=e;return t[n]?ee("div",{className:"narrative-info",children:[ee("div",{className:"narrative-info-header",children:[O("div",{className:"count-container",children:ee("div",{className:"count",children:[n+1,"/",t.length]})}),O("div",{children:O("h3",{children:e.label})})]}),O("div",{className:"narrative-info-desc",children:O("p",{children:e.description})})]}):null}function bU(e){return{narrative:pE(e)}}const TU=gi(bU)(wU),Db=({isDisabled:e,direction:t,onClickHandler:n})=>O("div",{className:`narrative-adjust ${t}`,onClick:e?null:n,children:O("i",{className:`material-icons ${e?"disabled":""}`,children:`chevron_${t}`})}),SU=({onClickHandler:e,closeMsg:t})=>ee("div",{className:"narrative-close",onClick:e,children:[O("button",{className:"side-menu-burg is-active",children:O("span",{})}),O("div",{className:"close-text",children:t})]}),EU=({narrative:e,methods:t})=>{if(!e)return null;const{current:n,steps:r}=e,i=n!==0,s=n<r.length-1;return ee(gn,{children:[O(TU,{narrative:e}),O(Db,{isDisabled:!i,direction:"left",onClickHandler:t.onPrev}),O(Db,{isDisabled:!s,direction:"right",onClickHandler:t.onNext}),O(SU,{onClickHandler:()=>t.onSelectNarrative(null),closeMsg:"-- exit from narrative --"})]})};class xU extends te.Component{constructor(t){super(t),this.handleViewSource=this.handleViewSource.bind(this),this.handleHighlight=this.handleHighlight.bind(this),this.setNarrative=this.setNarrative.bind(this),this.setNarrativeFromFilters=this.setNarrativeFromFilters.bind(this),this.handleSelect=this.handleSelect.bind(this),this.getCategoryColor=this.getCategoryColor.bind(this),this.findEventIdx=this.findEventIdx.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.selectNarrativeStep=this.selectNarrativeStep.bind(this)}componentDidMount(){this.props.actions.fetchDomain().then(t=>{this.props.actions.updateDomain({domain:t,features:this.props.features}),this.props.actions.rehydrateState()}),window.dispatchEvent(new Event("resize"))}handleHighlight(t){this.props.actions.updateHighlighted(t||null)}handleViewSource(t){this.props.actions.updateSource(t)}findEventIdx(t){const{events:n}=this.props.domain;return gD(n,t,(r,i)=>r.datetime-i.datetime)}handleMilitarySelect(t){}handleSelect(t,n){if(t.length<=0){this.props.actions.updateSelected([]);return}const r=[];if(n===0){r.push(t);const{events:s}=this.props.domain,a=this.findEventIdx(t);s[a].id!==t.id&&r.push(s[a]);let l=a-1;for(;l>=0&&s[a].datetime.getTime()===s[l].datetime.getTime();)s[l].id!==t.id&&r.push(s[l]),l-=1;for(l=a+1;l<s.length&&s[a].datetime.getTime()===s[l].datetime.getTime();)s[l].id!==t.id&&r.push(s[l]),l+=1}else{const s={...t};delete s.sources,Object.values(s).forEach(a=>r.push(a))}this.props.actions.updateSelected(r)}getCategoryColor(t){if(!this.props.features.USE_CATEGORIES)return In.fallbackEventColor;const n=this.props.ui.style.categories[t];return n||this.props.ui.style.categories.default}setNarrative(t){t&&t.steps.length>=1&&this.handleSelect([t.steps[0]]),this.props.actions.updateNarrative(t)}setNarrativeFromFilters(t){const{app:n,domain:r}=this.props;let i=n.associations.filters;if(i.length===0){alert("No filters selected, cant narrativise");return}i=i.map(d=>({name:d}));const s=r.events.filter(d=>{let y=!1;for(let _=0;_<i.length;_++)if(d.associations.includes(i[_].name)){y=!0;break}return!!y});if(s.length===0){alert("No associated events, cant narrativise");return}const a=i.map(d=>d.name).join("-"),l=i.map(d=>d.description).join(`

`);this.setNarrative({id:a,label:a,description:l,withLines:t,steps:s.map(gg(r.sources))})}selectNarrativeStep(t){if(typeof t!="number"){const r=t[0]||t;if(this.props.app.associations.narrative){const{steps:i}=this.props.app.associations.narrative,s=r.id,a=i.find(d=>d.id===s),l=i.indexOf(a);l>-1&&(t=l)}}const{narrative:n}=this.props.app.associations;if(n!==null&&t<n.steps.length&&t>=0){const r=n.steps[t];this.handleSelect([r]),this.props.actions.updateNarrativeStepIdx(t)}}onKeyDown(t){const{narrative:n,selected:r}=this.props.app,{events:i}=this.props.domain,s=l=>{n===null?this.handleSelect(i[l-1],0):this.selectNarrativeStep(this.props.narrativeIdx-1)},a=l=>{n===null?this.handleSelect(i[l+1],0):this.selectNarrativeStep(this.props.narrativeIdx+1)};if(r.length>0){const l=r[r.length-1],d=this.findEventIdx(l);switch(t.keyCode){case 37:case 38:if(d<=0)return;s(d);break;case 39:case 40:if(d<0||d>=this.props.domain.length-1)return;a(d);break}}}renderIntroPopup(t){const{app:n,actions:r}=this.props,i="rememberDismissedIntro2";let s=new URLSearchParams(window.location.href.split("?")[1]),a=localStorage.getItem(i)==="true";return(s.get("cover")==="true"||!a)&&!s.has("id")?O(HE,{title:"Introduction to the platform",theme:"dark",isOpen:n.flags.isIntropopup&&s.get("cover")!=="false",onClose:()=>{r.toggleIntroPopup(),localStorage.setItem(i,"true")},content:n.intro,styles:t}):null}render(){const{actions:t,app:n,domain:r,timeline:i,features:s}=this.props,a={};return ee("div",{children:[O(b4,{isNarrative:!!n.associations.narrative,domain:r,methods:{onTitle:t.toggleCover,onSelectFilter:l=>t.toggleAssociations("filters",l),onCategoryFilter:l=>t.toggleAssociations("categories",l),onShapeFilter:t.toggleShapes,onSelectNarrative:this.setNarrative}}),O(Q6,{kind:"map"in n?"map":"space3d",onKeyDown:this.onKeyDown,methods:{onSelectNarrative:this.setNarrative,getCategoryColor:this.getCategoryColor,onSelect:n.associations.narrative?this.selectNarrativeStep:l=>this.handleSelect(l,1)}}),O(ej,{onKeyDown:this.onKeyDown,methods:{onSelect:n.associations.narrative?this.selectNarrativeStep:l=>this.handleSelect(l,0),onUpdateTimerange:t.updateTimeRange,getCategoryColor:this.getCategoryColor}}),O(_U,{timelineDims:i.dimensions,onViewSource:this.handleViewSource,onSelect:n.associations.narrative?this.selectNarrativeStep:()=>null,onHighlight:this.handleHighlight,onToggleCardstack:()=>t.updateSelected([]),getCategoryColor:this.getCategoryColor}),O(EU,{narrative:n.associations.narrative?{...n.associations.narrative,current:this.props.narrativeIdx}:null,methods:{onNext:()=>this.selectNarrativeStep(this.props.narrativeIdx+1),onPrev:()=>this.selectNarrativeStep(this.props.narrativeIdx-1),onSelectNarrative:this.setNarrative}}),O(S4,{language:n.language,styles:a,isOpen:n.flags.isInfopopup,onClose:t.toggleInfoPopup}),this.renderIntroPopup(a),n.debug?O(E4,{isNotification:n.flags.isNotification,notifications:r.notifications,onToggle:t.markNotificationsRead}):null,s.USE_SEARCH&&O(nU,{narrative:n.narrative,queryString:n.searchQuery,events:r.events,onSearchRowClick:this.handleSelect}),n.source?O(wx,{source:n.source,onCancel:()=>{t.updateSource(null)}}):null,O(bx,{isLoading:n.loading||n.flags.isFetchingDomain,ui:n.flags.isFetchingDomain,language:n.language}),s.USE_COVER&&O(Az,{showing:n.flags.isCover,children:O(Pz,{showing:n.flags.isCover,showAppHandler:t.toggleCover})})]})}}function kU(e){return{actions:es(od,e)}}const CU=gi(e=>({...e,timeline:{dimensions:zp(e)},narrativeIdx:hE(e),narratives:tv(e),selected:nv(e)}),kU)(xU);class PU extends te.Component{render(){return O(CU,{})}}const AU=Ch.createRoot(document.getElementById("explore-app"));AU.render(O(w2,{store:M3,children:O(PU,{})}));window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0;/constructor/i.test(window.HTMLElement)||function(e){return e.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari<"u"&&safari.pushNotification);const Sk=!!document.documentMode,LU=!Sk&&!!window.StyleMedia;window.chrome&&window.chrome.webstore;(LU||Sk)&&alert("Please view this website in Opera for best viewing. It is untested in your browser.");
